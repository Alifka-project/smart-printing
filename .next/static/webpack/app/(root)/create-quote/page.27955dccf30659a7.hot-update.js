/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(root)/create-quote/page",{

/***/ "(app-pages-browser)/./app/(root)/create-quote/page.tsx":
/*!******************************************!*\
  !*** ./app/(root)/create-quote/page.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateQuotePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_create_quote_StepIndicator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/create-quote/StepIndicator */ \"(app-pages-browser)/./components/create-quote/StepIndicator.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step2CustomerChoose__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/create-quote/steps/Step2CustomerChoose */ \"(app-pages-browser)/./components/create-quote/steps/Step2CustomerChoose.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step2CustomerDetail__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/create-quote/steps/Step2CustomerDetail */ \"(app-pages-browser)/./components/create-quote/steps/Step2CustomerDetail.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step3ProductSpec__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/create-quote/steps/Step3ProductSpec */ \"(app-pages-browser)/./components/create-quote/steps/Step3ProductSpec.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/create-quote/steps/Step4Operational */ \"(app-pages-browser)/./components/create-quote/steps/Step4Operational.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _components_create_quote_steps_Step5Quotation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/create-quote/steps/Step5Quotation */ \"(app-pages-browser)/./components/create-quote/steps/Step5Quotation.tsx\");\n/* harmony import */ var _lib_quote_pdf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/quote-pdf */ \"(app-pages-browser)/./lib/quote-pdf.ts\");\n/* harmony import */ var _lib_dummy_data__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/dummy-data */ \"(app-pages-browser)/./lib/dummy-data.ts\");\n/* harmony import */ var _lib_detail_to_form__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/lib/detail-to-form */ \"(app-pages-browser)/./lib/detail-to-form.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst EMPTY_CLIENT = {\n    clientType: \"Individual\",\n    companyName: \"\",\n    contactPerson: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    countryCode: \"+971\",\n    role: \"\",\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    postalCode: \"\",\n    country: \"Dubai\",\n    additionalInfo: \"\"\n};\n// Create a separate component that uses useSearchParams\nfunction CreateQuoteContent() {\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.useSearchParams)();\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [quoteMode, setQuoteMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saveModalOpen, setSaveModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSaving, setIsSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [requiresApproval, setRequiresApproval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [approvalReason, setApprovalReason] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedQuoteId, setSelectedQuoteId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [customerSearch, setCustomerSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showCustomerList, setShowCustomerList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        client: {\n            ...EMPTY_CLIENT\n        },\n        products: [],\n        operational: {\n            papers: [],\n            finishing: [],\n            plates: null,\n            units: null,\n            impressions: null\n        },\n        calculation: {\n            basePrice: 0,\n            marginAmount: 0,\n            marginPercentage: 30,\n            subtotal: 0,\n            finalSubtotal: 0,\n            vatAmount: 0,\n            totalPrice: 0\n        }\n    });\n    // ===== NEW: state untuk Other Quantities di parent\n    const mainProduct = formData.products[0];\n    const [otherQuantities, setOtherQuantities] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            setOtherQuantities({\n                \"CreateQuoteContent.useEffect\": (prev)=>{\n                    var _mainProduct_productName;\n                    return prev.length === 0 ? prev : [\n                        {\n                            ...prev[0],\n                            productName: (_mainProduct_productName = mainProduct === null || mainProduct === void 0 ? void 0 : mainProduct.productName) !== null && _mainProduct_productName !== void 0 ? _mainProduct_productName : prev[0].productName\n                        },\n                        ...prev.slice(1)\n                    ];\n                }\n            }[\"CreateQuoteContent.useEffect\"]);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        mainProduct === null || mainProduct === void 0 ? void 0 : mainProduct.productName\n    ]);\n    // Monitor form data changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            console.log('Parent: Form data updated:', formData);\n            console.log('Parent: Client data:', formData.client);\n            console.log('Parent: Client firstName:', formData.client.firstName);\n            console.log('Parent: Client lastName:', formData.client.lastName);\n            console.log('Parent: Client contactPerson:', formData.client.contactPerson);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        formData\n    ]);\n    // Handle URL parameters for step and edit mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            const stepParam = searchParams.get('step');\n            const editParam = searchParams.get('edit');\n            if (stepParam) {\n                const stepNumber = parseInt(stepParam);\n                if (stepNumber >= 1 && stepNumber <= 5) {\n                    setCurrentStep(stepNumber);\n                }\n            }\n            if (editParam) {\n                setQuoteMode(\"existing\");\n                setSelectedQuoteId(null); // Will be set when a specific quote is selected\n            // You can load existing quote data here if needed\n            }\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        searchParams\n    ]);\n    // Memoize the products finishing check to prevent unnecessary re-renders\n    const productsFinishingCheck = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo({\n        \"CreateQuoteContent.useMemo[productsFinishingCheck]\": ()=>{\n            return formData.products.map({\n                \"CreateQuoteContent.useMemo[productsFinishingCheck]\": (product)=>({\n                        productName: product.productName,\n                        finishing: product.finishing\n                    })\n            }[\"CreateQuoteContent.useMemo[productsFinishingCheck]\"]);\n        }\n    }[\"CreateQuoteContent.useMemo[productsFinishingCheck]\"], [\n        formData.products\n    ]);\n    // NEW: Synchronize operational finishing when product finishing changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            // Get all unique finishing names from all products\n            const allFinishingNames = new Set();\n            // Safety check: ensure formData.products exists and is valid\n            if (!formData.products || !Array.isArray(formData.products) || formData.products.length === 0) {\n                console.log('ðŸ”„ Finishing synchronization skipped: no products available');\n                return;\n            }\n            formData.products.forEach({\n                \"CreateQuoteContent.useEffect\": (product)=>{\n                    if (product.finishing && Array.isArray(product.finishing)) {\n                        // Filter out any undefined or null values\n                        const validFinishing = product.finishing.filter({\n                            \"CreateQuoteContent.useEffect.validFinishing\": (f)=>f != null && f !== undefined\n                        }[\"CreateQuoteContent.useEffect.validFinishing\"]);\n                        validFinishing.forEach({\n                            \"CreateQuoteContent.useEffect\": (finishing)=>{\n                                // Handle both simple strings and \"option-side\" format\n                                if (typeof finishing === 'string') {\n                                    const baseName = finishing.includes('-') ? finishing.split('-')[0] : finishing;\n                                    allFinishingNames.add(baseName);\n                                }\n                            }\n                        }[\"CreateQuoteContent.useEffect\"]);\n                    }\n                }\n            }[\"CreateQuoteContent.useEffect\"]);\n            console.log('ðŸ”„ Finishing synchronization triggered:', {\n                productFinishing: formData.products.map({\n                    \"CreateQuoteContent.useEffect\": (p)=>p.finishing\n                }[\"CreateQuoteContent.useEffect\"]),\n                allFinishingNames: Array.from(allFinishingNames),\n                currentOperationalFinishing: formData.operational.finishing\n            });\n            // Update operational finishing to include all selected finishing options\n            setFormData({\n                \"CreateQuoteContent.useEffect\": (prev)=>{\n                    const currentOperationalFinishing = prev.operational.finishing || [];\n                    const newOperationalFinishing = [\n                        ...currentOperationalFinishing\n                    ];\n                    // Add new finishing options that don't exist yet\n                    allFinishingNames.forEach({\n                        \"CreateQuoteContent.useEffect\": (finishingName)=>{\n                            const existingFinishing = currentOperationalFinishing.find({\n                                \"CreateQuoteContent.useEffect.existingFinishing\": (f)=>f.name === finishingName\n                            }[\"CreateQuoteContent.useEffect.existingFinishing\"]);\n                            if (!existingFinishing) {\n                                // Add with default cost\n                                newOperationalFinishing.push({\n                                    name: finishingName,\n                                    cost: 0 // Default cost, user can edit in step 4\n                                });\n                            }\n                        }\n                    }[\"CreateQuoteContent.useEffect\"]);\n                    // Remove finishing options that are no longer selected by any product\n                    const filteredFinishing = newOperationalFinishing.filter({\n                        \"CreateQuoteContent.useEffect.filteredFinishing\": (finishing)=>allFinishingNames.has(finishing.name)\n                    }[\"CreateQuoteContent.useEffect.filteredFinishing\"]);\n                    console.log('âœ… Updated operational finishing:', filteredFinishing);\n                    return {\n                        ...prev,\n                        operational: {\n                            ...prev.operational,\n                            finishing: filteredFinishing\n                        }\n                    };\n                }\n            }[\"CreateQuoteContent.useEffect\"]);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        formData.products\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            var _formData_products_, _formData_additionalCosts;\n            const MARGIN_PERCENTAGE = 0.3;\n            const VAT_PERCENTAGE = 0.05;\n            // 1. Paper Costs (price per sheet Ã— entered sheets)\n            const paperCost = formData.operational.papers.reduce({\n                \"CreateQuoteContent.useEffect.paperCost\": (total, p)=>{\n                    // Manual pricing override: use direct price per sheet if provided, otherwise use packet pricing\n                    const pricePerSheet = p.pricePerSheet || (p.pricePerPacket && p.sheetsPerPacket && p.sheetsPerPacket > 0 ? p.pricePerPacket / p.sheetsPerPacket : 0);\n                    const actualSheetsNeeded = p.enteredSheets || 0;\n                    return total + pricePerSheet * actualSheetsNeeded;\n                }\n            }[\"CreateQuoteContent.useEffect.paperCost\"], 0);\n            // 2. Plates Cost (per plate, typically $25-50 per plate)\n            const PLATE_COST_PER_PLATE = 35; // Standard plate cost\n            const platesCost = (formData.operational.plates || 0) * PLATE_COST_PER_PLATE;\n            // 3. Finishing Costs (cost per unit Ã— actual units needed)\n            const actualUnitsNeeded = formData.operational.units || ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.quantity) || 0;\n            const finishingCost = formData.operational.finishing.reduce({\n                \"CreateQuoteContent.useEffect.finishingCost\": (total, f)=>{\n                    // Check if this finishing is used by any product using memoized check\n                    const isUsedByAnyProduct = productsFinishingCheck.some({\n                        \"CreateQuoteContent.useEffect.finishingCost.isUsedByAnyProduct\": (product)=>product.finishing.includes(f.name)\n                    }[\"CreateQuoteContent.useEffect.finishingCost.isUsedByAnyProduct\"]);\n                    if (isUsedByAnyProduct) {\n                        return total + (f.cost || 0) * actualUnitsNeeded;\n                    }\n                    return total;\n                }\n            }[\"CreateQuoteContent.useEffect.finishingCost\"], 0);\n            // 4. Calculate total costs with fallback for missing operational data\n            let basePrice = paperCost + platesCost + finishingCost;\n            // Fallback: If no operational data, use basic product calculation\n            if (basePrice === 0 && formData.products[0]) {\n                const product = formData.products[0];\n                const quantity = product.quantity || 0;\n                // Basic pricing based on product type and quantity\n                let basePricePerUnit = 0;\n                switch(product.productName){\n                    case 'Business Card':\n                        basePricePerUnit = 0.08; // $0.08 per card\n                        break;\n                    case 'Flyer A5':\n                        basePricePerUnit = 0.15; // $0.15 per flyer\n                        break;\n                    case 'Poster A2':\n                        basePricePerUnit = 2.50; // $2.50 per poster\n                        break;\n                    case 'Magazine':\n                        basePricePerUnit = 1.00; // $1.00 per magazine\n                        break;\n                    case 'Art Book':\n                        basePricePerUnit = 1.00; // $1.00 per book\n                        break;\n                    case 'Sticker Pack':\n                        basePricePerUnit = 0.50; // $0.50 per sticker pack\n                        break;\n                    default:\n                        basePricePerUnit = 0.10; // Default $0.10 per unit\n                }\n                basePrice = quantity * basePricePerUnit;\n            }\n            // Add additional costs to base price\n            const additionalCostsTotal = ((_formData_additionalCosts = formData.additionalCosts) === null || _formData_additionalCosts === void 0 ? void 0 : _formData_additionalCosts.reduce({\n                \"CreateQuoteContent.useEffect\": (total, cost)=>total + (cost.cost || 0)\n            }[\"CreateQuoteContent.useEffect\"], 0)) || 0;\n            const totalBasePrice = basePrice + additionalCostsTotal;\n            const marginAmount = totalBasePrice * MARGIN_PERCENTAGE;\n            const subtotal = totalBasePrice + marginAmount;\n            const vatAmount = subtotal * VAT_PERCENTAGE;\n            const totalPrice = subtotal + vatAmount;\n            console.log(\"Calculation triggered:\", {\n                paperCost,\n                platesCost,\n                finishingCost,\n                basePrice,\n                marginAmount,\n                subtotal,\n                vatAmount,\n                totalPrice,\n                productsFinishingCheck,\n                actualUnitsNeeded\n            });\n            setFormData({\n                \"CreateQuoteContent.useEffect\": (prev)=>({\n                        ...prev,\n                        calculation: {\n                            basePrice: totalBasePrice,\n                            marginAmount,\n                            marginPercentage: MARGIN_PERCENTAGE * 100,\n                            subtotal,\n                            finalSubtotal: subtotal,\n                            vatAmount,\n                            totalPrice\n                        }\n                    })\n            }[\"CreateQuoteContent.useEffect\"]);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        formData.operational.papers,\n        formData.operational.plates,\n        formData.operational.units,\n        formData.operational.finishing,\n        formData.additionalCosts,\n        productsFinishingCheck,\n        formData.products\n    ]);\n    const nextStep = ()=>setCurrentStep((s)=>Math.min(5, s + 1));\n    const prevStep = ()=>setCurrentStep((s)=>Math.max(1, s - 1));\n    // Scroll to top whenever step changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            // Scroll to top immediately and smoothly\n            window.scrollTo({\n                top: 0,\n                behavior: 'smooth'\n            });\n            // Also ensure the main container is at the top\n            const mainContainer = document.querySelector('.min-h-screen');\n            if (mainContainer) {\n                mainContainer.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n            }\n            // Remove focus from any auto-focused elements to prevent scroll\n            const activeElement = document.activeElement;\n            if (activeElement && activeElement.blur) {\n                activeElement.blur();\n            }\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        currentStep\n    ]);\n    // Add validation functions for Next button\n    const canProceedFromStep1 = ()=>{\n        return quoteMode !== null; // User must select either new or existing quote mode\n    };\n    const canProceedFromStep2 = ()=>{\n        if (quoteMode === \"new\") {\n            // For new quote mode, validate all essential fields including new ones\n            const client = formData.client;\n            // Basic required fields\n            const essentialFields = [\n                client.firstName,\n                client.email,\n                client.phone // Phone is required\n            ];\n            // Add company-specific required fields only if company type\n            if (client.clientType === \"Company\") {\n                essentialFields.push(client.companyName);\n            }\n            // Check if basic fields are filled\n            const basicFieldsValid = essentialFields.every((field)=>field && field.trim() !== \"\");\n            // Check TRN requirement (either TRN filled or \"No TRN\" selected)\n            const trnValid = client.hasNoTrn || client.trn && client.trn.trim() !== \"\";\n            // Check Area requirement\n            const areaValid = client.area && client.area.trim() !== \"\";\n            // Check State and Country (should have defaults)\n            const stateValid = client.state && client.state.trim() !== \"\";\n            const countryValid = client.country && client.country.trim() !== \"\";\n            return basicFieldsValid && trnValid && areaValid && stateValid && countryValid;\n        } else if (quoteMode === \"existing\") {\n            // For existing quote mode, we need to select an actual existing quote\n            return selectedQuoteId !== null; // Must have selected a specific quote to edit\n        }\n        return false;\n    };\n    const canProceedFromStep3 = ()=>{\n        // For existing quotes, we need to check if a quote is selected first\n        if (quoteMode === \"existing\" && !selectedQuoteId) {\n            console.log('ðŸ” Step 3 Validation: No quote selected for existing mode');\n            return false;\n        }\n        // Validate that at least one product has been configured with a paper\n        if (!formData.products || formData.products.length === 0) {\n            console.log('ðŸ” Step 3 Validation: No products found');\n            return false;\n        }\n        // Debug: Log all products and their papers\n        console.log('ðŸ” Step 3 Validation Debug:', {\n            quoteMode,\n            selectedQuoteId,\n            productsCount: formData.products.length,\n            products: formData.products.map((product, index)=>{\n                var _product_papers, _product_papers1;\n                return {\n                    index,\n                    productName: product.productName,\n                    papersCount: ((_product_papers = product.papers) === null || _product_papers === void 0 ? void 0 : _product_papers.length) || 0,\n                    papers: ((_product_papers1 = product.papers) === null || _product_papers1 === void 0 ? void 0 : _product_papers1.map((paper, pIndex)=>({\n                            pIndex,\n                            name: paper.name,\n                            gsm: paper.gsm,\n                            isValid: paper.name && paper.name !== \"Select Paper\" && paper.name.trim() !== \"\"\n                        }))) || []\n                };\n            })\n        });\n        // Check if any product has a valid paper selected (not \"Select Paper\")\n        const hasValidPaper = formData.products.some((product)=>product.papers && product.papers.length > 0 && product.papers.some((paper)=>paper.name && paper.name !== \"Select Paper\" && paper.name.trim() !== \"\"));\n        console.log('ðŸ” Step 3 Validation Result:', hasValidPaper);\n        return hasValidPaper;\n    };\n    const isNextButtonDisabled = ()=>{\n        if (currentStep === 1) {\n            const disabled = !canProceedFromStep1();\n            console.log('ðŸ” Next Button - Step 1:', disabled);\n            return disabled;\n        } else if (currentStep === 2) {\n            const disabled = !canProceedFromStep2();\n            console.log('ðŸ” Next Button - Step 2:', disabled);\n            return disabled;\n        } else if (currentStep === 3) {\n            const disabled = !canProceedFromStep3();\n            console.log('ðŸ” Next Button - Step 3:', disabled);\n            return disabled;\n        }\n        console.log('ðŸ” Next Button - Other step:', false);\n        return false;\n    };\n    const handleStartNew = ()=>{\n        console.log('Starting new quote - resetting all data');\n        // Create a completely clean client object\n        const cleanClient = {\n            clientType: \"Company\",\n            companyName: \"\",\n            contactPerson: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            emails: JSON.stringify([\n                \"\"\n            ]),\n            phone: \"\",\n            countryCode: \"+971\",\n            role: \"\",\n            trn: \"\",\n            hasNoTrn: false,\n            address: \"\",\n            city: \"\",\n            area: \"\",\n            state: \"Dubai\",\n            postalCode: \"\",\n            country: \"UAE\",\n            additionalInfo: \"\"\n        };\n        console.log('Clean client object created:', cleanClient);\n        // Reset form data completely\n        setFormData((prev)=>{\n            const newFormData = {\n                ...prev,\n                client: cleanClient,\n                // Start with completely empty products array for new quotes\n                products: []\n            };\n            console.log('New form data set:', newFormData);\n            return newFormData;\n        });\n        // Reset all customer-related state\n        setQuoteMode(\"new\");\n        setSelectedQuoteId(null);\n        setSelectedCustomer(null);\n        // Don't auto-navigate - just set the mode for selection\n        console.log('New quote mode selected - ready for next step');\n    };\n    const handleSelectQuote = (q)=>{\n        const detail = _lib_dummy_data__WEBPACK_IMPORTED_MODULE_13__.QUOTE_DETAILS[q.id];\n        if (!detail) return;\n        setFormData((prev)=>(0,_lib_detail_to_form__WEBPACK_IMPORTED_MODULE_14__.detailToForm)(detail, prev));\n        setQuoteMode(\"existing\");\n        setSelectedQuoteId(q.id); // Set the selected quote ID for updating\n    // Don't auto-navigate - just set the mode for selection\n    };\n    const handleSelectCustomer = (customer)=>{\n        setSelectedCustomer(customer);\n        setFormData((prev)=>({\n                ...prev,\n                client: {\n                    clientType: customer.clientType,\n                    companyName: customer.companyName || '',\n                    contactPerson: customer.contactPerson,\n                    email: customer.email,\n                    phone: customer.phone,\n                    countryCode: customer.countryCode,\n                    role: customer.role || '',\n                    address: customer.address || '',\n                    city: customer.city || '',\n                    state: customer.state || '',\n                    postalCode: customer.postalCode || '',\n                    country: customer.country || '',\n                    additionalInfo: customer.additionalInfo || ''\n                }\n            }));\n    };\n    const handleEditCustomer = (customer)=>{\n        // Handle editing customer - for now just select it\n        handleSelectCustomer(customer);\n    };\n    const handleCustomerSelect = async (customer)=>{\n        setSelectedCustomer({\n            id: customer.id,\n            clientType: customer.clientType || 'Individual',\n            companyName: customer.companyName || null,\n            contactPerson: customer.contactPerson,\n            email: customer.email,\n            phone: customer.phone || '',\n            countryCode: customer.countryCode || '',\n            role: customer.role || null,\n            address: customer.address || '',\n            city: customer.city || '',\n            state: customer.state || '',\n            postalCode: customer.postalCode || '',\n            country: customer.country || '',\n            additionalInfo: customer.additionalInfo || ''\n        });\n        // Ensure phone has a value - if empty, use a default\n        const phoneValue = customer.phone && customer.phone.trim() !== '' ? customer.phone : '0000000000';\n        console.log('=== AUTO-FILLING CLIENT DATA ===');\n        console.log('Customer data received:', customer);\n        console.log('Phone value:', phoneValue);\n        console.log('Email value:', customer.email);\n        setFormData((prev)=>({\n                ...prev,\n                client: {\n                    clientType: customer.clientType || 'Individual',\n                    companyName: customer.companyName || '',\n                    contactPerson: customer.contactPerson,\n                    email: customer.email,\n                    phone: phoneValue,\n                    countryCode: customer.countryCode || '+971',\n                    role: customer.role || '',\n                    address: customer.address || '',\n                    city: customer.city || '',\n                    state: customer.state || '',\n                    postalCode: customer.postalCode || '',\n                    country: customer.country || '',\n                    additionalInfo: customer.additionalInfo || ''\n                }\n            }));\n        console.log('Form data updated with client info');\n        // Auto-fill Step 3 data if customer has previous quotes\n        try {\n            // Use the existing quotes endpoint and filter by client ID\n            const quotesResponse = await fetch('/api/quotes');\n            if (!quotesResponse.ok) {\n                throw new Error('Failed to fetch quotes for autofill');\n            }\n            const allQuotes = await quotesResponse.json();\n            const clientQuotes = allQuotes.filter((quote)=>quote.clientId === customer.id);\n            if (clientQuotes.length > 0) {\n                // Group quotes by quoteId to get quote groups (a quote can have multiple products)\n                const quoteGroups = clientQuotes.reduce((groups, quote)=>{\n                    if (!groups[quote.quoteId]) {\n                        groups[quote.quoteId] = [];\n                    }\n                    groups[quote.quoteId].push(quote);\n                    return groups;\n                }, {});\n                // Get the most recent quote group (by date)\n                const latestQuoteId = Object.keys(quoteGroups).sort((a, b)=>{\n                    const dateA = new Date(quoteGroups[a][0].date);\n                    const dateB = new Date(quoteGroups[b][0].date);\n                    return dateB.getTime() - dateA.getTime();\n                })[0];\n                const latestQuotes = quoteGroups[latestQuoteId];\n                console.log('Latest quotes for autofill:', latestQuotes);\n                // Convert database quotes to products - consolidate all papers into one product\n                // Since all quotes in latestQuotes have the same quoteId, they represent one product with multiple papers\n                const firstQuote = latestQuotes[0];\n                // Parse colors if they exist\n                let colors;\n                if (firstQuote.colors) {\n                    try {\n                        colors = JSON.parse(firstQuote.colors);\n                    } catch (e) {\n                        console.warn('Failed to parse colors JSON:', firstQuote.colors);\n                    }\n                }\n                // Collect all papers from all quotes in this group\n                let allPapers = [];\n                latestQuotes.forEach((quote)=>{\n                    if (quote.papers && Array.isArray(quote.papers) && quote.papers.length > 0) {\n                        quote.papers.forEach((p)=>{\n                            // Try to find the best matching paper name from the database\n                            let paperName = p.name || 'Standard Paper';\n                            let paperGsm = p.gsm || '150';\n                            // Ensure we never have empty strings\n                            if (!paperName || paperName.trim() === '') {\n                                paperName = 'Standard Paper';\n                            }\n                            // Convert paperGsm to string and ensure it's not empty\n                            if (!paperGsm || String(paperGsm).trim() === '') {\n                                paperGsm = '150';\n                            }\n                            console.log(\"Processing paper: \".concat(paperName, \" with GSM: \").concat(paperGsm));\n                            // Store the clean paper name without any suffixes for better matching\n                            const cleanPaperName = paperName.replace(/\\s*\\(Custom\\)$/, '').trim();\n                            // Check if this paper is already added (avoid duplicates)\n                            const existingPaper = allPapers.find((ap)=>ap.name === cleanPaperName && ap.gsm === paperGsm);\n                            if (!existingPaper) {\n                                allPapers.push({\n                                    name: cleanPaperName,\n                                    gsm: paperGsm\n                                });\n                            }\n                        });\n                    }\n                });\n                // If no papers found, use default\n                if (allPapers.length === 0) {\n                    allPapers = [\n                        {\n                            name: 'Standard Paper',\n                            gsm: '150'\n                        }\n                    ];\n                }\n                console.log('Final consolidated papers array:', allPapers);\n                console.log('Paper names being stored:', allPapers.map((p)=>p.name));\n                // Collect all finishing from all quotes in this group\n                let allFinishing = [];\n                console.log('ðŸ” FINISHING DEBUG - Processing finishing from quotes...');\n                latestQuotes.forEach((quote)=>{\n                    console.log(\"\\uD83D\\uDD0D FINISHING DEBUG - Quote \".concat(quote.quoteId, \" finishing:\"), quote.finishing);\n                    if (quote.finishing && Array.isArray(quote.finishing) && quote.finishing.length > 0) {\n                        quote.finishing.forEach((f)=>{\n                            // Handle both string format (from API) and object format (from database)\n                            const finishingName = typeof f === 'string' ? f : f.name || f;\n                            console.log(\"\\uD83D\\uDD0D FINISHING DEBUG - Processing finishing item:\", f, '-> name:', finishingName);\n                            if (finishingName && !allFinishing.includes(finishingName)) {\n                                // Normalize finishing name to match Step 3 options (capitalize first letter)\n                                const normalizedName = finishingName.charAt(0).toUpperCase() + finishingName.slice(1).toLowerCase();\n                                console.log(\"\\uD83D\\uDD0D FINISHING DEBUG - Normalized name: \".concat(finishingName, \" -> \").concat(normalizedName));\n                                // Format finishing name based on sides\n                                if (firstQuote.sides === '2') {\n                                    // For double-sided, add both front and back options\n                                    allFinishing.push(\"\".concat(normalizedName, \"-Front\"));\n                                    allFinishing.push(\"\".concat(normalizedName, \"-Back\"));\n                                } else {\n                                    // For single-sided, just add the name\n                                    allFinishing.push(normalizedName);\n                                }\n                            }\n                        });\n                    }\n                });\n                console.log('ðŸ” FINISHING DEBUG - Final allFinishing array:', allFinishing);\n                console.log(\"Processing quote group \".concat(latestQuoteId, \":\"), {\n                    totalQuotes: latestQuotes.length,\n                    papers: allPapers,\n                    finishing: allFinishing,\n                    sides: firstQuote.sides,\n                    rawFinishingFromDB: latestQuotes.map((q)=>q.finishing)\n                });\n                // Create one product with all papers and finishing\n                const product = {\n                    productName: firstQuote.productName || firstQuote.product || 'Business Card',\n                    quantity: firstQuote.quantity,\n                    sides: firstQuote.sides === '1' || firstQuote.sides === '2' ? firstQuote.sides : '1',\n                    printingSelection: firstQuote.printingSelection || firstQuote.printing || 'Digital',\n                    flatSize: {\n                        width: firstQuote.flatSizeWidth || 0,\n                        height: firstQuote.flatSizeHeight || 0,\n                        spine: firstQuote.flatSizeSpine || null\n                    },\n                    closeSize: {\n                        width: firstQuote.closeSizeWidth || 0,\n                        height: firstQuote.closeSizeHeight || 0,\n                        spine: firstQuote.closeSizeSpine || null\n                    },\n                    useSameAsFlat: firstQuote.useSameAsFlat || false,\n                    papers: allPapers,\n                    // Ensure finishing array only contains valid strings\n                    finishing: allFinishing.filter((f)=>typeof f === 'string' && f.trim() !== ''),\n                    colors\n                };\n                const products = [\n                    {\n                        ...product,\n                        paperName: product.papers && product.papers.length > 0 ? product.papers[0].name : \"Standard Paper\"\n                    }\n                ];\n                // Update form data with all products\n                setFormData((prev)=>{\n                    const newFormData = {\n                        ...prev,\n                        products\n                    };\n                    console.log('Updating form data with autofilled products:', newFormData);\n                    console.log('ðŸ” FINISHING DEBUG - Product finishing array:', newFormData.products[0].finishing);\n                    console.log('ðŸ” FINISHING DEBUG - Product sides:', newFormData.products[0].sides);\n                    return newFormData;\n                });\n                console.log(\"Auto-filled \".concat(products.length, \" products from customer's previous quote:\"), products);\n            }\n        } catch (error) {\n            console.error('Error auto-filling quote data:', error);\n        }\n    };\n    // Function to map saved color descriptions to dropdown options\n    const mapColorToDropdownOption = (colorDesc)=>{\n        if (!colorDesc) return \"\";\n        const desc = colorDesc.toLowerCase();\n        // Map specific color descriptions to dropdown options\n        if (desc.includes(\"4/4 cmyk\") && desc.includes(\"2 pms\")) {\n            return \"4+2 Colors\";\n        } else if (desc.includes(\"4/4 cmyk\") && desc.includes(\"1 pms\")) {\n            return \"4+1 Colors\";\n        } else if (desc.includes(\"4/4 cmyk\") || desc.includes(\"4/4\")) {\n            return \"4 Colors (CMYK)\";\n        } else if (desc.includes(\"4/0 cmyk\") && desc.includes(\"2 pms\")) {\n            return \"4+2 Colors\";\n        } else if (desc.includes(\"4/0 cmyk\") && desc.includes(\"1 pms\")) {\n            return \"4+1 Colors\";\n        } else if (desc.includes(\"4/0 cmyk\") || desc.includes(\"4/0\")) {\n            return \"4 Colors (CMYK)\";\n        } else if (desc.includes(\"3 colors\") || desc.includes(\"3\")) {\n            return \"3 Colors\";\n        } else if (desc.includes(\"2 colors\") || desc.includes(\"2\")) {\n            return \"2 Colors\";\n        } else if (desc.includes(\"1 color\") || desc.includes(\"1\")) {\n            return \"1 Color\";\n        }\n        // Default fallback\n        return \"4 Colors (CMYK)\";\n    };\n    // Handle quote selection for editing existing quotes\n    const handleQuoteSelect = (quote)=>{\n        var _quote_finishing;\n        console.log('ðŸŽ¯ Quote selected for editing:', quote);\n        console.log('ðŸ” Quote finishing data:', quote.finishing);\n        console.log('ðŸ” Quote finishing type:', typeof quote.finishing);\n        console.log('ðŸ” Quote finishing length:', (_quote_finishing = quote.finishing) === null || _quote_finishing === void 0 ? void 0 : _quote_finishing.length);\n        // Set the selected quote ID for editing\n        setSelectedQuoteId(quote.id);\n        // Also set the customer data\n        handleCustomerSelect(quote.client);\n        // Update form data with the quote's complete product information\n        if (quote.product) {\n            var _quote_colors, _quote_colors1;\n            // Determine appropriate sizes based on product type\n            let defaultFlatSize = {\n                width: 9,\n                height: 5.5,\n                spine: 0\n            };\n            let defaultCloseSize = {\n                width: 9,\n                height: 5.5,\n                spine: 0\n            };\n            // Set appropriate default sizes for different product types\n            switch(quote.product.toLowerCase()){\n                case 'book':\n                case 'catalog':\n                case 'annual report':\n                case 'technical manual':\n                    defaultFlatSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0.5\n                    };\n                    defaultCloseSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0.5\n                    };\n                    break;\n                case 'brochure':\n                case 'flyer a5':\n                    defaultFlatSize = {\n                        width: 8.27,\n                        height: 11.69,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 4.13,\n                        height: 11.69,\n                        spine: 0\n                    };\n                    break;\n                case 'poster':\n                    defaultFlatSize = {\n                        width: 18,\n                        height: 24,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 18,\n                        height: 24,\n                        spine: 0\n                    };\n                    break;\n                case 'business card':\n                case 'business cards':\n                    defaultFlatSize = {\n                        width: 3.5,\n                        height: 2,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 3.5,\n                        height: 2,\n                        spine: 0\n                    };\n                    break;\n                case 'letterhead':\n                    defaultFlatSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0\n                    };\n                    break;\n                default:\n                    defaultFlatSize = {\n                        width: 9,\n                        height: 5.5,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 9,\n                        height: 5.5,\n                        spine: 0\n                    };\n            }\n            // Map saved colors to dropdown options\n            const mappedFrontColor = mapColorToDropdownOption((_quote_colors = quote.colors) === null || _quote_colors === void 0 ? void 0 : _quote_colors.front);\n            const mappedBackColor = mapColorToDropdownOption((_quote_colors1 = quote.colors) === null || _quote_colors1 === void 0 ? void 0 : _quote_colors1.back);\n            setFormData((prev)=>({\n                    ...prev,\n                    products: [\n                        {\n                            productName: quote.product || \"Printing Product\",\n                            paperName: quote.papers && quote.papers.length > 0 ? quote.papers[0].name : \"Standard Paper\",\n                            quantity: quote.quantity || 100,\n                            sides: quote.sides || \"1\",\n                            printingSelection: quote.printing || \"Digital\",\n                            flatSize: defaultFlatSize,\n                            closeSize: defaultCloseSize,\n                            useSameAsFlat: true,\n                            papers: quote.papers && quote.papers.length > 0 ? quote.papers.map((p)=>({\n                                    name: p.name,\n                                    gsm: p.gsm\n                                })) : [\n                                {\n                                    name: \"Standard Paper\",\n                                    gsm: \"150\"\n                                }\n                            ],\n                            finishing: (()=>{\n                                console.log('ðŸ”„ Processing finishing data...');\n                                console.log('  Original quote.finishing:', quote.finishing);\n                                if (!quote.finishing || !Array.isArray(quote.finishing) || quote.finishing.length === 0) {\n                                    console.log('  âŒ No finishing data or invalid format');\n                                    return [];\n                                }\n                                // Simply extract the finishing names - no side logic needed\n                                const mappedFinishing = quote.finishing.map((f)=>{\n                                    console.log(\"  Processing finishing item: \".concat(f.name));\n                                    return f.name;\n                                });\n                                console.log('  âœ… Final mapped finishing:', mappedFinishing);\n                                return mappedFinishing;\n                            })(),\n                            colors: {\n                                front: mappedFrontColor,\n                                back: mappedBackColor\n                            }\n                        }\n                    ]\n                }));\n            // Immediately ensure finishing data is loaded\n            ensureFinishingDataLoaded(quote);\n            console.log('ðŸ“‹ Form data updated with selected quote:', {\n                product: quote.product,\n                quantity: quote.quantity,\n                sides: quote.sides,\n                printing: quote.printing,\n                papers: quote.papers,\n                originalFinishing: quote.finishing,\n                colors: {\n                    front: mappedFrontColor,\n                    back: mappedBackColor\n                }\n            });\n            // Log the actual formData state after update\n            setTimeout(()=>{\n                console.log('ðŸ”„ FormData state after update:', formData);\n                console.log('ðŸŽ¯ Products array:', formData.products);\n                if (formData.products && formData.products.length > 0) {\n                    console.log('ðŸŽ¯ First product finishing:', formData.products[0].finishing);\n                    console.log('ðŸŽ¯ First product finishing type:', typeof formData.products[0].finishing);\n                    console.log('ðŸŽ¯ First product finishing isArray:', Array.isArray(formData.products[0].finishing));\n                }\n            }, 100);\n            // Force a re-render by updating the formData again\n            setTimeout(()=>{\n                console.log('ðŸ”„ Forcing re-render...');\n                setFormData((prevData)=>({\n                        ...prevData,\n                        products: prevData.products.map((p, idx)=>idx === 0 ? {\n                                ...p,\n                                finishing: p.finishing\n                            } : p)\n                    }));\n            }, 200);\n            // Additional fix: Ensure finishing data is properly loaded\n            setTimeout(()=>{\n                console.log('ðŸ”§ Additional finishing data fix...');\n                ensureFinishingDataLoaded(quote);\n            }, 300);\n        }\n    };\n    // Helper function to ensure finishing data is properly loaded\n    const ensureFinishingDataLoaded = (quote)=>{\n        console.log('ðŸ”§ Ensuring finishing data is loaded...');\n        if (quote.finishing && Array.isArray(quote.finishing) && quote.finishing.length > 0) {\n            const finishingNames = quote.finishing.map((f)=>f.name);\n            console.log('ðŸ”§ Setting finishing names:', finishingNames);\n            setFormData((prevData)=>({\n                    ...prevData,\n                    products: prevData.products.map((p, idx)=>idx === 0 ? {\n                            ...p,\n                            finishing: finishingNames\n                        } : p)\n                }));\n            return true;\n        }\n        return false;\n    };\n    // Get current user ID - use a valid user from the database\n    const getCurrentUserId = async ()=>{\n        try {\n            // Try to get the first available user from the database\n            const response = await fetch('/api/users');\n            if (response.ok) {\n                const users = await response.json();\n                if (users.length > 0) {\n                    // Use the first available user (usually admin)\n                    return users[0].id;\n                }\n            }\n        } catch (error) {\n            console.error('Error fetching users:', error);\n        }\n        // Fallback to a valid user ID if API fails\n        return 'cmekd5dtw0000x5kp7xvqz8w9'; // admin@example.com\n    };\n    // Validate form data before allowing save\n    const validateFormData = ()=>{\n        const errors = [];\n        // Debug: Log the current form data\n        console.log('Validating form data:', {\n            client: formData.client,\n            contactPerson: formData.client.contactPerson,\n            firstName: formData.client.firstName,\n            lastName: formData.client.lastName,\n            email: formData.client.email,\n            phone: formData.client.phone\n        });\n        // Check if client information is complete\n        if (!formData.client.email || !formData.client.phone) {\n            errors.push(\"Client email and phone are required\");\n        }\n        if (formData.client.clientType === \"Company\" && !formData.client.companyName) {\n            errors.push(\"Company name is required for company clients\");\n        }\n        // Check if we have either contactPerson OR both firstName and lastName\n        const hasContactPerson = formData.client.contactPerson && formData.client.contactPerson.trim() !== '';\n        const hasFullName = formData.client.firstName && formData.client.firstName.trim() !== '' && formData.client.lastName && formData.client.lastName.trim() !== '';\n        if (!hasContactPerson && !hasFullName) {\n            errors.push(\"Contact person name is required (or first name and last name)\");\n        }\n        // Address fields are optional but if provided, should be complete\n        const hasPartialAddress = formData.client.address || formData.client.city || formData.client.state || formData.client.postalCode || formData.client.country;\n        const hasCompleteAddress = formData.client.address && formData.client.city && formData.client.state && formData.client.postalCode && formData.client.country;\n        if (hasPartialAddress && !hasCompleteAddress) {\n            console.warn('Partial address provided - some address fields are missing');\n        // Don't throw error, just warn - address is optional\n        }\n        // Check if products exist and have required information\n        if (formData.products.length === 0) {\n            errors.push(\"At least one product must be added\");\n        }\n        formData.products.forEach((product, index)=>{\n            if (!product.productName || !product.quantity) {\n                errors.push(\"Product \".concat(index + 1, \" must have a name and quantity\"));\n            }\n        });\n        if (errors.length > 0) {\n            alert(\"Please fix the following issues:\\n\".concat(errors.join('\\n')));\n            return false;\n        }\n        return true;\n    };\n    // Validate and clean quote data before sending to database\n    const validateAndCleanQuoteData = (data)=>{\n        // Create a clean copy of the data to avoid mutating the original\n        const cleanedData = {\n            ...data\n        };\n        // Ensure papers array has valid objects\n        if (cleanedData.papers) {\n            // Handle nested papers structure (papers.create)\n            if (cleanedData.papers.create && Array.isArray(cleanedData.papers.create)) {\n                cleanedData.papers = cleanedData.papers.create.map((paper)=>({\n                        name: paper.name || \"Standard Paper\",\n                        gsm: paper.gsm ? String(paper.gsm) : \"150\",\n                        inputWidth: paper.inputWidth ? Number(paper.inputWidth) : null,\n                        inputHeight: paper.inputHeight ? Number(paper.inputHeight) : null,\n                        pricePerPacket: paper.pricePerPacket ? Number(paper.pricePerPacket) : null,\n                        pricePerSheet: paper.pricePerSheet ? Number(paper.pricePerSheet) : null,\n                        sheetsPerPacket: paper.sheetsPerPacket ? Number(paper.sheetsPerPacket) : null,\n                        recommendedSheets: paper.recommendedSheets ? Number(paper.recommendedSheets) : null,\n                        enteredSheets: paper.enteredSheets ? Number(paper.enteredSheets) : null,\n                        outputWidth: paper.outputWidth ? Number(paper.outputWidth) : null,\n                        outputHeight: paper.outputHeight ? Number(paper.outputHeight) : null,\n                        selectedColors: paper.selectedColors ? String(paper.selectedColors) : null\n                    }));\n            } else if (Array.isArray(cleanedData.papers)) {\n                // Handle flat papers structure\n                cleanedData.papers = cleanedData.papers.map((paper)=>({\n                        name: paper.name || \"Standard Paper\",\n                        gsm: paper.gsm ? String(paper.gsm) : \"150\",\n                        inputWidth: paper.inputWidth ? Number(paper.inputWidth) : null,\n                        inputHeight: paper.inputHeight ? Number(paper.inputHeight) : null,\n                        pricePerPacket: paper.pricePerPacket ? Number(paper.pricePerPacket) : null,\n                        pricePerSheet: paper.pricePerSheet ? Number(paper.pricePerSheet) : null,\n                        sheetsPerPacket: paper.sheetsPerPacket ? Number(paper.sheetsPerPacket) : null,\n                        recommendedSheets: paper.recommendedSheets ? Number(paper.recommendedSheets) : null,\n                        enteredSheets: paper.enteredSheets ? Number(paper.enteredSheets) : null,\n                        outputWidth: paper.outputWidth ? Number(paper.outputWidth) : null,\n                        outputHeight: paper.outputHeight ? Number(paper.outputHeight) : null,\n                        selectedColors: paper.selectedColors ? String(paper.selectedColors) : null\n                    }));\n            }\n        }\n        // Ensure finishing array has valid objects\n        if (cleanedData.finishing) {\n            // Handle nested finishing structure (finishing.create)\n            if (cleanedData.finishing.create && Array.isArray(cleanedData.finishing.create)) {\n                cleanedData.finishing = cleanedData.finishing.create.map((finish)=>({\n                        name: finish.name || \"Standard Finishing\",\n                        cost: finish.cost ? Number(finish.cost) : 0\n                    }));\n            } else if (Array.isArray(cleanedData.finishing)) {\n                // Handle flat finishing structure\n                cleanedData.finishing = cleanedData.finishing.map((finish)=>({\n                        name: finish.name || \"Standard Finishing\",\n                        cost: finish.cost ? Number(finish.cost) : 0\n                    }));\n            }\n        }\n        // Ensure amounts object has valid numbers\n        if (cleanedData.amounts) {\n            // Handle nested amounts structure (amounts.create)\n            if (cleanedData.amounts.create) {\n                cleanedData.amounts = {\n                    base: Number(cleanedData.amounts.create.base) || 0,\n                    vat: Number(cleanedData.amounts.create.vat) || 0,\n                    total: Number(cleanedData.amounts.create.total) || 0\n                };\n            } else {\n                // Handle flat amounts structure\n                cleanedData.amounts = {\n                    base: Number(cleanedData.amounts.base) || 0,\n                    vat: Number(cleanedData.amounts.vat) || 0,\n                    total: Number(cleanedData.amounts.total) || 0\n                };\n            }\n        }\n        // Ensure operational data has valid values\n        if (cleanedData.operational) {\n            // Handle nested operational structure (operational.create)\n            if (cleanedData.operational.create) {\n                cleanedData.operational = {\n                    plates: cleanedData.operational.create.plates ? Number(cleanedData.operational.create.plates) : null,\n                    units: cleanedData.operational.create.units ? Number(cleanedData.operational.create.units) : null\n                };\n            } else {\n                // Handle flat operational structure\n                cleanedData.operational = {\n                    plates: cleanedData.operational.plates ? Number(cleanedData.operational.plates) : null,\n                    units: cleanedData.operational.units ? Number(cleanedData.operational.units) : null\n                };\n            }\n        }\n        // Ensure essential fields are preserved and valid\n        if (cleanedData.date) {\n            cleanedData.date = new Date(cleanedData.date);\n        }\n        if (cleanedData.status) {\n            cleanedData.status = String(cleanedData.status);\n        }\n        if (cleanedData.clientId) {\n            cleanedData.clientId = String(cleanedData.clientId);\n        }\n        if (cleanedData.userId) {\n            cleanedData.userId = String(cleanedData.userId);\n        }\n        if (cleanedData.salesPersonId) {\n            cleanedData.salesPersonId = String(cleanedData.salesPersonId);\n        }\n        if (cleanedData.product) {\n            cleanedData.product = String(cleanedData.product);\n        }\n        if (cleanedData.quantity) {\n            cleanedData.quantity = Number(cleanedData.quantity) || 0;\n        }\n        if (cleanedData.sides) {\n            cleanedData.sides = String(cleanedData.sides);\n        }\n        if (cleanedData.printing) {\n            cleanedData.printing = String(cleanedData.printing);\n        }\n        if (cleanedData.quoteId) {\n            cleanedData.quoteId = String(cleanedData.quoteId);\n        }\n        // Handle colors field - convert object to string if needed\n        if (cleanedData.colors && typeof cleanedData.colors === 'object') {\n            // If colors is an object with front/back properties, convert to JSON string\n            cleanedData.colors = JSON.stringify(cleanedData.colors);\n        } else if (cleanedData.colors) {\n            cleanedData.colors = String(cleanedData.colors);\n        }\n        return cleanedData;\n    };\n    const handleSaveQuote = async function() {\n        let isUpdate = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        setIsSaving(true);\n        try {\n            var _formData_products_, _formData_products_1, _formData_products_2, _formData_products_3;\n            // Debug: Log the current form data before processing\n            console.log('=== QUOTE CREATION DEBUG ===');\n            console.log('Current formData.client:', formData.client);\n            console.log('Current selectedCustomer:', selectedCustomer);\n            console.log('Current quoteMode:', quoteMode);\n            console.log('Current selectedQuoteId:', selectedQuoteId);\n            // Force synchronize form data - ensure all fields are properly set\n            let needsFormUpdate = false;\n            const updatedClient = {\n                ...formData.client\n            };\n            // Ensure all required fields have at least empty strings instead of undefined\n            if (updatedClient.email === undefined) {\n                updatedClient.email = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.phone === undefined) {\n                updatedClient.phone = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.contactPerson === undefined) {\n                updatedClient.contactPerson = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.address === undefined) {\n                updatedClient.address = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.city === undefined) {\n                updatedClient.city = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.state === undefined) {\n                updatedClient.state = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.postalCode === undefined) {\n                updatedClient.postalCode = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.country === undefined) {\n                updatedClient.country = '';\n                needsFormUpdate = true;\n            }\n            // Ensure contactPerson is set if firstName and lastName are available\n            if (!updatedClient.contactPerson && (updatedClient.firstName || updatedClient.lastName)) {\n                const contactPerson = \"\".concat(updatedClient.firstName || '', \" \").concat(updatedClient.lastName || '').trim();\n                updatedClient.contactPerson = contactPerson;\n                needsFormUpdate = true;\n                console.log('Auto-setting contactPerson:', contactPerson);\n            }\n            // Update form data if needed\n            if (needsFormUpdate) {\n                setFormData((prev)=>({\n                        ...prev,\n                        client: updatedClient\n                    }));\n                console.log('Updated form data with synchronized client info:', updatedClient);\n            }\n            // Use the updated client data for validation\n            // If we have a selectedCustomer (existing customer), use that data for validation\n            let clientToValidate = needsFormUpdate ? updatedClient : formData.client;\n            // If using existing customer mode and we have selectedCustomer data, use that for validation\n            if (quoteMode === \"existing\" && selectedCustomer) {\n                console.log('=== SELECTED CUSTOMER DEBUG ===');\n                console.log('selectedCustomer object:', selectedCustomer);\n                console.log('selectedCustomer.email:', selectedCustomer.email);\n                console.log('selectedCustomer.phone:', selectedCustomer.phone);\n                console.log('selectedCustomer.contactPerson:', selectedCustomer.contactPerson);\n                // For existing customers, use the selectedCustomer data directly for validation\n                clientToValidate = {\n                    ...clientToValidate,\n                    email: selectedCustomer.email,\n                    phone: selectedCustomer.phone || '',\n                    contactPerson: selectedCustomer.contactPerson,\n                    clientType: selectedCustomer.clientType,\n                    companyName: selectedCustomer.companyName || '',\n                    role: selectedCustomer.role || '',\n                    address: selectedCustomer.address || '',\n                    city: selectedCustomer.city || '',\n                    state: selectedCustomer.state || '',\n                    postalCode: selectedCustomer.postalCode || '',\n                    country: selectedCustomer.country || '',\n                    countryCode: selectedCustomer.countryCode || '+971'\n                };\n                console.log('Using selectedCustomer data for validation:', clientToValidate);\n            }\n            // Debug: Log the client data being validated\n            console.log('=== CLIENT VALIDATION DEBUG ===');\n            console.log('Client data being validated:', clientToValidate);\n            console.log('Email:', clientToValidate.email);\n            console.log('Phone:', clientToValidate.phone);\n            console.log('Contact Person:', clientToValidate.contactPerson);\n            console.log('Address:', clientToValidate.address);\n            console.log('City:', clientToValidate.city);\n            console.log('State:', clientToValidate.state);\n            console.log('Postal Code:', clientToValidate.postalCode);\n            console.log('Country:', clientToValidate.country);\n            // Validate essential fields only\n            // Skip validation for existing customers since we know the data is valid\n            if (quoteMode === \"existing\" && selectedCustomer) {\n                console.log('Skipping validation for existing customer - data is pre-validated');\n            } else if (!clientToValidate.email || !clientToValidate.phone) {\n                console.error('Missing essential client fields:', {\n                    email: clientToValidate.email,\n                    phone: clientToValidate.phone\n                });\n                throw new Error('Missing required client information: email and phone are required');\n            }\n            // Check if we have either contactPerson OR both firstName and lastName\n            const hasContactPerson = clientToValidate.contactPerson && clientToValidate.contactPerson.trim() !== '';\n            const hasFullName = clientToValidate.firstName && clientToValidate.firstName.trim() !== '' && clientToValidate.lastName && clientToValidate.lastName.trim() !== '';\n            if (!hasContactPerson && !hasFullName) {\n                console.error('Missing name information:', {\n                    contactPerson: clientToValidate.contactPerson,\n                    firstName: clientToValidate.firstName,\n                    lastName: clientToValidate.lastName\n                });\n                throw new Error('Contact person name is required (or first name and last name)');\n            }\n            // Ensure contactPerson is set if we have firstName and lastName\n            if (!hasContactPerson && hasFullName) {\n                clientToValidate.contactPerson = \"\".concat(clientToValidate.firstName, \" \").concat(clientToValidate.lastName).trim();\n                console.log('Auto-generated contactPerson from firstName and lastName:', clientToValidate.contactPerson);\n            }\n            // Company validation only if company type\n            if (clientToValidate.clientType === \"Company\" && !clientToValidate.companyName) {\n                throw new Error('Company name is required for company clients');\n            }\n            // Address fields are optional but if provided, should be complete\n            const hasPartialAddress = clientToValidate.address || clientToValidate.city || clientToValidate.state || clientToValidate.postalCode || clientToValidate.country;\n            const hasCompleteAddress = clientToValidate.address && clientToValidate.city && clientToValidate.state && clientToValidate.postalCode && clientToValidate.country;\n            if (hasPartialAddress && !hasCompleteAddress) {\n                console.warn('Partial address provided - some address fields are missing');\n            // Don't throw error, just warn - address is optional\n            }\n            // First, save the client if it's a new client\n            let clientId = selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.id;\n            // If no selectedCustomer ID, we need to create a new client from form data\n            if (!clientId) {\n                // Create new client - Fix the data mapping\n                const clientData = {\n                    clientType: clientToValidate.clientType,\n                    companyName: clientToValidate.clientType === \"Company\" ? clientToValidate.companyName : null,\n                    contactPerson: clientToValidate.contactPerson || \"\".concat(clientToValidate.firstName || '', \" \").concat(clientToValidate.lastName || '').trim(),\n                    email: clientToValidate.email,\n                    phone: clientToValidate.phone,\n                    countryCode: clientToValidate.countryCode,\n                    role: clientToValidate.clientType === \"Company\" ? clientToValidate.role : null,\n                    address: clientToValidate.address || '',\n                    city: clientToValidate.city || '',\n                    state: clientToValidate.state || '',\n                    postalCode: clientToValidate.postalCode || '',\n                    country: clientToValidate.country || '',\n                    additionalInfo: clientToValidate.additionalInfo || ''\n                };\n                console.log('Creating new client with data:', clientData);\n                const clientResponse = await fetch('/api/clients', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(clientData)\n                });\n                if (!clientResponse.ok) {\n                    const errorText = await clientResponse.text();\n                    console.error('Client creation failed:', clientResponse.status, errorText);\n                    throw new Error(\"Failed to create client: \".concat(clientResponse.status, \" - \").concat(errorText));\n                }\n                const newClient = await clientResponse.json();\n                clientId = newClient.id;\n                // Update the selectedCustomer state with the newly created client\n                const newCustomerData = {\n                    id: newClient.id,\n                    clientType: newClient.clientType,\n                    companyName: newClient.companyName,\n                    contactPerson: newClient.contactPerson,\n                    email: newClient.email,\n                    phone: newClient.phone,\n                    countryCode: newClient.countryCode,\n                    role: newClient.role,\n                    address: newClient.address,\n                    city: newClient.city,\n                    state: newClient.state,\n                    postalCode: newClient.postalCode,\n                    country: newClient.country,\n                    additionalInfo: newClient.additionalInfo,\n                    firstName: formData.client.firstName || '',\n                    lastName: formData.client.lastName || ''\n                };\n                setSelectedCustomer(newCustomerData);\n                console.log('Updated selectedCustomer with new client:', newCustomerData);\n                // Also update the form data with the new customer information to ensure Step 5 displays correctly\n                setFormData((prev)=>({\n                        ...prev,\n                        client: {\n                            ...prev.client,\n                            // Update with the new customer data to ensure consistency\n                            contactPerson: newCustomerData.contactPerson,\n                            email: newCustomerData.email,\n                            phone: newCustomerData.phone,\n                            address: newCustomerData.address,\n                            city: newCustomerData.city,\n                            state: newCustomerData.state,\n                            postalCode: newCustomerData.postalCode,\n                            country: newCustomerData.country,\n                            additionalInfo: newCustomerData.additionalInfo,\n                            // Also ensure firstName and lastName are set if they exist\n                            firstName: newCustomerData.firstName || prev.client.firstName || '',\n                            lastName: newCustomerData.lastName || prev.client.lastName || ''\n                        }\n                    }));\n                console.log('Updated form data with new customer information for Step 5 display');\n                // Log the final state for debugging\n                console.log('=== FINAL STATE AFTER CLIENT CREATION ===');\n                console.log('New client ID:', clientId);\n                console.log('Updated selectedCustomer:', newCustomerData);\n                console.log('Updated formData.client:', formData.client);\n                console.log('Client created successfully:', newClient);\n            }\n            // Get current user ID\n            const currentUserId = await getCurrentUserId();\n            // Debug: Log the customer information being used\n            console.log('Creating quote with customer info:', {\n                clientId,\n                selectedCustomer,\n                formDataClient: formData.client,\n                newCustomerData: clientId ? 'Using existing customer' : 'Created new customer'\n            });\n            // Prepare quote data for API - Fix the data structure to match DatabaseService expectations\n            const quoteData = {\n                date: new Date(),\n                status: \"Pending\",\n                clientId: clientId,\n                userId: currentUserId,\n                salesPersonId: formData.salesPersonId,\n                product: ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.productName) || \"Printing Product\",\n                quantity: ((_formData_products_1 = formData.products[0]) === null || _formData_products_1 === void 0 ? void 0 : _formData_products_1.quantity) || 0,\n                sides: ((_formData_products_2 = formData.products[0]) === null || _formData_products_2 === void 0 ? void 0 : _formData_products_2.sides) || \"1\",\n                printing: ((_formData_products_3 = formData.products[0]) === null || _formData_products_3 === void 0 ? void 0 : _formData_products_3.printingSelection) || \"Digital\"\n            };\n            // Debug: Log the quote data being sent\n            console.log('=== QUOTE DATA DEBUG ===');\n            console.log('Quote data being sent:', quoteData);\n            console.log('salesPersonId:', formData.salesPersonId);\n            console.log('Customer ID being used:', clientId);\n            console.log('Selected customer state:', selectedCustomer);\n            console.log('formData.operational.papers:', formData.operational.papers);\n            console.log('formData.operational.finishing:', formData.operational.finishing);\n            let quoteResponse;\n            let savedQuote;\n            // Check if we're actually editing an existing quote (has selectedQuoteId)\n            if (selectedQuoteId && isUpdate) {\n                var _formData_products_4, _formData_calculation_discount;\n                // Update existing quote - we have a specific quote ID to edit\n                console.log('Updating existing quote:', selectedQuoteId);\n                console.log('=== QUOTE DATA DEBUG (UPDATE) ===');\n                console.log('Quote data being sent:', quoteData);\n                console.log('salesPersonId:', formData.salesPersonId);\n                // Use Step 5 calculation results directly - no recalculation needed\n                const totalPrice = formData.calculation.totalPrice || 0;\n                const totalBasePrice = formData.calculation.basePrice || 0;\n                const vatAmount = formData.calculation.vatAmount || 0;\n                console.log('=== USING STEP 5 CALCULATION RESULTS ===');\n                console.log('Step 5 totalPrice:', totalPrice);\n                console.log('Step 5 basePrice:', totalBasePrice);\n                console.log('Step 5 vatAmount:', vatAmount);\n                // For updates, we can include additional data like papers, finishing, amounts\n                const updateData = {\n                    ...quoteData,\n                    salesPersonId: formData.salesPersonId,\n                    colors: ((_formData_products_4 = formData.products[0]) === null || _formData_products_4 === void 0 ? void 0 : _formData_products_4.colors) || null,\n                    // Include discount information\n                    discountPercentage: ((_formData_calculation_discount = formData.calculation.discount) === null || _formData_calculation_discount === void 0 ? void 0 : _formData_calculation_discount.percentage) || 0,\n                    discountAmount: formData.calculation.discountAmount || 0,\n                    papers: {\n                        create: formData.operational.papers.map((operationalPaper, index)=>{\n                            var _formData_products_;\n                            // Get the corresponding paper name and gsm from product papers\n                            const productPaper = ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.papers[index]) || null;\n                            return {\n                                name: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.name) || \"Standard Paper\",\n                                gsm: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.gsm) ? parseInt(productPaper.gsm) : 150,\n                                inputWidth: operationalPaper.inputWidth || 0,\n                                inputHeight: operationalPaper.inputHeight || 0,\n                                pricePerPacket: operationalPaper.pricePerPacket || 0,\n                                pricePerSheet: operationalPaper.pricePerSheet || 0,\n                                sheetsPerPacket: operationalPaper.sheetsPerPacket || 1,\n                                recommendedSheets: operationalPaper.recommendedSheets || 1,\n                                enteredSheets: operationalPaper.enteredSheets || 1,\n                                outputWidth: operationalPaper.outputWidth || 0,\n                                outputHeight: operationalPaper.outputHeight || 0,\n                                selectedColors: operationalPaper.selectedColors || \"\"\n                            };\n                        }) || []\n                    },\n                    finishing: {\n                        create: formData.operational.finishing.map((finish)=>({\n                                name: finish.name || \"Standard Finishing\",\n                                cost: finish.cost || 0\n                            })) || []\n                    },\n                    amounts: {\n                        create: {\n                            base: totalBasePrice,\n                            vat: vatAmount,\n                            total: totalPrice // Use Step 5 total price - EXACTLY the same as Step 5 final price\n                        }\n                    },\n                    operational: {\n                        create: {\n                            plates: formData.operational.plates || 0,\n                            units: formData.operational.units || 0\n                        }\n                    }\n                };\n                // Validate and clean the update data before sending\n                const cleanedUpdateData = validateAndCleanQuoteData(updateData);\n                console.log('Quote data being sent for update:', cleanedUpdateData);\n                quoteResponse = await fetch(\"/api/quotes/\".concat(selectedQuoteId), {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(cleanedUpdateData)\n                });\n                if (!quoteResponse.ok) {\n                    const errorText = await quoteResponse.text();\n                    console.error('Quote update failed:', quoteResponse.status, errorText);\n                    throw new Error(\"Failed to update quote: \".concat(quoteResponse.status, \" - \").concat(errorText));\n                }\n                savedQuote = await quoteResponse.json();\n                console.log('Quote updated successfully:', savedQuote);\n                // Show success message for update\n                alert('Quote updated successfully!');\n                return;\n            } else {\n                var _formData_products_5, _formData_calculation_discount1;\n                // Create new quote - even if using existing customer, this is a new quote\n                console.log('Creating new quote with complete details');\n                console.log('=== COMPLETE QUOTE DATA DEBUG ===');\n                console.log('formData.salesPersonId:', formData.salesPersonId);\n                console.log('formData.operational.papers:', formData.operational.papers);\n                console.log('formData.operational.finishing:', formData.operational.finishing);\n                // Generate a unique quote ID in proper format: QT-YYYY-MMDD-XXX\n                const now = new Date();\n                const year = now.getFullYear();\n                const month = String(now.getMonth() + 1).padStart(2, '0');\n                const day = String(now.getDate()).padStart(2, '0');\n                const randomNum = String(Math.floor(Math.random() * 1000)).padStart(3, '0');\n                const quoteId = \"QT-\".concat(year, \"-\").concat(month).concat(day, \"-\").concat(randomNum);\n                // Use Step 5 calculation results directly - no recalculation needed\n                const totalPrice = formData.calculation.totalPrice || 0;\n                const totalBasePrice = formData.calculation.basePrice || 0;\n                const vatAmount = formData.calculation.vatAmount || 0;\n                console.log('=== USING STEP 5 CALCULATION RESULTS ===');\n                console.log('Step 5 totalPrice:', totalPrice);\n                console.log('Step 5 basePrice:', totalBasePrice);\n                console.log('Step 5 vatAmount:', vatAmount);\n                // Prepare complete quote data with all details\n                const completeQuoteData = {\n                    ...quoteData,\n                    quoteId: quoteId,\n                    salesPersonId: formData.salesPersonId,\n                    colors: ((_formData_products_5 = formData.products[0]) === null || _formData_products_5 === void 0 ? void 0 : _formData_products_5.colors) || null,\n                    // Include discount information\n                    discountPercentage: ((_formData_calculation_discount1 = formData.calculation.discount) === null || _formData_calculation_discount1 === void 0 ? void 0 : _formData_calculation_discount1.percentage) || 0,\n                    discountAmount: formData.calculation.discountAmount || 0,\n                    papers: {\n                        create: formData.operational.papers.map((operationalPaper, index)=>{\n                            var _formData_products_;\n                            // Get the corresponding paper name and gsm from product papers\n                            const productPaper = ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.papers[index]) || null;\n                            return {\n                                name: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.name) || \"Standard Paper\",\n                                gsm: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.gsm) ? parseInt(productPaper.gsm) : 150,\n                                inputWidth: operationalPaper.inputWidth || 0,\n                                inputHeight: operationalPaper.inputHeight || 0,\n                                pricePerPacket: operationalPaper.pricePerPacket || 0,\n                                pricePerSheet: operationalPaper.pricePerSheet || 0,\n                                sheetsPerPacket: operationalPaper.sheetsPerPacket || 1,\n                                recommendedSheets: operationalPaper.recommendedSheets || 1,\n                                enteredSheets: operationalPaper.enteredSheets || 1,\n                                outputWidth: operationalPaper.outputWidth || 0,\n                                outputHeight: operationalPaper.outputHeight || 0,\n                                selectedColors: operationalPaper.selectedColors || \"\"\n                            };\n                        }) || []\n                    },\n                    finishing: {\n                        create: formData.operational.finishing.map((finish)=>({\n                                name: finish.name || \"Standard Finishing\",\n                                cost: finish.cost || 0\n                            })) || []\n                    },\n                    amounts: {\n                        create: {\n                            base: totalBasePrice,\n                            vat: vatAmount,\n                            total: totalPrice // Use Step 5 total price - EXACTLY the same as Step 5 final price\n                        }\n                    },\n                    operational: {\n                        create: {\n                            plates: formData.operational.plates || 0,\n                            units: formData.operational.units || 0\n                        }\n                    }\n                };\n                // Validate and clean the data before sending\n                const cleanedQuoteData = validateAndCleanQuoteData(completeQuoteData);\n                console.log('=== FINAL QUOTE DATA DEBUG ===');\n                console.log('Original quoteData:', quoteData);\n                console.log('Complete quote data before cleaning:', completeQuoteData);\n                console.log('=== AMOUNTS DEBUG - USING STEP 5 VALUES ===');\n                console.log('formData.calculation:', formData.calculation);\n                console.log('Step 5 totalPrice being saved:', totalPrice);\n                console.log('Step 5 basePrice being saved:', totalBasePrice);\n                console.log('Step 5 vatAmount being saved:', vatAmount);\n                console.log('completeQuoteData.amounts:', completeQuoteData.amounts);\n                console.log('Cleaned amounts:', cleanedQuoteData.amounts);\n                console.log('Cleaned quote data being sent:', cleanedQuoteData);\n                console.log('salesPersonId in cleaned data:', cleanedQuoteData.salesPersonId);\n                quoteResponse = await fetch('/api/quotes', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(cleanedQuoteData)\n                });\n                if (!quoteResponse.ok) {\n                    const errorText = await quoteResponse.text();\n                    console.error('Quote creation failed:', quoteResponse.status, errorText);\n                    throw new Error(\"Failed to create quote: \".concat(quoteResponse.status, \" - \").concat(errorText));\n                }\n                savedQuote = await quoteResponse.json();\n                console.log('Quote created successfully with all details:', savedQuote);\n            }\n            // Show success modal only for new quotes\n            if (!isUpdate) {\n                setSaveModalOpen(true);\n            }\n        } catch (error) {\n            console.error('Error saving quote:', error);\n            // Use a more user-friendly error message\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n            const action = selectedQuoteId && isUpdate ? 'updating' : 'creating';\n            alert(\"Error \".concat(action, \" quote: \").concat(errorMessage));\n        } finally{\n            setIsSaving(false);\n        }\n    };\n    const handleDownloadCustomerFromModal = async ()=>{\n        await (0,_lib_quote_pdf__WEBPACK_IMPORTED_MODULE_12__.downloadCustomerPdf)(formData, otherQuantities);\n        setSaveModalOpen(false);\n    };\n    const handleDownloadOpsFromModal = async ()=>{\n        await (0,_lib_quote_pdf__WEBPACK_IMPORTED_MODULE_12__.downloadOpsPdf)(formData, otherQuantities);\n        setSaveModalOpen(false);\n    };\n    const handleCloseAndGoHome = ()=>{\n        setSaveModalOpen(false);\n        router.push(\"/\");\n    };\n    // Handle approval status changes from Step5\n    const handleApprovalStatusChange = (needsApproval, reason)=>{\n        setRequiresApproval(needsApproval);\n        setApprovalReason(reason);\n    };\n    const renderStepContent = ()=>{\n        switch(currentStep){\n            case 1:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center space-y-2 sm:space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                    children: \"Create A Quote\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1746,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-base sm:text-lg text-slate-600\",\n                                    children: \"Choose how you'd like to create your printing quote\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1747,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1745,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                    className: \"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer group \".concat(quoteMode === \"new\" ? \"ring-4 ring-blue-500 ring-opacity-50 bg-blue-50\" : \"\"),\n                                    onClick: handleStartNew,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                        className: \"p-4 sm:p-6 lg:p-8 text-center space-y-4 sm:space-y-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"w-8 h-8 sm:w-10 sm:h-10 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1761,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1760,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2 sm:space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                                        children: \"Create New Quote\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1764,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm sm:text-base text-slate-600 leading-relaxed\",\n                                                        children: \"Start a fresh quotation from scratch. Perfect for new projects, custom requirements, or when you need complete control over the quote details.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1765,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1763,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"pt-2 sm:pt-4\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                    className: \"w-full bg-[#27aae1] hover:bg-[#1e8bc3] text-white py-2 sm:py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-sm sm:text-base\",\n                                                    onClick: handleStartNew,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                            className: \"w-4 h-4 sm:w-5 sm:h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                            lineNumber: 1774,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Start New Quote\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1770,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1769,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1759,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1753,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                    className: \"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer group \".concat(quoteMode === \"existing\" ? \"ring-4 ring-blue-500 ring-opacity-50 bg-blue-50\" : \"\"),\n                                    onClick: ()=>{\n                                        // Clear default product data when entering existing quote mode\n                                        setFormData((prev)=>({\n                                                ...prev,\n                                                products: [] // Clear products array - will be populated from selected quote\n                                            }));\n                                        setQuoteMode(\"existing\");\n                                        setSelectedQuoteId(null); // Will be set when a specific quote is selected\n                                        setSelectedCustomer(null);\n                                    // Don't auto-navigate - just set the mode for selection\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                        className: \"p-4 sm:p-6 lg:p-8 text-center space-y-4 sm:space-y-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                    className: \"w-8 h-8 sm:w-10 sm:h-10 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1800,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1799,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2 sm:space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                                        children: \"Based on Previous Quote\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1803,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm sm:text-base text-slate-600 leading-relaxed\",\n                                                        children: \"Use an existing quote as a template. Save time by modifying previous specifications, pricing, and customer details for similar projects.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1804,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1802,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"pt-2 sm:pt-4\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                    className: \"w-full bg-[#27aae1] hover:bg-[#1e8bc3] text-white py-2 sm:py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-sm sm:text-base\",\n                                                    onClick: ()=>{\n                                                        // Clear default product data when entering existing quote mode\n                                                        setFormData((prev)=>({\n                                                                ...prev,\n                                                                products: [] // Clear products array - will be populated from selected quote\n                                                            }));\n                                                        setQuoteMode(\"existing\");\n                                                        setSelectedQuoteId(null); // Will be set when a specific quote is selected\n                                                        setSelectedCustomer(null);\n                                                    // Don't auto-navigate - just set the mode for selection\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            className: \"w-4 h-4 sm:w-5 sm:h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                            lineNumber: 1823,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Use Existing Quote\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1809,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1808,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1798,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1782,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1751,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center text-slate-500 max-w-2xl mx-auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs sm:text-sm\",\n                                children: \"Both options will guide you through the same comprehensive quote creation process, ensuring accuracy and consistency in your printing estimates.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1833,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1832,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1743,\n                    columnNumber: 11\n                }, this);\n            case 2:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        quoteMode === \"new\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center space-y-2 sm:space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                    children: \"Customer Details\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1845,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-base sm:text-base text-slate-600\",\n                                    children: \"Fill in the customer information for your new quote\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1846,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1844,\n                            columnNumber: 15\n                        }, this),\n                        quoteMode === \"existing\" ? // Use Step2CustomerChoose component for existing quote mode\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step2CustomerChoose__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            formData: formData,\n                            setFormData: setFormData,\n                            onCustomerSelect: handleCustomerSelect,\n                            onQuoteSelect: handleQuoteSelect\n                        }, void 0, false, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1854,\n                            columnNumber: 15\n                        }, this) : // Show empty customer detail form for new quote\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white p-6 rounded-xl border border-slate-200 shadow-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-[#27aae1] rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                            lineNumber: 1864,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"New Customer Details\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1863,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step2CustomerDetail__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    formData: formData,\n                                    setFormData: setFormData\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1867,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1862,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1842,\n                    columnNumber: 11\n                }, this);\n            case 3:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step3ProductSpec__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    formData: formData,\n                    setFormData: setFormData\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1874,\n                    columnNumber: 11\n                }, this);\n            case 4:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10___default()), {\n                    formData: formData,\n                    setFormData: setFormData\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1878,\n                    columnNumber: 11\n                }, this);\n            case 5:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step5Quotation__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    formData: formData,\n                    setFormData: setFormData,\n                    otherQuantities: otherQuantities,\n                    setOtherQuantities: setOtherQuantities,\n                    onOpenSave: ()=>{\n                        // Validate form data before opening save modal\n                        if (validateFormData()) {\n                            setSaveModalOpen(true);\n                        }\n                    },\n                    isEditMode: !!selectedQuoteId,\n                    selectedQuoteId: selectedQuoteId,\n                    onSubmitQuote: async (updatedFormData)=>{\n                        // This function will be called by Step5Quotation to actually submit the quote\n                        try {\n                            // Update the form data first\n                            setFormData(updatedFormData);\n                            // Then call the actual save function\n                            await handleSaveQuote(false);\n                            console.log('Quote submitted successfully from Step5Quotation');\n                        } catch (error) {\n                            console.error('Error submitting quote from Step5Quotation:', error);\n                            throw error; // Re-throw to let Step5Quotation handle the error\n                        }\n                    },\n                    onApprovalStatusChange: handleApprovalStatusChange\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1882,\n                    columnNumber: 11\n                }, this);\n            default:\n                return null;\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 sm:p-6 lg:p-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-7xl mx-auto space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                    className: \"border-0 shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                        className: \"p-4 sm:p-6 lg:p-10 space-y-6 sm:space-y-10\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_StepIndicator__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                activeStep: currentStep,\n                                quoteMode: quoteMode\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1924,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 sm:mt-8\",\n                                children: renderStepContent()\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1929,\n                                columnNumber: 13\n                            }, this),\n                            currentStep === 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 sm:mt-6\",\n                                children: !canProceedFromStep1() ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-yellow-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1938,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1937,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-yellow-700 font-medium text-sm sm:text-base\",\n                                                children: 'Please select either \"Create New Quote\" or \"Based on Previous Quote\" to continue'\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1940,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1936,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1935,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"âœ“\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1949,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1948,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-green-700 font-medium text-sm sm:text-base\",\n                                                children: quoteMode === \"new\" ? \"New quote mode selected. You can proceed to the next step.\" : \"Existing quote mode selected. You can proceed to the next step.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1951,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1947,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1946,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1933,\n                                columnNumber: 15\n                            }, this),\n                            currentStep === 3 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 sm:mt-6\",\n                                children: !canProceedFromStep3() ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-yellow-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1966,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1965,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-yellow-700 font-medium text-sm sm:text-base\",\n                                                children: quoteMode === \"existing\" && !selectedQuoteId ? \"Please select a specific quote to edit first.\" : \"Please select at least one paper for your products to continue. Use the \\\"Browse Available Papers\\\" button to add papers from the database.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1968,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1964,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1963,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"âœ“\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1980,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1979,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-green-700 font-medium text-sm sm:text-base\",\n                                                children: quoteMode === \"existing\" ? \"Quote loaded and paper selection complete. You can now proceed to the operational step.\" : \"Paper selection complete. You can now proceed to the operational step.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1982,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1978,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1977,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1961,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-slate-200 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full sm:w-auto\",\n                                        children: currentStep > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            variant: \"outline\",\n                                            onClick: prevStep,\n                                            className: \"border-slate-300 hover:border-slate-400 hover:bg-slate-50 px-6 sm:px-8 py-3 rounded-xl transition-all duration-300 w-full sm:w-auto\",\n                                            children: \"Previous\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                            lineNumber: 1997,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1995,\n                                        columnNumber: 15\n                                    }, this),\n                                    currentStep < 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative w-full sm:w-auto\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                onClick: nextStep,\n                                                disabled: isNextButtonDisabled(),\n                                                className: \"px-6 sm:px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto \".concat(isNextButtonDisabled() ? \"bg-gray-400 cursor-not-allowed\" : \"bg-[#27aae1] hover:bg-[#1e8bc3] text-white\"),\n                                                title: isNextButtonDisabled() ? currentStep === 1 ? \"Please select a quote mode to continue\" : currentStep === 2 && quoteMode === \"existing\" ? \"Please select a specific quote to edit\" : currentStep === 3 && quoteMode === \"existing\" && !selectedQuoteId ? \"Please select a specific quote to edit first\" : currentStep === 3 ? \"Please select at least one paper for your products\" : \"Please complete the required information to continue\" : \"Click to proceed to the next step\",\n                                                children: \"Next\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2008,\n                                                columnNumber: 19\n                                            }, this),\n                                            isNextButtonDisabled() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg shadow-lg whitespace-nowrap z-10\",\n                                                children: [\n                                                    currentStep === 1 ? \"Select a quote mode first\" : currentStep === 2 && quoteMode === \"existing\" ? \"Select a specific quote to edit first\" : currentStep === 3 && quoteMode === \"existing\" && !selectedQuoteId ? \"Select a specific quote to edit first\" : currentStep === 3 ? \"Select at least one paper first\" : \"Complete required fields first\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 2044,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2033,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2007,\n                                        columnNumber: 17\n                                    }, this),\n                                    currentStep === 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        onClick: ()=>handleSaveQuote(false),\n                                        disabled: isSaving,\n                                        className: \"bg-[#27aae1] hover:bg-[#1e8bc3] text-white px-6 sm:px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto\",\n                                        children: isSaving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2058,\n                                                    columnNumber: 23\n                                                }, this),\n                                                \"Submitting...\"\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                    className: \"w-5 h-5 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2063,\n                                                    columnNumber: 23\n                                                }, this),\n                                                \"Submit Quote\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2051,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1994,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 1923,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1922,\n                    columnNumber: 9\n                }, this),\n                saveModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-2xl p-6 sm:p-8 w-full max-w-md text-center shadow-2xl\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl sm:text-2xl font-bold text-slate-900 mb-3\",\n                                children: \"Quote Submitted Successfully!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2076,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-slate-600 mb-6 text-sm sm:text-base\",\n                                children: requiresApproval ? \"Your quote has been submitted for management approval and will appear in the Quote Management page once approved.\" : \"Your quote has been submitted and will appear in the Quote Management page.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2079,\n                                columnNumber: 15\n                            }, this),\n                            requiresApproval && approvalReason && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-xl\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2 mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2090,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2089,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-semibold text-orange-800\",\n                                                children: \"Approval Required\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2092,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2088,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-orange-700 text-sm\",\n                                        children: approvalReason\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2094,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-orange-600 text-xs mt-2\",\n                                        children: \"Management will be notified automatically. You'll receive an update once approved.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2095,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2087,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    !requiresApproval && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                className: \"w-full bg-[#ea078b] hover:bg-[#d4067a] text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                    href: \"mailto:\".concat(formData.client.email),\n                                                    children: \"Send to Customer\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2105,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2104,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                className: \"w-full bg-[#f89d1d] hover:bg-[#e88a0a] text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\",\n                                                onClick: handleDownloadCustomerFromModal,\n                                                children: \"Download for Customer\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2109,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true),\n                                    !requiresApproval && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        className: \"w-full bg-[#27aae1] hover:bg-[#1e8bc3] text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\",\n                                        onClick: handleDownloadOpsFromModal,\n                                        children: \"Download Operations Copy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2120,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        variant: \"outline\",\n                                        onClick: ()=>{\n                                            setSaveModalOpen(false);\n                                            router.push(\"/\");\n                                        },\n                                        className: \"w-full py-3 rounded-xl border-slate-300 hover:border-slate-400 hover:bg-slate-400 transition-all duration-300\",\n                                        children: \"Close & Go to Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2128,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2101,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 2075,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 2074,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n            lineNumber: 1920,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n        lineNumber: 1919,\n        columnNumber: 5\n    }, this);\n}\n_s(CreateQuoteContent, \"PLR8gEBq8a8m58a+Fg/2Qcv23+g=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_5__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_5__.useSearchParams\n    ];\n});\n_c = CreateQuoteContent;\n// Main component with Suspense boundary\nfunction CreateQuotePage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-[#27aae1] mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 2153,\n                        columnNumber: 11\n                    }, void 0),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-lg text-slate-600\",\n                        children: \"Loading quote creation...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 2154,\n                        columnNumber: 11\n                    }, void 0)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                lineNumber: 2152,\n                columnNumber: 9\n            }, void 0)\n        }, void 0, false, {\n            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n            lineNumber: 2151,\n            columnNumber: 7\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CreateQuoteContent, {}, void 0, false, {\n            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n            lineNumber: 2158,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n        lineNumber: 2150,\n        columnNumber: 5\n    }, this);\n}\n_c1 = CreateQuotePage;\nvar _c, _c1;\n$RefreshReg$(_c, \"CreateQuoteContent\");\n$RefreshReg$(_c1, \"CreateQuotePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocm9vdCkvY3JlYXRlLXF1b3RlL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTZEO0FBQ0o7QUFDVDtBQUV1QztBQUMxRDtBQUNnQztBQUNPO0FBQ2tCO0FBQ0E7QUFDTjtBQUNBO0FBQ0o7QUFFSTtBQUMvQjtBQUNHO0FBR3BELE1BQU15QixlQUF3QztJQUM1Q0MsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLGVBQWU7SUFDZkMsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxhQUFhO0lBQ2JDLE1BQU07SUFDTkMsU0FBUztJQUNUQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsWUFBWTtJQUNaQyxTQUFTO0lBQ1RDLGdCQUFnQjtBQUNsQjtBQUdBLHdEQUF3RDtBQUN4RCxTQUFTQzs7SUFDUCxNQUFNQyxTQUFTN0IsMERBQVNBO0lBQ3hCLE1BQU04QixlQUFlN0IsZ0VBQWVBO0lBQ3BDLE1BQU0sQ0FBQzhCLGFBQWFDLGVBQWUsR0FBRzVDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQzZDLFdBQVdDLGFBQWEsR0FBRzlDLCtDQUFRQSxDQUE0QjtJQUN0RSxNQUFNLENBQUMrQyxlQUFlQyxpQkFBaUIsR0FBR2hELCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQ2lELFVBQVVDLFlBQVksR0FBR2xELCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ21ELGtCQUFrQkMsb0JBQW9CLEdBQUdwRCwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUNxRCxnQkFBZ0JDLGtCQUFrQixHQUFHdEQsK0NBQVFBO0lBQ3BELE1BQU0sQ0FBQ3VELGtCQUFrQkMsb0JBQW9CLEdBQUd4RCwrQ0FBUUEsQ0FlOUM7SUFDVixNQUFNLENBQUN5RCxpQkFBaUJDLG1CQUFtQixHQUFHMUQsK0NBQVFBLENBQWdCO0lBQ3RFLE1BQU0sQ0FBQzJELGdCQUFnQkMsa0JBQWtC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b3AvUHJvamVjdC9TbWFydC1wcmludGluZy11cGRhdGUvYXBwLyhyb290KS9jcmVhdGUtcXVvdGUvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBTdXNwZW5zZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcbmltcG9ydCB7IFBsdXMsIFNwYXJrbGVzLCBDb3B5LCBGaWxlVGV4dCwgRXllLCBFZGl0LCBTZWFyY2gsIFNhdmUgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCBTdGVwSW5kaWNhdG9yIGZyb20gXCJAL2NvbXBvbmVudHMvY3JlYXRlLXF1b3RlL1N0ZXBJbmRpY2F0b3JcIjtcbmltcG9ydCBTdGVwMkN1c3RvbWVyQ2hvb3NlIGZyb20gXCJAL2NvbXBvbmVudHMvY3JlYXRlLXF1b3RlL3N0ZXBzL1N0ZXAyQ3VzdG9tZXJDaG9vc2VcIjtcbmltcG9ydCBTdGVwMkN1c3RvbWVyRGV0YWlsIGZyb20gXCJAL2NvbXBvbmVudHMvY3JlYXRlLXF1b3RlL3N0ZXBzL1N0ZXAyQ3VzdG9tZXJEZXRhaWxcIjtcbmltcG9ydCBTdGVwM1Byb2R1Y3RTcGVjIGZyb20gXCJAL2NvbXBvbmVudHMvY3JlYXRlLXF1b3RlL3N0ZXBzL1N0ZXAzUHJvZHVjdFNwZWNcIjtcbmltcG9ydCBTdGVwNE9wZXJhdGlvbmFsIGZyb20gXCJAL2NvbXBvbmVudHMvY3JlYXRlLXF1b3RlL3N0ZXBzL1N0ZXA0T3BlcmF0aW9uYWxcIjtcbmltcG9ydCBTdGVwNVF1b3RhdGlvbiBmcm9tIFwiQC9jb21wb25lbnRzL2NyZWF0ZS1xdW90ZS9zdGVwcy9TdGVwNVF1b3RhdGlvblwiO1xuaW1wb3J0IHsgUXVvdGVGb3JtRGF0YSB9IGZyb20gXCJAL3R5cGVzXCI7XG5pbXBvcnQgeyBkb3dubG9hZEN1c3RvbWVyUGRmLCBkb3dubG9hZE9wc1BkZiwgT3RoZXJRdHkgfSBmcm9tIFwiQC9saWIvcXVvdGUtcGRmXCI7XG5pbXBvcnQgeyBRVU9URV9ERVRBSUxTIH0gZnJvbSBcIkAvbGliL2R1bW15LWRhdGFcIjtcbmltcG9ydCB7IGRldGFpbFRvRm9ybSB9IGZyb20gXCJAL2xpYi9kZXRhaWwtdG8tZm9ybVwiO1xuaW1wb3J0IHsgUHJldmlvdXNRdW90ZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5cbmNvbnN0IEVNUFRZX0NMSUVOVDogUXVvdGVGb3JtRGF0YVtcImNsaWVudFwiXSA9IHtcbiAgY2xpZW50VHlwZTogXCJJbmRpdmlkdWFsXCIsXG4gIGNvbXBhbnlOYW1lOiBcIlwiLFxuICBjb250YWN0UGVyc29uOiBcIlwiLFxuICBmaXJzdE5hbWU6IFwiXCIsXG4gIGxhc3ROYW1lOiBcIlwiLFxuICBlbWFpbDogXCJcIixcbiAgcGhvbmU6IFwiXCIsXG4gIGNvdW50cnlDb2RlOiBcIis5NzFcIixcbiAgcm9sZTogXCJcIixcbiAgYWRkcmVzczogXCJcIixcbiAgY2l0eTogXCJcIixcbiAgc3RhdGU6IFwiXCIsXG4gIHBvc3RhbENvZGU6IFwiXCIsXG4gIGNvdW50cnk6IFwiRHViYWlcIixcbiAgYWRkaXRpb25hbEluZm86IFwiXCIsXG59O1xuXG5cbi8vIENyZWF0ZSBhIHNlcGFyYXRlIGNvbXBvbmVudCB0aGF0IHVzZXMgdXNlU2VhcmNoUGFyYW1zXG5mdW5jdGlvbiBDcmVhdGVRdW90ZUNvbnRlbnQoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3QgW2N1cnJlbnRTdGVwLCBzZXRDdXJyZW50U3RlcF0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3F1b3RlTW9kZSwgc2V0UXVvdGVNb2RlXSA9IHVzZVN0YXRlPFwibmV3XCIgfCBcImV4aXN0aW5nXCIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NhdmVNb2RhbE9wZW4sIHNldFNhdmVNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTYXZpbmcsIHNldElzU2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlcXVpcmVzQXBwcm92YWwsIHNldFJlcXVpcmVzQXBwcm92YWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXBwcm92YWxSZWFzb24sIHNldEFwcHJvdmFsUmVhc29uXSA9IHVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4oKTtcbiAgY29uc3QgW3NlbGVjdGVkQ3VzdG9tZXIsIHNldFNlbGVjdGVkQ3VzdG9tZXJdID0gdXNlU3RhdGU8e1xuICAgIGlkPzogc3RyaW5nOyAvLyBBZGQgb3B0aW9uYWwgSUQgZmllbGQgZm9yIGV4aXN0aW5nIGN1c3RvbWVyc1xuICAgIGNsaWVudFR5cGU6ICdJbmRpdmlkdWFsJyB8ICdDb21wYW55JztcbiAgICBjb21wYW55TmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICBjb250YWN0UGVyc29uOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBwaG9uZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gICAgcm9sZTogc3RyaW5nIHwgbnVsbDtcbiAgICBhZGRyZXNzPzogc3RyaW5nO1xuICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvPzogc3RyaW5nO1xuICB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZFF1b3RlSWQsIHNldFNlbGVjdGVkUXVvdGVJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1c3RvbWVyU2VhcmNoLCBzZXRDdXN0b21lclNlYXJjaF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Nob3dDdXN0b21lckxpc3QsIHNldFNob3dDdXN0b21lckxpc3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGU8UXVvdGVGb3JtRGF0YT4oe1xuICAgIGNsaWVudDogeyAuLi5FTVBUWV9DTElFTlQgfSxcbiAgICBwcm9kdWN0czogW10sXG4gICAgb3BlcmF0aW9uYWw6IHtcbiAgICAgIHBhcGVyczogW10sXG4gICAgICBmaW5pc2hpbmc6IFtdLFxuICAgICAgcGxhdGVzOiBudWxsLFxuICAgICAgdW5pdHM6IG51bGwsXG4gICAgICBpbXByZXNzaW9uczogbnVsbCxcbiAgICB9LFxuICAgIGNhbGN1bGF0aW9uOiB7XG4gICAgICBiYXNlUHJpY2U6IDAsXG4gICAgICBtYXJnaW5BbW91bnQ6IDAsXG4gICAgICBtYXJnaW5QZXJjZW50YWdlOiAzMCwgLy8gRGVmYXVsdCAzMCVcbiAgICAgIHN1YnRvdGFsOiAwLFxuICAgICAgZmluYWxTdWJ0b3RhbDogMCxcbiAgICAgIHZhdEFtb3VudDogMCxcbiAgICAgIHRvdGFsUHJpY2U6IDAsXG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gPT09PT0gTkVXOiBzdGF0ZSB1bnR1ayBPdGhlciBRdWFudGl0aWVzIGRpIHBhcmVudFxuICBjb25zdCBtYWluUHJvZHVjdCA9IGZvcm1EYXRhLnByb2R1Y3RzWzBdO1xuICBjb25zdCBbb3RoZXJRdWFudGl0aWVzLCBzZXRPdGhlclF1YW50aXRpZXNdID0gdXNlU3RhdGU8T3RoZXJRdHlbXT4oW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0T3RoZXJRdWFudGl0aWVzKChwcmV2KSA9PlxuICAgICAgcHJldi5sZW5ndGggPT09IDBcbiAgICAgICAgPyBwcmV2XG4gICAgICAgIDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5wcmV2WzBdLFxuICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogbWFpblByb2R1Y3Q/LnByb2R1Y3ROYW1lID8/IHByZXZbMF0ucHJvZHVjdE5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4ucHJldi5zbGljZSgxKSxcbiAgICAgICAgICBdXG4gICAgKTtcbiAgfSwgW21haW5Qcm9kdWN0Py5wcm9kdWN0TmFtZV0pO1xuXG4gIC8vIE1vbml0b3IgZm9ybSBkYXRhIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUGFyZW50OiBGb3JtIGRhdGEgdXBkYXRlZDonLCBmb3JtRGF0YSk7XG4gICAgY29uc29sZS5sb2coJ1BhcmVudDogQ2xpZW50IGRhdGE6JywgZm9ybURhdGEuY2xpZW50KTtcbiAgICBjb25zb2xlLmxvZygnUGFyZW50OiBDbGllbnQgZmlyc3ROYW1lOicsIGZvcm1EYXRhLmNsaWVudC5maXJzdE5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCdQYXJlbnQ6IENsaWVudCBsYXN0TmFtZTonLCBmb3JtRGF0YS5jbGllbnQubGFzdE5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCdQYXJlbnQ6IENsaWVudCBjb250YWN0UGVyc29uOicsIGZvcm1EYXRhLmNsaWVudC5jb250YWN0UGVyc29uKTtcbiAgfSwgW2Zvcm1EYXRhXSk7XG5cbiAgLy8gSGFuZGxlIFVSTCBwYXJhbWV0ZXJzIGZvciBzdGVwIGFuZCBlZGl0IG1vZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdGVwUGFyYW0gPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGVwJyk7XG4gICAgY29uc3QgZWRpdFBhcmFtID0gc2VhcmNoUGFyYW1zLmdldCgnZWRpdCcpO1xuICAgIFxuICAgIGlmIChzdGVwUGFyYW0pIHtcbiAgICAgIGNvbnN0IHN0ZXBOdW1iZXIgPSBwYXJzZUludChzdGVwUGFyYW0pO1xuICAgICAgaWYgKHN0ZXBOdW1iZXIgPj0gMSAmJiBzdGVwTnVtYmVyIDw9IDUpIHtcbiAgICAgICAgc2V0Q3VycmVudFN0ZXAoc3RlcE51bWJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChlZGl0UGFyYW0pIHtcbiAgICAgIHNldFF1b3RlTW9kZShcImV4aXN0aW5nXCIpO1xuICAgICAgc2V0U2VsZWN0ZWRRdW90ZUlkKG51bGwpOyAvLyBXaWxsIGJlIHNldCB3aGVuIGEgc3BlY2lmaWMgcXVvdGUgaXMgc2VsZWN0ZWRcbiAgICAgIC8vIFlvdSBjYW4gbG9hZCBleGlzdGluZyBxdW90ZSBkYXRhIGhlcmUgaWYgbmVlZGVkXG4gICAgfVxuICB9LCBbc2VhcmNoUGFyYW1zXSk7XG5cbiAgLy8gTWVtb2l6ZSB0aGUgcHJvZHVjdHMgZmluaXNoaW5nIGNoZWNrIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmUtcmVuZGVyc1xuICBjb25zdCBwcm9kdWN0c0ZpbmlzaGluZ0NoZWNrID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGZvcm1EYXRhLnByb2R1Y3RzLm1hcChwcm9kdWN0ID0+ICh7XG4gICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdC5wcm9kdWN0TmFtZSxcbiAgICAgIGZpbmlzaGluZzogcHJvZHVjdC5maW5pc2hpbmdcbiAgICB9KSk7XG4gIH0sIFtmb3JtRGF0YS5wcm9kdWN0c10pO1xuXG4gIC8vIE5FVzogU3luY2hyb25pemUgb3BlcmF0aW9uYWwgZmluaXNoaW5nIHdoZW4gcHJvZHVjdCBmaW5pc2hpbmcgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEdldCBhbGwgdW5pcXVlIGZpbmlzaGluZyBuYW1lcyBmcm9tIGFsbCBwcm9kdWN0c1xuICAgIGNvbnN0IGFsbEZpbmlzaGluZ05hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgXG4gICAgLy8gU2FmZXR5IGNoZWNrOiBlbnN1cmUgZm9ybURhdGEucHJvZHVjdHMgZXhpc3RzIGFuZCBpcyB2YWxpZFxuICAgIGlmICghZm9ybURhdGEucHJvZHVjdHMgfHwgIUFycmF5LmlzQXJyYXkoZm9ybURhdGEucHJvZHVjdHMpIHx8IGZvcm1EYXRhLnByb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgRmluaXNoaW5nIHN5bmNocm9uaXphdGlvbiBza2lwcGVkOiBubyBwcm9kdWN0cyBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgZm9ybURhdGEucHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgIGlmIChwcm9kdWN0LmZpbmlzaGluZyAmJiBBcnJheS5pc0FycmF5KHByb2R1Y3QuZmluaXNoaW5nKSkge1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IGFueSB1bmRlZmluZWQgb3IgbnVsbCB2YWx1ZXNcbiAgICAgICAgY29uc3QgdmFsaWRGaW5pc2hpbmcgPSBwcm9kdWN0LmZpbmlzaGluZy5maWx0ZXIoZiA9PiBmICE9IG51bGwgJiYgZiAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgdmFsaWRGaW5pc2hpbmcuZm9yRWFjaChmaW5pc2hpbmcgPT4ge1xuICAgICAgICAgIC8vIEhhbmRsZSBib3RoIHNpbXBsZSBzdHJpbmdzIGFuZCBcIm9wdGlvbi1zaWRlXCIgZm9ybWF0XG4gICAgICAgICAgaWYgKHR5cGVvZiBmaW5pc2hpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBiYXNlTmFtZSA9IGZpbmlzaGluZy5pbmNsdWRlcygnLScpID8gZmluaXNoaW5nLnNwbGl0KCctJylbMF0gOiBmaW5pc2hpbmc7XG4gICAgICAgICAgICBhbGxGaW5pc2hpbmdOYW1lcy5hZGQoYmFzZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygn8J+UhCBGaW5pc2hpbmcgc3luY2hyb25pemF0aW9uIHRyaWdnZXJlZDonLCB7XG4gICAgICBwcm9kdWN0RmluaXNoaW5nOiBmb3JtRGF0YS5wcm9kdWN0cy5tYXAocCA9PiBwLmZpbmlzaGluZyksXG4gICAgICBhbGxGaW5pc2hpbmdOYW1lczogQXJyYXkuZnJvbShhbGxGaW5pc2hpbmdOYW1lcyksXG4gICAgICBjdXJyZW50T3BlcmF0aW9uYWxGaW5pc2hpbmc6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLmZpbmlzaGluZ1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIG9wZXJhdGlvbmFsIGZpbmlzaGluZyB0byBpbmNsdWRlIGFsbCBzZWxlY3RlZCBmaW5pc2hpbmcgb3B0aW9uc1xuICAgIHNldEZvcm1EYXRhKHByZXYgPT4ge1xuICAgICAgY29uc3QgY3VycmVudE9wZXJhdGlvbmFsRmluaXNoaW5nID0gcHJldi5vcGVyYXRpb25hbC5maW5pc2hpbmcgfHwgW107XG4gICAgICBjb25zdCBuZXdPcGVyYXRpb25hbEZpbmlzaGluZyA9IFsuLi5jdXJyZW50T3BlcmF0aW9uYWxGaW5pc2hpbmddO1xuXG4gICAgICAvLyBBZGQgbmV3IGZpbmlzaGluZyBvcHRpb25zIHRoYXQgZG9uJ3QgZXhpc3QgeWV0XG4gICAgICBhbGxGaW5pc2hpbmdOYW1lcy5mb3JFYWNoKGZpbmlzaGluZ05hbWUgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZpbmlzaGluZyA9IGN1cnJlbnRPcGVyYXRpb25hbEZpbmlzaGluZy5maW5kKGYgPT4gZi5uYW1lID09PSBmaW5pc2hpbmdOYW1lKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ0ZpbmlzaGluZykge1xuICAgICAgICAgIC8vIEFkZCB3aXRoIGRlZmF1bHQgY29zdFxuICAgICAgICAgIG5ld09wZXJhdGlvbmFsRmluaXNoaW5nLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogZmluaXNoaW5nTmFtZSxcbiAgICAgICAgICAgIGNvc3Q6IDAgLy8gRGVmYXVsdCBjb3N0LCB1c2VyIGNhbiBlZGl0IGluIHN0ZXAgNFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIGZpbmlzaGluZyBvcHRpb25zIHRoYXQgYXJlIG5vIGxvbmdlciBzZWxlY3RlZCBieSBhbnkgcHJvZHVjdFxuICAgICAgY29uc3QgZmlsdGVyZWRGaW5pc2hpbmcgPSBuZXdPcGVyYXRpb25hbEZpbmlzaGluZy5maWx0ZXIoZmluaXNoaW5nID0+IFxuICAgICAgICBhbGxGaW5pc2hpbmdOYW1lcy5oYXMoZmluaXNoaW5nLm5hbWUpXG4gICAgICApO1xuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFVwZGF0ZWQgb3BlcmF0aW9uYWwgZmluaXNoaW5nOicsIGZpbHRlcmVkRmluaXNoaW5nKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgb3BlcmF0aW9uYWw6IHtcbiAgICAgICAgICAuLi5wcmV2Lm9wZXJhdGlvbmFsLFxuICAgICAgICAgIGZpbmlzaGluZzogZmlsdGVyZWRGaW5pc2hpbmdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSwgW2Zvcm1EYXRhLnByb2R1Y3RzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBNQVJHSU5fUEVSQ0VOVEFHRSA9IDAuMztcbiAgICBjb25zdCBWQVRfUEVSQ0VOVEFHRSA9IDAuMDU7XG5cbiAgICAvLyAxLiBQYXBlciBDb3N0cyAocHJpY2UgcGVyIHNoZWV0IMOXIGVudGVyZWQgc2hlZXRzKVxuICAgIGNvbnN0IHBhcGVyQ29zdCA9IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycy5yZWR1Y2UoKHRvdGFsLCBwKSA9PiB7XG4gICAgICAvLyBNYW51YWwgcHJpY2luZyBvdmVycmlkZTogdXNlIGRpcmVjdCBwcmljZSBwZXIgc2hlZXQgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSB1c2UgcGFja2V0IHByaWNpbmdcbiAgICAgIGNvbnN0IHByaWNlUGVyU2hlZXQgPSBwLnByaWNlUGVyU2hlZXQgfHwgXG4gICAgICAgIChwLnByaWNlUGVyUGFja2V0ICYmIHAuc2hlZXRzUGVyUGFja2V0ICYmIHAuc2hlZXRzUGVyUGFja2V0ID4gMCBcbiAgICAgICAgICA/IHAucHJpY2VQZXJQYWNrZXQgLyBwLnNoZWV0c1BlclBhY2tldCBcbiAgICAgICAgICA6IDApO1xuICAgICAgY29uc3QgYWN0dWFsU2hlZXRzTmVlZGVkID0gcC5lbnRlcmVkU2hlZXRzIHx8IDA7XG4gICAgICByZXR1cm4gdG90YWwgKyAocHJpY2VQZXJTaGVldCAqIGFjdHVhbFNoZWV0c05lZWRlZCk7XG4gICAgfSwgMCk7XG5cbiAgICAvLyAyLiBQbGF0ZXMgQ29zdCAocGVyIHBsYXRlLCB0eXBpY2FsbHkgJDI1LTUwIHBlciBwbGF0ZSlcbiAgICBjb25zdCBQTEFURV9DT1NUX1BFUl9QTEFURSA9IDM1OyAvLyBTdGFuZGFyZCBwbGF0ZSBjb3N0XG4gICAgY29uc3QgcGxhdGVzQ29zdCA9IChmb3JtRGF0YS5vcGVyYXRpb25hbC5wbGF0ZXMgfHwgMCkgKiBQTEFURV9DT1NUX1BFUl9QTEFURTtcblxuICAgIC8vIDMuIEZpbmlzaGluZyBDb3N0cyAoY29zdCBwZXIgdW5pdCDDlyBhY3R1YWwgdW5pdHMgbmVlZGVkKVxuICAgIGNvbnN0IGFjdHVhbFVuaXRzTmVlZGVkID0gZm9ybURhdGEub3BlcmF0aW9uYWwudW5pdHMgfHwgZm9ybURhdGEucHJvZHVjdHNbMF0/LnF1YW50aXR5IHx8IDA7XG4gICAgY29uc3QgZmluaXNoaW5nQ29zdCA9IGZvcm1EYXRhLm9wZXJhdGlvbmFsLmZpbmlzaGluZy5yZWR1Y2UoKHRvdGFsLCBmKSA9PiB7XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGZpbmlzaGluZyBpcyB1c2VkIGJ5IGFueSBwcm9kdWN0IHVzaW5nIG1lbW9pemVkIGNoZWNrXG4gICAgICBjb25zdCBpc1VzZWRCeUFueVByb2R1Y3QgPSBwcm9kdWN0c0ZpbmlzaGluZ0NoZWNrLnNvbWUocHJvZHVjdCA9PiBcbiAgICAgICAgcHJvZHVjdC5maW5pc2hpbmcuaW5jbHVkZXMoZi5uYW1lKVxuICAgICAgKTtcbiAgICAgIGlmIChpc1VzZWRCeUFueVByb2R1Y3QpIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgKChmLmNvc3QgfHwgMCkgKiBhY3R1YWxVbml0c05lZWRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG90YWw7XG4gICAgfSwgMCk7XG5cbiAgICAvLyA0LiBDYWxjdWxhdGUgdG90YWwgY29zdHMgd2l0aCBmYWxsYmFjayBmb3IgbWlzc2luZyBvcGVyYXRpb25hbCBkYXRhXG4gICAgbGV0IGJhc2VQcmljZSA9IHBhcGVyQ29zdCArIHBsYXRlc0Nvc3QgKyBmaW5pc2hpbmdDb3N0O1xuICAgIFxuICAgIC8vIEZhbGxiYWNrOiBJZiBubyBvcGVyYXRpb25hbCBkYXRhLCB1c2UgYmFzaWMgcHJvZHVjdCBjYWxjdWxhdGlvblxuICAgIGlmIChiYXNlUHJpY2UgPT09IDAgJiYgZm9ybURhdGEucHJvZHVjdHNbMF0pIHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBmb3JtRGF0YS5wcm9kdWN0c1swXTtcbiAgICAgIGNvbnN0IHF1YW50aXR5ID0gcHJvZHVjdC5xdWFudGl0eSB8fCAwO1xuICAgICAgXG4gICAgICAvLyBCYXNpYyBwcmljaW5nIGJhc2VkIG9uIHByb2R1Y3QgdHlwZSBhbmQgcXVhbnRpdHlcbiAgICAgIGxldCBiYXNlUHJpY2VQZXJVbml0ID0gMDtcbiAgICAgIHN3aXRjaCAocHJvZHVjdC5wcm9kdWN0TmFtZSkge1xuICAgICAgICBjYXNlICdCdXNpbmVzcyBDYXJkJzpcbiAgICAgICAgICBiYXNlUHJpY2VQZXJVbml0ID0gMC4wODsgLy8gJDAuMDggcGVyIGNhcmRcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRmx5ZXIgQTUnOlxuICAgICAgICAgIGJhc2VQcmljZVBlclVuaXQgPSAwLjE1OyAvLyAkMC4xNSBwZXIgZmx5ZXJcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUG9zdGVyIEEyJzpcbiAgICAgICAgICBiYXNlUHJpY2VQZXJVbml0ID0gMi41MDsgLy8gJDIuNTAgcGVyIHBvc3RlclxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYWdhemluZSc6XG4gICAgICAgICAgYmFzZVByaWNlUGVyVW5pdCA9IDEuMDA7IC8vICQxLjAwIHBlciBtYWdhemluZVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnQgQm9vayc6XG4gICAgICAgICAgYmFzZVByaWNlUGVyVW5pdCA9IDEuMDA7IC8vICQxLjAwIHBlciBib29rXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1N0aWNrZXIgUGFjayc6XG4gICAgICAgICAgYmFzZVByaWNlUGVyVW5pdCA9IDAuNTA7IC8vICQwLjUwIHBlciBzdGlja2VyIHBhY2tcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBiYXNlUHJpY2VQZXJVbml0ID0gMC4xMDsgLy8gRGVmYXVsdCAkMC4xMCBwZXIgdW5pdFxuICAgICAgfVxuICAgICAgXG4gICAgICBiYXNlUHJpY2UgPSBxdWFudGl0eSAqIGJhc2VQcmljZVBlclVuaXQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCBhZGRpdGlvbmFsIGNvc3RzIHRvIGJhc2UgcHJpY2VcbiAgICBjb25zdCBhZGRpdGlvbmFsQ29zdHNUb3RhbCA9IGZvcm1EYXRhLmFkZGl0aW9uYWxDb3N0cz8ucmVkdWNlKCh0b3RhbCwgY29zdCkgPT4gdG90YWwgKyAoY29zdC5jb3N0IHx8IDApLCAwKSB8fCAwO1xuICAgIGNvbnN0IHRvdGFsQmFzZVByaWNlID0gYmFzZVByaWNlICsgYWRkaXRpb25hbENvc3RzVG90YWw7XG4gICAgXG4gICAgY29uc3QgbWFyZ2luQW1vdW50ID0gdG90YWxCYXNlUHJpY2UgKiBNQVJHSU5fUEVSQ0VOVEFHRTtcbiAgICBjb25zdCBzdWJ0b3RhbCA9IHRvdGFsQmFzZVByaWNlICsgbWFyZ2luQW1vdW50O1xuICAgIGNvbnN0IHZhdEFtb3VudCA9IHN1YnRvdGFsICogVkFUX1BFUkNFTlRBR0U7XG4gICAgY29uc3QgdG90YWxQcmljZSA9IHN1YnRvdGFsICsgdmF0QW1vdW50O1xuXG4gICAgY29uc29sZS5sb2coXCJDYWxjdWxhdGlvbiB0cmlnZ2VyZWQ6XCIsIHtcbiAgICAgIHBhcGVyQ29zdCxcbiAgICAgIHBsYXRlc0Nvc3QsXG4gICAgICBmaW5pc2hpbmdDb3N0LFxuICAgICAgYmFzZVByaWNlLFxuICAgICAgbWFyZ2luQW1vdW50LFxuICAgICAgc3VidG90YWwsXG4gICAgICB2YXRBbW91bnQsXG4gICAgICB0b3RhbFByaWNlLFxuICAgICAgcHJvZHVjdHNGaW5pc2hpbmdDaGVjayxcbiAgICAgIGFjdHVhbFVuaXRzTmVlZGVkXG4gICAgfSk7XG5cbiAgICBzZXRGb3JtRGF0YSgocHJldikgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBjYWxjdWxhdGlvbjogeyBcbiAgICAgICAgYmFzZVByaWNlOiB0b3RhbEJhc2VQcmljZSwgLy8gSW5jbHVkZSBhZGRpdGlvbmFsIGNvc3RzXG4gICAgICAgIG1hcmdpbkFtb3VudCwgXG4gICAgICAgIG1hcmdpblBlcmNlbnRhZ2U6IE1BUkdJTl9QRVJDRU5UQUdFICogMTAwLCAvLyBDb252ZXJ0IHRvIHBlcmNlbnRhZ2VcbiAgICAgICAgc3VidG90YWwsIFxuICAgICAgICBmaW5hbFN1YnRvdGFsOiBzdWJ0b3RhbCwgLy8gU2FtZSBhcyBzdWJ0b3RhbCBmb3Igbm93XG4gICAgICAgIHZhdEFtb3VudCwgXG4gICAgICAgIHRvdGFsUHJpY2UgXG4gICAgICB9LFxuICAgIH0pKTtcbiAgfSwgW1xuICAgIGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycyxcbiAgICBmb3JtRGF0YS5vcGVyYXRpb25hbC5wbGF0ZXMsXG4gICAgZm9ybURhdGEub3BlcmF0aW9uYWwudW5pdHMsXG4gICAgZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nLFxuICAgIGZvcm1EYXRhLmFkZGl0aW9uYWxDb3N0cyxcbiAgICBwcm9kdWN0c0ZpbmlzaGluZ0NoZWNrLFxuICAgIGZvcm1EYXRhLnByb2R1Y3RzXG4gIF0pO1xuXG4gIGNvbnN0IG5leHRTdGVwID0gKCkgPT4gc2V0Q3VycmVudFN0ZXAoKHMpID0+IE1hdGgubWluKDUsIHMgKyAxKSk7XG4gIGNvbnN0IHByZXZTdGVwID0gKCkgPT4gc2V0Q3VycmVudFN0ZXAoKHMpID0+IE1hdGgubWF4KDEsIHMgLSAxKSk7XG5cbiAgLy8gU2Nyb2xsIHRvIHRvcCB3aGVuZXZlciBzdGVwIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTY3JvbGwgdG8gdG9wIGltbWVkaWF0ZWx5IGFuZCBzbW9vdGhseVxuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIFxuICAgIC8vIEFsc28gZW5zdXJlIHRoZSBtYWluIGNvbnRhaW5lciBpcyBhdCB0aGUgdG9wXG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5taW4taC1zY3JlZW4nKTtcbiAgICBpZiAobWFpbkNvbnRhaW5lcikge1xuICAgICAgbWFpbkNvbnRhaW5lci5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdzdGFydCcgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlbW92ZSBmb2N1cyBmcm9tIGFueSBhdXRvLWZvY3VzZWQgZWxlbWVudHMgdG8gcHJldmVudCBzY3JvbGxcbiAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LmJsdXIpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRTdGVwXSk7XG5cbiAgLy8gQWRkIHZhbGlkYXRpb24gZnVuY3Rpb25zIGZvciBOZXh0IGJ1dHRvblxuICBjb25zdCBjYW5Qcm9jZWVkRnJvbVN0ZXAxID0gKCkgPT4ge1xuICAgIHJldHVybiBxdW90ZU1vZGUgIT09IG51bGw7IC8vIFVzZXIgbXVzdCBzZWxlY3QgZWl0aGVyIG5ldyBvciBleGlzdGluZyBxdW90ZSBtb2RlXG4gIH07XG5cbiAgY29uc3QgY2FuUHJvY2VlZEZyb21TdGVwMiA9ICgpID0+IHtcbiAgICBpZiAocXVvdGVNb2RlID09PSBcIm5ld1wiKSB7XG4gICAgICAvLyBGb3IgbmV3IHF1b3RlIG1vZGUsIHZhbGlkYXRlIGFsbCBlc3NlbnRpYWwgZmllbGRzIGluY2x1ZGluZyBuZXcgb25lc1xuICAgICAgY29uc3QgY2xpZW50ID0gZm9ybURhdGEuY2xpZW50O1xuICAgICAgXG4gICAgICAvLyBCYXNpYyByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGNvbnN0IGVzc2VudGlhbEZpZWxkcyA9IFtcbiAgICAgICAgY2xpZW50LmZpcnN0TmFtZSwgLy8gRmlyc3QgbmFtZSBpcyByZXF1aXJlZFxuICAgICAgICBjbGllbnQuZW1haWwsICAgICAvLyBFbWFpbCBpcyByZXF1aXJlZFxuICAgICAgICBjbGllbnQucGhvbmUgICAgICAvLyBQaG9uZSBpcyByZXF1aXJlZFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gQWRkIGNvbXBhbnktc3BlY2lmaWMgcmVxdWlyZWQgZmllbGRzIG9ubHkgaWYgY29tcGFueSB0eXBlXG4gICAgICBpZiAoY2xpZW50LmNsaWVudFR5cGUgPT09IFwiQ29tcGFueVwiKSB7XG4gICAgICAgIGVzc2VudGlhbEZpZWxkcy5wdXNoKGNsaWVudC5jb21wYW55TmFtZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGJhc2ljIGZpZWxkcyBhcmUgZmlsbGVkXG4gICAgICBjb25zdCBiYXNpY0ZpZWxkc1ZhbGlkID0gZXNzZW50aWFsRmllbGRzLmV2ZXJ5KGZpZWxkID0+IGZpZWxkICYmIGZpZWxkLnRyaW0oKSAhPT0gXCJcIik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIFRSTiByZXF1aXJlbWVudCAoZWl0aGVyIFRSTiBmaWxsZWQgb3IgXCJObyBUUk5cIiBzZWxlY3RlZClcbiAgICAgIGNvbnN0IHRyblZhbGlkID0gY2xpZW50Lmhhc05vVHJuIHx8IChjbGllbnQudHJuICYmIGNsaWVudC50cm4udHJpbSgpICE9PSBcIlwiKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgQXJlYSByZXF1aXJlbWVudFxuICAgICAgY29uc3QgYXJlYVZhbGlkID0gY2xpZW50LmFyZWEgJiYgY2xpZW50LmFyZWEudHJpbSgpICE9PSBcIlwiO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBTdGF0ZSBhbmQgQ291bnRyeSAoc2hvdWxkIGhhdmUgZGVmYXVsdHMpXG4gICAgICBjb25zdCBzdGF0ZVZhbGlkID0gY2xpZW50LnN0YXRlICYmIGNsaWVudC5zdGF0ZS50cmltKCkgIT09IFwiXCI7XG4gICAgICBjb25zdCBjb3VudHJ5VmFsaWQgPSBjbGllbnQuY291bnRyeSAmJiBjbGllbnQuY291bnRyeS50cmltKCkgIT09IFwiXCI7XG4gICAgICBcbiAgICAgIHJldHVybiBiYXNpY0ZpZWxkc1ZhbGlkICYmIHRyblZhbGlkICYmIGFyZWFWYWxpZCAmJiBzdGF0ZVZhbGlkICYmIGNvdW50cnlWYWxpZDtcbiAgICB9IGVsc2UgaWYgKHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiKSB7XG4gICAgICAvLyBGb3IgZXhpc3RpbmcgcXVvdGUgbW9kZSwgd2UgbmVlZCB0byBzZWxlY3QgYW4gYWN0dWFsIGV4aXN0aW5nIHF1b3RlXG4gICAgICByZXR1cm4gc2VsZWN0ZWRRdW90ZUlkICE9PSBudWxsOyAvLyBNdXN0IGhhdmUgc2VsZWN0ZWQgYSBzcGVjaWZpYyBxdW90ZSB0byBlZGl0XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBjYW5Qcm9jZWVkRnJvbVN0ZXAzID0gKCkgPT4ge1xuICAgIC8vIEZvciBleGlzdGluZyBxdW90ZXMsIHdlIG5lZWQgdG8gY2hlY2sgaWYgYSBxdW90ZSBpcyBzZWxlY3RlZCBmaXJzdFxuICAgIGlmIChxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIiAmJiAhc2VsZWN0ZWRRdW90ZUlkKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBTdGVwIDMgVmFsaWRhdGlvbjogTm8gcXVvdGUgc2VsZWN0ZWQgZm9yIGV4aXN0aW5nIG1vZGUnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IGF0IGxlYXN0IG9uZSBwcm9kdWN0IGhhcyBiZWVuIGNvbmZpZ3VyZWQgd2l0aCBhIHBhcGVyXG4gICAgaWYgKCFmb3JtRGF0YS5wcm9kdWN0cyB8fCBmb3JtRGF0YS5wcm9kdWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFN0ZXAgMyBWYWxpZGF0aW9uOiBObyBwcm9kdWN0cyBmb3VuZCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIERlYnVnOiBMb2cgYWxsIHByb2R1Y3RzIGFuZCB0aGVpciBwYXBlcnNcbiAgICBjb25zb2xlLmxvZygn8J+UjSBTdGVwIDMgVmFsaWRhdGlvbiBEZWJ1ZzonLCB7XG4gICAgICBxdW90ZU1vZGUsXG4gICAgICBzZWxlY3RlZFF1b3RlSWQsXG4gICAgICBwcm9kdWN0c0NvdW50OiBmb3JtRGF0YS5wcm9kdWN0cy5sZW5ndGgsXG4gICAgICBwcm9kdWN0czogZm9ybURhdGEucHJvZHVjdHMubWFwKChwcm9kdWN0LCBpbmRleCkgPT4gKHtcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0LnByb2R1Y3ROYW1lLFxuICAgICAgICBwYXBlcnNDb3VudDogcHJvZHVjdC5wYXBlcnM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICBwYXBlcnM6IHByb2R1Y3QucGFwZXJzPy5tYXAoKHBhcGVyLCBwSW5kZXgpID0+ICh7XG4gICAgICAgICAgcEluZGV4LFxuICAgICAgICAgIG5hbWU6IHBhcGVyLm5hbWUsXG4gICAgICAgICAgZ3NtOiBwYXBlci5nc20sXG4gICAgICAgICAgaXNWYWxpZDogcGFwZXIubmFtZSAmJiBwYXBlci5uYW1lICE9PSBcIlNlbGVjdCBQYXBlclwiICYmIHBhcGVyLm5hbWUudHJpbSgpICE9PSBcIlwiXG4gICAgICAgIH0pKSB8fCBbXVxuICAgICAgfSkpXG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgcHJvZHVjdCBoYXMgYSB2YWxpZCBwYXBlciBzZWxlY3RlZCAobm90IFwiU2VsZWN0IFBhcGVyXCIpXG4gICAgY29uc3QgaGFzVmFsaWRQYXBlciA9IGZvcm1EYXRhLnByb2R1Y3RzLnNvbWUocHJvZHVjdCA9PiBcbiAgICAgIHByb2R1Y3QucGFwZXJzICYmIHByb2R1Y3QucGFwZXJzLmxlbmd0aCA+IDAgJiYgXG4gICAgICBwcm9kdWN0LnBhcGVycy5zb21lKHBhcGVyID0+IFxuICAgICAgICBwYXBlci5uYW1lICYmIFxuICAgICAgICBwYXBlci5uYW1lICE9PSBcIlNlbGVjdCBQYXBlclwiICYmIFxuICAgICAgICBwYXBlci5uYW1lLnRyaW0oKSAhPT0gXCJcIlxuICAgICAgKVxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZygn8J+UjSBTdGVwIDMgVmFsaWRhdGlvbiBSZXN1bHQ6JywgaGFzVmFsaWRQYXBlcik7XG4gICAgcmV0dXJuIGhhc1ZhbGlkUGFwZXI7XG4gIH07XG5cbiAgY29uc3QgaXNOZXh0QnV0dG9uRGlzYWJsZWQgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRTdGVwID09PSAxKSB7XG4gICAgICBjb25zdCBkaXNhYmxlZCA9ICFjYW5Qcm9jZWVkRnJvbVN0ZXAxKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBOZXh0IEJ1dHRvbiAtIFN0ZXAgMTonLCBkaXNhYmxlZCk7XG4gICAgICByZXR1cm4gZGlzYWJsZWQ7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50U3RlcCA9PT0gMikge1xuICAgICAgY29uc3QgZGlzYWJsZWQgPSAhY2FuUHJvY2VlZEZyb21TdGVwMigpO1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gTmV4dCBCdXR0b24gLSBTdGVwIDI6JywgZGlzYWJsZWQpO1xuICAgICAgcmV0dXJuIGRpc2FibGVkO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudFN0ZXAgPT09IDMpIHtcbiAgICAgIGNvbnN0IGRpc2FibGVkID0gIWNhblByb2NlZWRGcm9tU3RlcDMoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIE5leHQgQnV0dG9uIC0gU3RlcCAzOicsIGRpc2FibGVkKTtcbiAgICAgIHJldHVybiBkaXNhYmxlZDtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ/CflI0gTmV4dCBCdXR0b24gLSBPdGhlciBzdGVwOicsIGZhbHNlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RhcnROZXcgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIG5ldyBxdW90ZSAtIHJlc2V0dGluZyBhbGwgZGF0YScpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIGNvbXBsZXRlbHkgY2xlYW4gY2xpZW50IG9iamVjdFxuICAgIGNvbnN0IGNsZWFuQ2xpZW50ID0ge1xuICAgICAgY2xpZW50VHlwZTogXCJDb21wYW55XCIgYXMgY29uc3QsXG4gICAgICBjb21wYW55TmFtZTogXCJcIixcbiAgICAgIGNvbnRhY3RQZXJzb246IFwiXCIsXG4gICAgICBmaXJzdE5hbWU6IFwiXCIsXG4gICAgICBsYXN0TmFtZTogXCJcIixcbiAgICAgIGVtYWlsOiBcIlwiLFxuICAgICAgZW1haWxzOiBKU09OLnN0cmluZ2lmeShbXCJcIl0pLFxuICAgICAgcGhvbmU6IFwiXCIsXG4gICAgICBjb3VudHJ5Q29kZTogXCIrOTcxXCIsXG4gICAgICByb2xlOiBcIlwiLFxuICAgICAgdHJuOiBcIlwiLFxuICAgICAgaGFzTm9Ucm46IGZhbHNlLFxuICAgICAgYWRkcmVzczogXCJcIixcbiAgICAgIGNpdHk6IFwiXCIsXG4gICAgICBhcmVhOiBcIlwiLFxuICAgICAgc3RhdGU6IFwiRHViYWlcIixcbiAgICAgIHBvc3RhbENvZGU6IFwiXCIsXG4gICAgICBjb3VudHJ5OiBcIlVBRVwiLFxuICAgICAgYWRkaXRpb25hbEluZm86IFwiXCIsXG4gICAgfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnQ2xlYW4gY2xpZW50IG9iamVjdCBjcmVhdGVkOicsIGNsZWFuQ2xpZW50KTtcbiAgICBcbiAgICAvLyBSZXNldCBmb3JtIGRhdGEgY29tcGxldGVseVxuICAgIHNldEZvcm1EYXRhKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXdGb3JtRGF0YSA9IHsgXG4gICAgICAgIC4uLnByZXYsIFxuICAgICAgICBjbGllbnQ6IGNsZWFuQ2xpZW50LFxuICAgICAgICAvLyBTdGFydCB3aXRoIGNvbXBsZXRlbHkgZW1wdHkgcHJvZHVjdHMgYXJyYXkgZm9yIG5ldyBxdW90ZXNcbiAgICAgICAgcHJvZHVjdHM6IFtdXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnTmV3IGZvcm0gZGF0YSBzZXQ6JywgbmV3Rm9ybURhdGEpO1xuICAgICAgcmV0dXJuIG5ld0Zvcm1EYXRhO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFJlc2V0IGFsbCBjdXN0b21lci1yZWxhdGVkIHN0YXRlXG4gICAgc2V0UXVvdGVNb2RlKFwibmV3XCIpO1xuICAgIHNldFNlbGVjdGVkUXVvdGVJZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgIC8vIERvbid0IGF1dG8tbmF2aWdhdGUgLSBqdXN0IHNldCB0aGUgbW9kZSBmb3Igc2VsZWN0aW9uXG4gICAgXG4gICAgY29uc29sZS5sb2coJ05ldyBxdW90ZSBtb2RlIHNlbGVjdGVkIC0gcmVhZHkgZm9yIG5leHQgc3RlcCcpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdFF1b3RlID0gKHE6IFByZXZpb3VzUXVvdGUpID0+IHtcbiAgICBjb25zdCBkZXRhaWwgPSBRVU9URV9ERVRBSUxTW3EuaWRdO1xuICAgIGlmICghZGV0YWlsKSByZXR1cm47XG4gICAgc2V0Rm9ybURhdGEoKHByZXYpID0+IGRldGFpbFRvRm9ybShkZXRhaWwsIHByZXYpKTtcbiAgICBzZXRRdW90ZU1vZGUoXCJleGlzdGluZ1wiKTtcbiAgICBzZXRTZWxlY3RlZFF1b3RlSWQocS5pZCk7IC8vIFNldCB0aGUgc2VsZWN0ZWQgcXVvdGUgSUQgZm9yIHVwZGF0aW5nXG4gICAgLy8gRG9uJ3QgYXV0by1uYXZpZ2F0ZSAtIGp1c3Qgc2V0IHRoZSBtb2RlIGZvciBzZWxlY3Rpb25cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RDdXN0b21lciA9IChjdXN0b21lcjoge1xuICAgIGlkPzogc3RyaW5nOyAvLyBBZGQgb3B0aW9uYWwgSUQgZmllbGQgZm9yIGV4aXN0aW5nIGN1c3RvbWVyc1xuICAgIGNsaWVudFR5cGU6ICdJbmRpdmlkdWFsJyB8ICdDb21wYW55JztcbiAgICBjb21wYW55TmFtZTogc3RyaW5nO1xuICAgIGNvbnRhY3RQZXJzb246IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBob25lOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGU6IHN0cmluZztcbiAgICByb2xlOiBzdHJpbmc7XG4gICAgYWRkcmVzcz86IHN0cmluZztcbiAgICBjaXR5Pzogc3RyaW5nO1xuICAgIHN0YXRlPzogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU/OiBzdHJpbmc7XG4gICAgY291bnRyeT86IHN0cmluZztcbiAgICBhZGRpdGlvbmFsSW5mbz86IHN0cmluZztcbiAgfSkgPT4ge1xuICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoY3VzdG9tZXIpO1xuICAgIHNldEZvcm1EYXRhKChwcmV2KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGNsaWVudDoge1xuICAgICAgICBjbGllbnRUeXBlOiBjdXN0b21lci5jbGllbnRUeXBlIGFzICdJbmRpdmlkdWFsJyB8ICdDb21wYW55JyxcbiAgICAgICAgY29tcGFueU5hbWU6IGN1c3RvbWVyLmNvbXBhbnlOYW1lIHx8ICcnLFxuICAgICAgICBjb250YWN0UGVyc29uOiBjdXN0b21lci5jb250YWN0UGVyc29uLFxuICAgICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXG4gICAgICAgIHBob25lOiBjdXN0b21lci5waG9uZSxcbiAgICAgICAgY291bnRyeUNvZGU6IGN1c3RvbWVyLmNvdW50cnlDb2RlLFxuICAgICAgICByb2xlOiBjdXN0b21lci5yb2xlIHx8ICcnLFxuICAgICAgICBhZGRyZXNzOiBjdXN0b21lci5hZGRyZXNzIHx8ICcnLFxuICAgICAgICBjaXR5OiBjdXN0b21lci5jaXR5IHx8ICcnLFxuICAgICAgICBzdGF0ZTogY3VzdG9tZXIuc3RhdGUgfHwgJycsXG4gICAgICAgIHBvc3RhbENvZGU6IGN1c3RvbWVyLnBvc3RhbENvZGUgfHwgJycsXG4gICAgICAgIGNvdW50cnk6IGN1c3RvbWVyLmNvdW50cnkgfHwgJycsXG4gICAgICAgIGFkZGl0aW9uYWxJbmZvOiBjdXN0b21lci5hZGRpdGlvbmFsSW5mbyB8fCAnJyxcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRWRpdEN1c3RvbWVyID0gKGN1c3RvbWVyOiB7XG4gICAgY2xpZW50VHlwZTogJ0luZGl2aWR1YWwnIHwgJ0NvbXBhbnknO1xuICAgIGNvbXBhbnlOYW1lOiBzdHJpbmc7XG4gICAgY29udGFjdFBlcnNvbjogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgcGhvbmU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIHJvbGU6IHN0cmluZztcbiAgICBhZGRyZXNzPzogc3RyaW5nO1xuICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvPzogc3RyaW5nO1xuICB9KSA9PiB7XG4gICAgLy8gSGFuZGxlIGVkaXRpbmcgY3VzdG9tZXIgLSBmb3Igbm93IGp1c3Qgc2VsZWN0IGl0XG4gICAgaGFuZGxlU2VsZWN0Q3VzdG9tZXIoY3VzdG9tZXIpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVyU2VsZWN0ID0gYXN5bmMgKGN1c3RvbWVyOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBjbGllbnRUeXBlPzogc3RyaW5nO1xuICAgIGNvbXBhbnlOYW1lPzogc3RyaW5nO1xuICAgIGNvbnRhY3RQZXJzb246IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nO1xuICAgIHJvbGU/OiBzdHJpbmc7XG4gICAgYWRkcmVzcz86IHN0cmluZztcbiAgICBjaXR5Pzogc3RyaW5nO1xuICAgIHN0YXRlPzogc3RyaW5nO1xuICAgIHBvc3RhbENvZGU/OiBzdHJpbmc7XG4gICAgY291bnRyeT86IHN0cmluZztcbiAgICBhZGRpdGlvbmFsSW5mbz86IHN0cmluZztcbiAgfSkgPT4ge1xuICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoe1xuICAgICAgaWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgY2xpZW50VHlwZTogKGN1c3RvbWVyLmNsaWVudFR5cGUgfHwgJ0luZGl2aWR1YWwnKSBhcyAnSW5kaXZpZHVhbCcgfCAnQ29tcGFueScsXG4gICAgICBjb21wYW55TmFtZTogY3VzdG9tZXIuY29tcGFueU5hbWUgfHwgbnVsbCxcbiAgICAgIGNvbnRhY3RQZXJzb246IGN1c3RvbWVyLmNvbnRhY3RQZXJzb24sXG4gICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXG4gICAgICBwaG9uZTogY3VzdG9tZXIucGhvbmUgfHwgJycsXG4gICAgICBjb3VudHJ5Q29kZTogY3VzdG9tZXIuY291bnRyeUNvZGUgfHwgJycsXG4gICAgICByb2xlOiBjdXN0b21lci5yb2xlIHx8IG51bGwsXG4gICAgICBhZGRyZXNzOiBjdXN0b21lci5hZGRyZXNzIHx8ICcnLFxuICAgICAgY2l0eTogY3VzdG9tZXIuY2l0eSB8fCAnJyxcbiAgICAgIHN0YXRlOiBjdXN0b21lci5zdGF0ZSB8fCAnJyxcbiAgICAgIHBvc3RhbENvZGU6IGN1c3RvbWVyLnBvc3RhbENvZGUgfHwgJycsXG4gICAgICBjb3VudHJ5OiBjdXN0b21lci5jb3VudHJ5IHx8ICcnLFxuICAgICAgYWRkaXRpb25hbEluZm86IGN1c3RvbWVyLmFkZGl0aW9uYWxJbmZvIHx8ICcnLFxuICAgIH0pO1xuICAgIC8vIEVuc3VyZSBwaG9uZSBoYXMgYSB2YWx1ZSAtIGlmIGVtcHR5LCB1c2UgYSBkZWZhdWx0XG4gICAgY29uc3QgcGhvbmVWYWx1ZSA9IGN1c3RvbWVyLnBob25lICYmIGN1c3RvbWVyLnBob25lLnRyaW0oKSAhPT0gJycgPyBjdXN0b21lci5waG9uZSA6ICcwMDAwMDAwMDAwJztcbiAgICBcbiAgICBjb25zb2xlLmxvZygnPT09IEFVVE8tRklMTElORyBDTElFTlQgREFUQSA9PT0nKTtcbiAgICBjb25zb2xlLmxvZygnQ3VzdG9tZXIgZGF0YSByZWNlaXZlZDonLCBjdXN0b21lcik7XG4gICAgY29uc29sZS5sb2coJ1Bob25lIHZhbHVlOicsIHBob25lVmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKCdFbWFpbCB2YWx1ZTonLCBjdXN0b21lci5lbWFpbCk7XG4gICAgXG4gICAgc2V0Rm9ybURhdGEoKHByZXYpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgY2xpZW50OiB7XG4gICAgICAgIGNsaWVudFR5cGU6IChjdXN0b21lci5jbGllbnRUeXBlIHx8ICdJbmRpdmlkdWFsJykgYXMgJ0luZGl2aWR1YWwnIHwgJ0NvbXBhbnknLFxuICAgICAgICBjb21wYW55TmFtZTogY3VzdG9tZXIuY29tcGFueU5hbWUgfHwgJycsXG4gICAgICAgIGNvbnRhY3RQZXJzb246IGN1c3RvbWVyLmNvbnRhY3RQZXJzb24sXG4gICAgICAgIGVtYWlsOiBjdXN0b21lci5lbWFpbCxcbiAgICAgICAgcGhvbmU6IHBob25lVmFsdWUsXG4gICAgICAgIGNvdW50cnlDb2RlOiBjdXN0b21lci5jb3VudHJ5Q29kZSB8fCAnKzk3MScsXG4gICAgICAgIHJvbGU6IGN1c3RvbWVyLnJvbGUgfHwgJycsXG4gICAgICAgIGFkZHJlc3M6IGN1c3RvbWVyLmFkZHJlc3MgfHwgJycsXG4gICAgICAgIGNpdHk6IGN1c3RvbWVyLmNpdHkgfHwgJycsXG4gICAgICAgIHN0YXRlOiBjdXN0b21lci5zdGF0ZSB8fCAnJyxcbiAgICAgICAgcG9zdGFsQ29kZTogY3VzdG9tZXIucG9zdGFsQ29kZSB8fCAnJyxcbiAgICAgICAgY291bnRyeTogY3VzdG9tZXIuY291bnRyeSB8fCAnJyxcbiAgICAgICAgYWRkaXRpb25hbEluZm86IGN1c3RvbWVyLmFkZGl0aW9uYWxJbmZvIHx8ICcnLFxuICAgICAgfVxuICAgIH0pKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnRm9ybSBkYXRhIHVwZGF0ZWQgd2l0aCBjbGllbnQgaW5mbycpO1xuXG4gICAgLy8gQXV0by1maWxsIFN0ZXAgMyBkYXRhIGlmIGN1c3RvbWVyIGhhcyBwcmV2aW91cyBxdW90ZXNcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyBxdW90ZXMgZW5kcG9pbnQgYW5kIGZpbHRlciBieSBjbGllbnQgSURcbiAgICAgIGNvbnN0IHF1b3Rlc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcXVvdGVzJyk7XG4gICAgICBpZiAoIXF1b3Rlc1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHF1b3RlcyBmb3IgYXV0b2ZpbGwnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgYWxsUXVvdGVzID0gYXdhaXQgcXVvdGVzUmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgY2xpZW50UXVvdGVzID0gYWxsUXVvdGVzLmZpbHRlcigocXVvdGU6IGFueSkgPT4gcXVvdGUuY2xpZW50SWQgPT09IGN1c3RvbWVyLmlkKTtcbiAgICAgIFxuICAgICAgaWYgKGNsaWVudFF1b3Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEdyb3VwIHF1b3RlcyBieSBxdW90ZUlkIHRvIGdldCBxdW90ZSBncm91cHMgKGEgcXVvdGUgY2FuIGhhdmUgbXVsdGlwbGUgcHJvZHVjdHMpXG4gICAgICAgIGNvbnN0IHF1b3RlR3JvdXBzID0gY2xpZW50UXVvdGVzLnJlZHVjZSgoZ3JvdXBzOiBhbnksIHF1b3RlOiBhbnkpID0+IHtcbiAgICAgICAgICBpZiAoIWdyb3Vwc1txdW90ZS5xdW90ZUlkXSkge1xuICAgICAgICAgICAgZ3JvdXBzW3F1b3RlLnF1b3RlSWRdID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3Vwc1txdW90ZS5xdW90ZUlkXS5wdXNoKHF1b3RlKTtcbiAgICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgdGhlIG1vc3QgcmVjZW50IHF1b3RlIGdyb3VwIChieSBkYXRlKVxuICAgICAgICBjb25zdCBsYXRlc3RRdW90ZUlkID0gT2JqZWN0LmtleXMocXVvdGVHcm91cHMpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRlQSA9IG5ldyBEYXRlKHF1b3RlR3JvdXBzW2FdWzBdLmRhdGUpO1xuICAgICAgICAgIGNvbnN0IGRhdGVCID0gbmV3IERhdGUocXVvdGVHcm91cHNbYl1bMF0uZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIGRhdGVCLmdldFRpbWUoKSAtIGRhdGVBLmdldFRpbWUoKTtcbiAgICAgICAgfSlbMF07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsYXRlc3RRdW90ZXMgPSBxdW90ZUdyb3Vwc1tsYXRlc3RRdW90ZUlkXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdMYXRlc3QgcXVvdGVzIGZvciBhdXRvZmlsbDonLCBsYXRlc3RRdW90ZXMpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29udmVydCBkYXRhYmFzZSBxdW90ZXMgdG8gcHJvZHVjdHMgLSBjb25zb2xpZGF0ZSBhbGwgcGFwZXJzIGludG8gb25lIHByb2R1Y3RcbiAgICAgICAgLy8gU2luY2UgYWxsIHF1b3RlcyBpbiBsYXRlc3RRdW90ZXMgaGF2ZSB0aGUgc2FtZSBxdW90ZUlkLCB0aGV5IHJlcHJlc2VudCBvbmUgcHJvZHVjdCB3aXRoIG11bHRpcGxlIHBhcGVyc1xuICAgICAgICBjb25zdCBmaXJzdFF1b3RlID0gbGF0ZXN0UXVvdGVzWzBdO1xuICAgICAgICBcbiAgICAgICAgLy8gUGFyc2UgY29sb3JzIGlmIHRoZXkgZXhpc3RcbiAgICAgICAgbGV0IGNvbG9yczogeyBmcm9udD86IHN0cmluZzsgYmFjaz86IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZmlyc3RRdW90ZS5jb2xvcnMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29sb3JzID0gSlNPTi5wYXJzZShmaXJzdFF1b3RlLmNvbG9ycyk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgY29sb3JzIEpTT046JywgZmlyc3RRdW90ZS5jb2xvcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgcGFwZXJzIGZyb20gYWxsIHF1b3RlcyBpbiB0aGlzIGdyb3VwXG4gICAgICAgIGxldCBhbGxQYXBlcnM6IGFueVtdID0gW107XG4gICAgICAgIGxhdGVzdFF1b3Rlcy5mb3JFYWNoKChxdW90ZTogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKHF1b3RlLnBhcGVycyAmJiBBcnJheS5pc0FycmF5KHF1b3RlLnBhcGVycykgJiYgcXVvdGUucGFwZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHF1b3RlLnBhcGVycy5mb3JFYWNoKChwOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIGJlc3QgbWF0Y2hpbmcgcGFwZXIgbmFtZSBmcm9tIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgICBsZXQgcGFwZXJOYW1lID0gcC5uYW1lIHx8ICdTdGFuZGFyZCBQYXBlcic7XG4gICAgICAgICAgICAgIGxldCBwYXBlckdzbSA9IHAuZ3NtIHx8ICcxNTAnO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIG5ldmVyIGhhdmUgZW1wdHkgc3RyaW5nc1xuICAgICAgICAgICAgICBpZiAoIXBhcGVyTmFtZSB8fCBwYXBlck5hbWUudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgICAgIHBhcGVyTmFtZSA9ICdTdGFuZGFyZCBQYXBlcic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gQ29udmVydCBwYXBlckdzbSB0byBzdHJpbmcgYW5kIGVuc3VyZSBpdCdzIG5vdCBlbXB0eVxuICAgICAgICAgICAgICBpZiAoIXBhcGVyR3NtIHx8IFN0cmluZyhwYXBlckdzbSkudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgICAgIHBhcGVyR3NtID0gJzE1MCc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIHBhcGVyOiAke3BhcGVyTmFtZX0gd2l0aCBHU006ICR7cGFwZXJHc219YCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgY2xlYW4gcGFwZXIgbmFtZSB3aXRob3V0IGFueSBzdWZmaXhlcyBmb3IgYmV0dGVyIG1hdGNoaW5nXG4gICAgICAgICAgICAgIGNvbnN0IGNsZWFuUGFwZXJOYW1lID0gcGFwZXJOYW1lLnJlcGxhY2UoL1xccypcXChDdXN0b21cXCkkLywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgcGFwZXIgaXMgYWxyZWFkeSBhZGRlZCAoYXZvaWQgZHVwbGljYXRlcylcbiAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQYXBlciA9IGFsbFBhcGVycy5maW5kKGFwID0+IGFwLm5hbWUgPT09IGNsZWFuUGFwZXJOYW1lICYmIGFwLmdzbSA9PT0gcGFwZXJHc20pO1xuICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nUGFwZXIpIHtcbiAgICAgICAgICAgICAgICBhbGxQYXBlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBjbGVhblBhcGVyTmFtZSxcbiAgICAgICAgICAgICAgICAgIGdzbTogcGFwZXJHc21cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIG5vIHBhcGVycyBmb3VuZCwgdXNlIGRlZmF1bHRcbiAgICAgICAgaWYgKGFsbFBhcGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBhbGxQYXBlcnMgPSBbeyBuYW1lOiAnU3RhbmRhcmQgUGFwZXInLCBnc206ICcxNTAnIH1dO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnRmluYWwgY29uc29saWRhdGVkIHBhcGVycyBhcnJheTonLCBhbGxQYXBlcnMpO1xuICAgICAgICBjb25zb2xlLmxvZygnUGFwZXIgbmFtZXMgYmVpbmcgc3RvcmVkOicsIGFsbFBhcGVycy5tYXAocCA9PiBwLm5hbWUpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbGxlY3QgYWxsIGZpbmlzaGluZyBmcm9tIGFsbCBxdW90ZXMgaW4gdGhpcyBncm91cFxuICAgICAgICBsZXQgYWxsRmluaXNoaW5nOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGSU5JU0hJTkcgREVCVUcgLSBQcm9jZXNzaW5nIGZpbmlzaGluZyBmcm9tIHF1b3Rlcy4uLicpO1xuICAgICAgICBsYXRlc3RRdW90ZXMuZm9yRWFjaCgocXVvdGU6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZJTklTSElORyBERUJVRyAtIFF1b3RlICR7cXVvdGUucXVvdGVJZH0gZmluaXNoaW5nOmAsIHF1b3RlLmZpbmlzaGluZyk7XG4gICAgICAgICAgaWYgKHF1b3RlLmZpbmlzaGluZyAmJiBBcnJheS5pc0FycmF5KHF1b3RlLmZpbmlzaGluZykgJiYgcXVvdGUuZmluaXNoaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHF1b3RlLmZpbmlzaGluZy5mb3JFYWNoKChmOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgLy8gSGFuZGxlIGJvdGggc3RyaW5nIGZvcm1hdCAoZnJvbSBBUEkpIGFuZCBvYmplY3QgZm9ybWF0IChmcm9tIGRhdGFiYXNlKVxuICAgICAgICAgICAgICBjb25zdCBmaW5pc2hpbmdOYW1lID0gdHlwZW9mIGYgPT09ICdzdHJpbmcnID8gZiA6IChmLm5hbWUgfHwgZik7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZJTklTSElORyBERUJVRyAtIFByb2Nlc3NpbmcgZmluaXNoaW5nIGl0ZW06YCwgZiwgJy0+IG5hbWU6JywgZmluaXNoaW5nTmFtZSk7XG4gICAgICAgICAgICAgIGlmIChmaW5pc2hpbmdOYW1lICYmICFhbGxGaW5pc2hpbmcuaW5jbHVkZXMoZmluaXNoaW5nTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3JtYWxpemUgZmluaXNoaW5nIG5hbWUgdG8gbWF0Y2ggU3RlcCAzIG9wdGlvbnMgKGNhcGl0YWxpemUgZmlyc3QgbGV0dGVyKVxuICAgICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gZmluaXNoaW5nTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGZpbmlzaGluZ05hbWUuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBGSU5JU0hJTkcgREVCVUcgLSBOb3JtYWxpemVkIG5hbWU6ICR7ZmluaXNoaW5nTmFtZX0gLT4gJHtub3JtYWxpemVkTmFtZX1gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgZmluaXNoaW5nIG5hbWUgYmFzZWQgb24gc2lkZXNcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RRdW90ZS5zaWRlcyA9PT0gJzInKSB7XG4gICAgICAgICAgICAgICAgICAvLyBGb3IgZG91YmxlLXNpZGVkLCBhZGQgYm90aCBmcm9udCBhbmQgYmFjayBvcHRpb25zXG4gICAgICAgICAgICAgICAgICBhbGxGaW5pc2hpbmcucHVzaChgJHtub3JtYWxpemVkTmFtZX0tRnJvbnRgKTtcbiAgICAgICAgICAgICAgICAgIGFsbEZpbmlzaGluZy5wdXNoKGAke25vcm1hbGl6ZWROYW1lfS1CYWNrYCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvciBzaW5nbGUtc2lkZWQsIGp1c3QgYWRkIHRoZSBuYW1lXG4gICAgICAgICAgICAgICAgICBhbGxGaW5pc2hpbmcucHVzaChub3JtYWxpemVkTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGSU5JU0hJTkcgREVCVUcgLSBGaW5hbCBhbGxGaW5pc2hpbmcgYXJyYXk6JywgYWxsRmluaXNoaW5nKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIHF1b3RlIGdyb3VwICR7bGF0ZXN0UXVvdGVJZH06YCwge1xuICAgICAgICAgIHRvdGFsUXVvdGVzOiBsYXRlc3RRdW90ZXMubGVuZ3RoLFxuICAgICAgICAgIHBhcGVyczogYWxsUGFwZXJzLFxuICAgICAgICAgIGZpbmlzaGluZzogYWxsRmluaXNoaW5nLFxuICAgICAgICAgIHNpZGVzOiBmaXJzdFF1b3RlLnNpZGVzLFxuICAgICAgICAgIHJhd0ZpbmlzaGluZ0Zyb21EQjogbGF0ZXN0UXVvdGVzLm1hcCgocTogYW55KSA9PiBxLmZpbmlzaGluZylcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgb25lIHByb2R1Y3Qgd2l0aCBhbGwgcGFwZXJzIGFuZCBmaW5pc2hpbmdcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IHtcbiAgICAgICAgICBwcm9kdWN0TmFtZTogZmlyc3RRdW90ZS5wcm9kdWN0TmFtZSB8fCBmaXJzdFF1b3RlLnByb2R1Y3QgfHwgJ0J1c2luZXNzIENhcmQnLFxuICAgICAgICAgIHF1YW50aXR5OiBmaXJzdFF1b3RlLnF1YW50aXR5LFxuICAgICAgICAgIHNpZGVzOiAoZmlyc3RRdW90ZS5zaWRlcyA9PT0gJzEnIHx8IGZpcnN0UXVvdGUuc2lkZXMgPT09ICcyJyA/IGZpcnN0UXVvdGUuc2lkZXMgOiAnMScpIGFzICcxJyB8ICcyJyxcbiAgICAgICAgICBwcmludGluZ1NlbGVjdGlvbjogZmlyc3RRdW90ZS5wcmludGluZ1NlbGVjdGlvbiB8fCBmaXJzdFF1b3RlLnByaW50aW5nIHx8ICdEaWdpdGFsJyxcbiAgICAgICAgICBmbGF0U2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IGZpcnN0UXVvdGUuZmxhdFNpemVXaWR0aCB8fCAwLFxuICAgICAgICAgICAgaGVpZ2h0OiBmaXJzdFF1b3RlLmZsYXRTaXplSGVpZ2h0IHx8IDAsXG4gICAgICAgICAgICBzcGluZTogZmlyc3RRdW90ZS5mbGF0U2l6ZVNwaW5lIHx8IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjbG9zZVNpemU6IHtcbiAgICAgICAgICAgIHdpZHRoOiBmaXJzdFF1b3RlLmNsb3NlU2l6ZVdpZHRoIHx8IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IGZpcnN0UXVvdGUuY2xvc2VTaXplSGVpZ2h0IHx8IDAsXG4gICAgICAgICAgICBzcGluZTogZmlyc3RRdW90ZS5jbG9zZVNpemVTcGluZSB8fCBudWxsLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdXNlU2FtZUFzRmxhdDogZmlyc3RRdW90ZS51c2VTYW1lQXNGbGF0IHx8IGZhbHNlLFxuICAgICAgICAgIHBhcGVyczogYWxsUGFwZXJzLFxuICAgICAgICAgIC8vIEVuc3VyZSBmaW5pc2hpbmcgYXJyYXkgb25seSBjb250YWlucyB2YWxpZCBzdHJpbmdzXG4gICAgICAgICAgZmluaXNoaW5nOiBhbGxGaW5pc2hpbmcuZmlsdGVyKGYgPT4gdHlwZW9mIGYgPT09ICdzdHJpbmcnICYmIGYudHJpbSgpICE9PSAnJyksXG4gICAgICAgICAgY29sb3JzLFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBbe1xuICAgICAgICAgIC4uLnByb2R1Y3QsXG4gICAgICAgICAgcGFwZXJOYW1lOiBwcm9kdWN0LnBhcGVycyAmJiBwcm9kdWN0LnBhcGVycy5sZW5ndGggPiAwID8gcHJvZHVjdC5wYXBlcnNbMF0ubmFtZSA6IFwiU3RhbmRhcmQgUGFwZXJcIlxuICAgICAgICB9XTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGZvcm0gZGF0YSB3aXRoIGFsbCBwcm9kdWN0c1xuICAgICAgICBzZXRGb3JtRGF0YShwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdGb3JtRGF0YSA9IHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBwcm9kdWN0c1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIGZvcm0gZGF0YSB3aXRoIGF1dG9maWxsZWQgcHJvZHVjdHM6JywgbmV3Rm9ybURhdGEpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZJTklTSElORyBERUJVRyAtIFByb2R1Y3QgZmluaXNoaW5nIGFycmF5OicsIG5ld0Zvcm1EYXRhLnByb2R1Y3RzWzBdLmZpbmlzaGluZyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRklOSVNISU5HIERFQlVHIC0gUHJvZHVjdCBzaWRlczonLCBuZXdGb3JtRGF0YS5wcm9kdWN0c1swXS5zaWRlcyk7XG4gICAgICAgICAgcmV0dXJuIG5ld0Zvcm1EYXRhO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBBdXRvLWZpbGxlZCAke3Byb2R1Y3RzLmxlbmd0aH0gcHJvZHVjdHMgZnJvbSBjdXN0b21lcidzIHByZXZpb3VzIHF1b3RlOmAsIHByb2R1Y3RzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXV0by1maWxsaW5nIHF1b3RlIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBtYXAgc2F2ZWQgY29sb3IgZGVzY3JpcHRpb25zIHRvIGRyb3Bkb3duIG9wdGlvbnNcbiAgY29uc3QgbWFwQ29sb3JUb0Ryb3Bkb3duT3B0aW9uID0gKGNvbG9yRGVzYzogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIWNvbG9yRGVzYykgcmV0dXJuIFwiXCI7XG4gICAgXG4gICAgY29uc3QgZGVzYyA9IGNvbG9yRGVzYy50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIC8vIE1hcCBzcGVjaWZpYyBjb2xvciBkZXNjcmlwdGlvbnMgdG8gZHJvcGRvd24gb3B0aW9uc1xuICAgIGlmIChkZXNjLmluY2x1ZGVzKFwiNC80IGNteWtcIikgJiYgZGVzYy5pbmNsdWRlcyhcIjIgcG1zXCIpKSB7XG4gICAgICByZXR1cm4gXCI0KzIgQ29sb3JzXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiNC80IGNteWtcIikgJiYgZGVzYy5pbmNsdWRlcyhcIjEgcG1zXCIpKSB7XG4gICAgICByZXR1cm4gXCI0KzEgQ29sb3JzXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiNC80IGNteWtcIikgfHwgZGVzYy5pbmNsdWRlcyhcIjQvNFwiKSkge1xuICAgICAgcmV0dXJuIFwiNCBDb2xvcnMgKENNWUspXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiNC8wIGNteWtcIikgJiYgZGVzYy5pbmNsdWRlcyhcIjIgcG1zXCIpKSB7XG4gICAgICByZXR1cm4gXCI0KzIgQ29sb3JzXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiNC8wIGNteWtcIikgJiYgZGVzYy5pbmNsdWRlcyhcIjEgcG1zXCIpKSB7XG4gICAgICByZXR1cm4gXCI0KzEgQ29sb3JzXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiNC8wIGNteWtcIikgfHwgZGVzYy5pbmNsdWRlcyhcIjQvMFwiKSkge1xuICAgICAgcmV0dXJuIFwiNCBDb2xvcnMgKENNWUspXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiMyBjb2xvcnNcIikgfHwgZGVzYy5pbmNsdWRlcyhcIjNcIikpIHtcbiAgICAgIHJldHVybiBcIjMgQ29sb3JzXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiMiBjb2xvcnNcIikgfHwgZGVzYy5pbmNsdWRlcyhcIjJcIikpIHtcbiAgICAgIHJldHVybiBcIjIgQ29sb3JzXCI7XG4gICAgfSBlbHNlIGlmIChkZXNjLmluY2x1ZGVzKFwiMSBjb2xvclwiKSB8fCBkZXNjLmluY2x1ZGVzKFwiMVwiKSkge1xuICAgICAgcmV0dXJuIFwiMSBDb2xvclwiO1xuICAgIH1cbiAgICBcbiAgICAvLyBEZWZhdWx0IGZhbGxiYWNrXG4gICAgcmV0dXJuIFwiNCBDb2xvcnMgKENNWUspXCI7XG4gIH07XG5cbiAgLy8gSGFuZGxlIHF1b3RlIHNlbGVjdGlvbiBmb3IgZWRpdGluZyBleGlzdGluZyBxdW90ZXNcbiAgY29uc3QgaGFuZGxlUXVvdGVTZWxlY3QgPSAocXVvdGU6IGFueSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn46vIFF1b3RlIHNlbGVjdGVkIGZvciBlZGl0aW5nOicsIHF1b3RlKTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBRdW90ZSBmaW5pc2hpbmcgZGF0YTonLCBxdW90ZS5maW5pc2hpbmcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFF1b3RlIGZpbmlzaGluZyB0eXBlOicsIHR5cGVvZiBxdW90ZS5maW5pc2hpbmcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFF1b3RlIGZpbmlzaGluZyBsZW5ndGg6JywgcXVvdGUuZmluaXNoaW5nPy5sZW5ndGgpO1xuICAgIFxuICAgIC8vIFNldCB0aGUgc2VsZWN0ZWQgcXVvdGUgSUQgZm9yIGVkaXRpbmdcbiAgICBzZXRTZWxlY3RlZFF1b3RlSWQocXVvdGUuaWQpO1xuICAgIFxuICAgIC8vIEFsc28gc2V0IHRoZSBjdXN0b21lciBkYXRhXG4gICAgaGFuZGxlQ3VzdG9tZXJTZWxlY3QocXVvdGUuY2xpZW50KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgZm9ybSBkYXRhIHdpdGggdGhlIHF1b3RlJ3MgY29tcGxldGUgcHJvZHVjdCBpbmZvcm1hdGlvblxuICAgIGlmIChxdW90ZS5wcm9kdWN0KSB7XG4gICAgICAvLyBEZXRlcm1pbmUgYXBwcm9wcmlhdGUgc2l6ZXMgYmFzZWQgb24gcHJvZHVjdCB0eXBlXG4gICAgICBsZXQgZGVmYXVsdEZsYXRTaXplID0geyB3aWR0aDogOSwgaGVpZ2h0OiA1LjUsIHNwaW5lOiAwIH07XG4gICAgICBsZXQgZGVmYXVsdENsb3NlU2l6ZSA9IHsgd2lkdGg6IDksIGhlaWdodDogNS41LCBzcGluZTogMCB9O1xuICAgICAgXG4gICAgICAvLyBTZXQgYXBwcm9wcmlhdGUgZGVmYXVsdCBzaXplcyBmb3IgZGlmZmVyZW50IHByb2R1Y3QgdHlwZXNcbiAgICAgIHN3aXRjaCAocXVvdGUucHJvZHVjdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2Jvb2snOlxuICAgICAgICBjYXNlICdjYXRhbG9nJzpcbiAgICAgICAgY2FzZSAnYW5udWFsIHJlcG9ydCc6XG4gICAgICAgIGNhc2UgJ3RlY2huaWNhbCBtYW51YWwnOlxuICAgICAgICAgIGRlZmF1bHRGbGF0U2l6ZSA9IHsgd2lkdGg6IDguNSwgaGVpZ2h0OiAxMSwgc3BpbmU6IDAuNSB9O1xuICAgICAgICAgIGRlZmF1bHRDbG9zZVNpemUgPSB7IHdpZHRoOiA4LjUsIGhlaWdodDogMTEsIHNwaW5lOiAwLjUgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYnJvY2h1cmUnOlxuICAgICAgICBjYXNlICdmbHllciBhNSc6XG4gICAgICAgICAgZGVmYXVsdEZsYXRTaXplID0geyB3aWR0aDogOC4yNywgaGVpZ2h0OiAxMS42OSwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBkZWZhdWx0Q2xvc2VTaXplID0geyB3aWR0aDogNC4xMywgaGVpZ2h0OiAxMS42OSwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncG9zdGVyJzpcbiAgICAgICAgICBkZWZhdWx0RmxhdFNpemUgPSB7IHdpZHRoOiAxOCwgaGVpZ2h0OiAyNCwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBkZWZhdWx0Q2xvc2VTaXplID0geyB3aWR0aDogMTgsIGhlaWdodDogMjQsIHNwaW5lOiAwIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2J1c2luZXNzIGNhcmQnOlxuICAgICAgICBjYXNlICdidXNpbmVzcyBjYXJkcyc6XG4gICAgICAgICAgZGVmYXVsdEZsYXRTaXplID0geyB3aWR0aDogMy41LCBoZWlnaHQ6IDIsIHNwaW5lOiAwIH07XG4gICAgICAgICAgZGVmYXVsdENsb3NlU2l6ZSA9IHsgd2lkdGg6IDMuNSwgaGVpZ2h0OiAyLCBzcGluZTogMCB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsZXR0ZXJoZWFkJzpcbiAgICAgICAgICBkZWZhdWx0RmxhdFNpemUgPSB7IHdpZHRoOiA4LjUsIGhlaWdodDogMTEsIHNwaW5lOiAwIH07XG4gICAgICAgICAgZGVmYXVsdENsb3NlU2l6ZSA9IHsgd2lkdGg6IDguNSwgaGVpZ2h0OiAxMSwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBkZWZhdWx0RmxhdFNpemUgPSB7IHdpZHRoOiA5LCBoZWlnaHQ6IDUuNSwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBkZWZhdWx0Q2xvc2VTaXplID0geyB3aWR0aDogOSwgaGVpZ2h0OiA1LjUsIHNwaW5lOiAwIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE1hcCBzYXZlZCBjb2xvcnMgdG8gZHJvcGRvd24gb3B0aW9uc1xuICAgICAgY29uc3QgbWFwcGVkRnJvbnRDb2xvciA9IG1hcENvbG9yVG9Ecm9wZG93bk9wdGlvbihxdW90ZS5jb2xvcnM/LmZyb250KTtcbiAgICAgIGNvbnN0IG1hcHBlZEJhY2tDb2xvciA9IG1hcENvbG9yVG9Ecm9wZG93bk9wdGlvbihxdW90ZS5jb2xvcnM/LmJhY2spO1xuICAgICAgXG4gICAgICBzZXRGb3JtRGF0YShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHByb2R1Y3RzOiBbe1xuICAgICAgICAgIHByb2R1Y3ROYW1lOiBxdW90ZS5wcm9kdWN0IHx8IFwiUHJpbnRpbmcgUHJvZHVjdFwiLFxuICAgICAgICAgIHBhcGVyTmFtZTogcXVvdGUucGFwZXJzICYmIHF1b3RlLnBhcGVycy5sZW5ndGggPiAwID8gcXVvdGUucGFwZXJzWzBdLm5hbWUgOiBcIlN0YW5kYXJkIFBhcGVyXCIsXG4gICAgICAgICAgcXVhbnRpdHk6IHF1b3RlLnF1YW50aXR5IHx8IDEwMCxcbiAgICAgICAgICBzaWRlczogKHF1b3RlLnNpZGVzIGFzIFwiMVwiIHwgXCIyXCIpIHx8IFwiMVwiLFxuICAgICAgICAgIHByaW50aW5nU2VsZWN0aW9uOiAocXVvdGUucHJpbnRpbmcgYXMgXCJEaWdpdGFsXCIgfCBcIk9mZnNldFwiKSB8fCBcIkRpZ2l0YWxcIixcbiAgICAgICAgICBmbGF0U2l6ZTogZGVmYXVsdEZsYXRTaXplLFxuICAgICAgICAgIGNsb3NlU2l6ZTogZGVmYXVsdENsb3NlU2l6ZSxcbiAgICAgICAgICB1c2VTYW1lQXNGbGF0OiB0cnVlLFxuICAgICAgICAgIHBhcGVyczogcXVvdGUucGFwZXJzICYmIHF1b3RlLnBhcGVycy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgPyBxdW90ZS5wYXBlcnMubWFwKChwOiBhbnkpID0+ICh7IG5hbWU6IHAubmFtZSwgZ3NtOiBwLmdzbSB9KSlcbiAgICAgICAgICAgIDogW3sgbmFtZTogXCJTdGFuZGFyZCBQYXBlclwiLCBnc206IFwiMTUwXCIgfV0sXG4gICAgICAgICAgZmluaXNoaW5nOiAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyBmaW5pc2hpbmcgZGF0YS4uLicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJyAgT3JpZ2luYWwgcXVvdGUuZmluaXNoaW5nOicsIHF1b3RlLmZpbmlzaGluZyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcXVvdGUuZmluaXNoaW5nIHx8ICFBcnJheS5pc0FycmF5KHF1b3RlLmZpbmlzaGluZykgfHwgcXVvdGUuZmluaXNoaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnICDinYwgTm8gZmluaXNoaW5nIGRhdGEgb3IgaW52YWxpZCBmb3JtYXQnKTtcbiAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTaW1wbHkgZXh0cmFjdCB0aGUgZmluaXNoaW5nIG5hbWVzIC0gbm8gc2lkZSBsb2dpYyBuZWVkZWRcbiAgICAgICAgICAgIGNvbnN0IG1hcHBlZEZpbmlzaGluZyA9IHF1b3RlLmZpbmlzaGluZy5tYXAoKGY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgICBQcm9jZXNzaW5nIGZpbmlzaGluZyBpdGVtOiAke2YubmFtZX1gKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGYubmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnICDinIUgRmluYWwgbWFwcGVkIGZpbmlzaGluZzonLCBtYXBwZWRGaW5pc2hpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZEZpbmlzaGluZztcbiAgICAgICAgICB9KSgpLFxuICAgICAgICAgIGNvbG9yczogeyBcbiAgICAgICAgICAgIGZyb250OiBtYXBwZWRGcm9udENvbG9yLCBcbiAgICAgICAgICAgIGJhY2s6IG1hcHBlZEJhY2tDb2xvciBcbiAgICAgICAgICB9XG4gICAgICAgIH1dXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIEltbWVkaWF0ZWx5IGVuc3VyZSBmaW5pc2hpbmcgZGF0YSBpcyBsb2FkZWRcbiAgICAgIGVuc3VyZUZpbmlzaGluZ0RhdGFMb2FkZWQocXVvdGUpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+TiyBGb3JtIGRhdGEgdXBkYXRlZCB3aXRoIHNlbGVjdGVkIHF1b3RlOicsIHtcbiAgICAgICAgcHJvZHVjdDogcXVvdGUucHJvZHVjdCxcbiAgICAgICAgcXVhbnRpdHk6IHF1b3RlLnF1YW50aXR5LFxuICAgICAgICBzaWRlczogcXVvdGUuc2lkZXMsXG4gICAgICAgIHByaW50aW5nOiBxdW90ZS5wcmludGluZyxcbiAgICAgICAgcGFwZXJzOiBxdW90ZS5wYXBlcnMsXG4gICAgICAgIG9yaWdpbmFsRmluaXNoaW5nOiBxdW90ZS5maW5pc2hpbmcsXG4gICAgICAgIGNvbG9yczogeyBmcm9udDogbWFwcGVkRnJvbnRDb2xvciwgYmFjazogbWFwcGVkQmFja0NvbG9yIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBMb2cgdGhlIGFjdHVhbCBmb3JtRGF0YSBzdGF0ZSBhZnRlciB1cGRhdGVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGb3JtRGF0YSBzdGF0ZSBhZnRlciB1cGRhdGU6JywgZm9ybURhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+OryBQcm9kdWN0cyBhcnJheTonLCBmb3JtRGF0YS5wcm9kdWN0cyk7XG4gICAgICAgIGlmIChmb3JtRGF0YS5wcm9kdWN0cyAmJiBmb3JtRGF0YS5wcm9kdWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gRmlyc3QgcHJvZHVjdCBmaW5pc2hpbmc6JywgZm9ybURhdGEucHJvZHVjdHNbMF0uZmluaXNoaW5nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBGaXJzdCBwcm9kdWN0IGZpbmlzaGluZyB0eXBlOicsIHR5cGVvZiBmb3JtRGF0YS5wcm9kdWN0c1swXS5maW5pc2hpbmcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIEZpcnN0IHByb2R1Y3QgZmluaXNoaW5nIGlzQXJyYXk6JywgQXJyYXkuaXNBcnJheShmb3JtRGF0YS5wcm9kdWN0c1swXS5maW5pc2hpbmcpKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwKTtcbiAgICAgIFxuICAgICAgLy8gRm9yY2UgYSByZS1yZW5kZXIgYnkgdXBkYXRpbmcgdGhlIGZvcm1EYXRhIGFnYWluXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgRm9yY2luZyByZS1yZW5kZXIuLi4nKTtcbiAgICAgICAgc2V0Rm9ybURhdGEocHJldkRhdGEgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2RGF0YSxcbiAgICAgICAgICBwcm9kdWN0czogcHJldkRhdGEucHJvZHVjdHMubWFwKChwLCBpZHgpID0+IFxuICAgICAgICAgICAgaWR4ID09PSAwID8geyAuLi5wLCBmaW5pc2hpbmc6IHAuZmluaXNoaW5nIH0gOiBwXG4gICAgICAgICAgKVxuICAgICAgICB9KSk7XG4gICAgICB9LCAyMDApO1xuICAgICAgXG4gICAgICAvLyBBZGRpdGlvbmFsIGZpeDogRW5zdXJlIGZpbmlzaGluZyBkYXRhIGlzIHByb3Blcmx5IGxvYWRlZFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIEFkZGl0aW9uYWwgZmluaXNoaW5nIGRhdGEgZml4Li4uJyk7XG4gICAgICAgIGVuc3VyZUZpbmlzaGluZ0RhdGFMb2FkZWQocXVvdGUpO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGVuc3VyZSBmaW5pc2hpbmcgZGF0YSBpcyBwcm9wZXJseSBsb2FkZWRcbiAgY29uc3QgZW5zdXJlRmluaXNoaW5nRGF0YUxvYWRlZCA9IChxdW90ZTogYW55KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflKcgRW5zdXJpbmcgZmluaXNoaW5nIGRhdGEgaXMgbG9hZGVkLi4uJyk7XG4gICAgaWYgKHF1b3RlLmZpbmlzaGluZyAmJiBBcnJheS5pc0FycmF5KHF1b3RlLmZpbmlzaGluZykgJiYgcXVvdGUuZmluaXNoaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpbmlzaGluZ05hbWVzID0gcXVvdGUuZmluaXNoaW5nLm1hcCgoZjogYW55KSA9PiBmLm5hbWUpO1xuICAgICAgY29uc29sZS5sb2coJ/CflKcgU2V0dGluZyBmaW5pc2hpbmcgbmFtZXM6JywgZmluaXNoaW5nTmFtZXMpO1xuICAgICAgXG4gICAgICBzZXRGb3JtRGF0YShwcmV2RGF0YSA9PiAoe1xuICAgICAgICAuLi5wcmV2RGF0YSxcbiAgICAgICAgcHJvZHVjdHM6IHByZXZEYXRhLnByb2R1Y3RzLm1hcCgocCwgaWR4KSA9PiBcbiAgICAgICAgICBpZHggPT09IDAgPyB7IC4uLnAsIGZpbmlzaGluZzogZmluaXNoaW5nTmFtZXMgfSA6IHBcbiAgICAgICAgKVxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIEdldCBjdXJyZW50IHVzZXIgSUQgLSB1c2UgYSB2YWxpZCB1c2VyIGZyb20gdGhlIGRhdGFiYXNlXG4gIGNvbnN0IGdldEN1cnJlbnRVc2VySWQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGZpcnN0IGF2YWlsYWJsZSB1c2VyIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzJyk7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSBmaXJzdCBhdmFpbGFibGUgdXNlciAodXN1YWxseSBhZG1pbilcbiAgICAgICAgICByZXR1cm4gdXNlcnNbMF0uaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlcnM6JywgZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayB0byBhIHZhbGlkIHVzZXIgSUQgaWYgQVBJIGZhaWxzXG4gICAgcmV0dXJuICdjbWVrZDVkdHcwMDAweDVrcDd4dnF6OHc5JzsgLy8gYWRtaW5AZXhhbXBsZS5jb21cbiAgfTtcblxuICAvLyBWYWxpZGF0ZSBmb3JtIGRhdGEgYmVmb3JlIGFsbG93aW5nIHNhdmVcbiAgY29uc3QgdmFsaWRhdGVGb3JtRGF0YSA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBEZWJ1ZzogTG9nIHRoZSBjdXJyZW50IGZvcm0gZGF0YVxuICAgIGNvbnNvbGUubG9nKCdWYWxpZGF0aW5nIGZvcm0gZGF0YTonLCB7XG4gICAgICBjbGllbnQ6IGZvcm1EYXRhLmNsaWVudCxcbiAgICAgIGNvbnRhY3RQZXJzb246IGZvcm1EYXRhLmNsaWVudC5jb250YWN0UGVyc29uLFxuICAgICAgZmlyc3ROYW1lOiBmb3JtRGF0YS5jbGllbnQuZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWU6IGZvcm1EYXRhLmNsaWVudC5sYXN0TmFtZSxcbiAgICAgIGVtYWlsOiBmb3JtRGF0YS5jbGllbnQuZW1haWwsXG4gICAgICBwaG9uZTogZm9ybURhdGEuY2xpZW50LnBob25lXG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBpZiBjbGllbnQgaW5mb3JtYXRpb24gaXMgY29tcGxldGVcbiAgICBpZiAoIWZvcm1EYXRhLmNsaWVudC5lbWFpbCB8fCAhZm9ybURhdGEuY2xpZW50LnBob25lKSB7XG4gICAgICBlcnJvcnMucHVzaChcIkNsaWVudCBlbWFpbCBhbmQgcGhvbmUgYXJlIHJlcXVpcmVkXCIpO1xuICAgIH1cblxuICAgIGlmIChmb3JtRGF0YS5jbGllbnQuY2xpZW50VHlwZSA9PT0gXCJDb21wYW55XCIgJiYgIWZvcm1EYXRhLmNsaWVudC5jb21wYW55TmFtZSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQgZm9yIGNvbXBhbnkgY2xpZW50c1wiKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVpdGhlciBjb250YWN0UGVyc29uIE9SIGJvdGggZmlyc3ROYW1lIGFuZCBsYXN0TmFtZVxuICAgIGNvbnN0IGhhc0NvbnRhY3RQZXJzb24gPSBmb3JtRGF0YS5jbGllbnQuY29udGFjdFBlcnNvbiAmJiBmb3JtRGF0YS5jbGllbnQuY29udGFjdFBlcnNvbi50cmltKCkgIT09ICcnO1xuICAgIGNvbnN0IGhhc0Z1bGxOYW1lID0gZm9ybURhdGEuY2xpZW50LmZpcnN0TmFtZSAmJiBmb3JtRGF0YS5jbGllbnQuZmlyc3ROYW1lLnRyaW0oKSAhPT0gJycgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmNsaWVudC5sYXN0TmFtZSAmJiBmb3JtRGF0YS5jbGllbnQubGFzdE5hbWUudHJpbSgpICE9PSAnJztcbiAgICBcbiAgICBpZiAoIWhhc0NvbnRhY3RQZXJzb24gJiYgIWhhc0Z1bGxOYW1lKSB7XG4gICAgICBlcnJvcnMucHVzaChcIkNvbnRhY3QgcGVyc29uIG5hbWUgaXMgcmVxdWlyZWQgKG9yIGZpcnN0IG5hbWUgYW5kIGxhc3QgbmFtZSlcIik7XG4gICAgfVxuXG4gICAgLy8gQWRkcmVzcyBmaWVsZHMgYXJlIG9wdGlvbmFsIGJ1dCBpZiBwcm92aWRlZCwgc2hvdWxkIGJlIGNvbXBsZXRlXG4gICAgY29uc3QgaGFzUGFydGlhbEFkZHJlc3MgPSBmb3JtRGF0YS5jbGllbnQuYWRkcmVzcyB8fCBmb3JtRGF0YS5jbGllbnQuY2l0eSB8fCBmb3JtRGF0YS5jbGllbnQuc3RhdGUgfHwgZm9ybURhdGEuY2xpZW50LnBvc3RhbENvZGUgfHwgZm9ybURhdGEuY2xpZW50LmNvdW50cnk7XG4gICAgY29uc3QgaGFzQ29tcGxldGVBZGRyZXNzID0gZm9ybURhdGEuY2xpZW50LmFkZHJlc3MgJiYgZm9ybURhdGEuY2xpZW50LmNpdHkgJiYgZm9ybURhdGEuY2xpZW50LnN0YXRlICYmIGZvcm1EYXRhLmNsaWVudC5wb3N0YWxDb2RlICYmIGZvcm1EYXRhLmNsaWVudC5jb3VudHJ5O1xuICAgIFxuICAgIGlmIChoYXNQYXJ0aWFsQWRkcmVzcyAmJiAhaGFzQ29tcGxldGVBZGRyZXNzKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1BhcnRpYWwgYWRkcmVzcyBwcm92aWRlZCAtIHNvbWUgYWRkcmVzcyBmaWVsZHMgYXJlIG1pc3NpbmcnKTtcbiAgICAgIC8vIERvbid0IHRocm93IGVycm9yLCBqdXN0IHdhcm4gLSBhZGRyZXNzIGlzIG9wdGlvbmFsXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvZHVjdHMgZXhpc3QgYW5kIGhhdmUgcmVxdWlyZWQgaW5mb3JtYXRpb25cbiAgICBpZiAoZm9ybURhdGEucHJvZHVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBlcnJvcnMucHVzaChcIkF0IGxlYXN0IG9uZSBwcm9kdWN0IG11c3QgYmUgYWRkZWRcIik7XG4gICAgfVxuXG4gICAgZm9ybURhdGEucHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdCwgaW5kZXgpID0+IHtcbiAgICAgIGlmICghcHJvZHVjdC5wcm9kdWN0TmFtZSB8fCAhcHJvZHVjdC5xdWFudGl0eSkge1xuICAgICAgICBlcnJvcnMucHVzaChgUHJvZHVjdCAke2luZGV4ICsgMX0gbXVzdCBoYXZlIGEgbmFtZSBhbmQgcXVhbnRpdHlgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgYWxlcnQoYFBsZWFzZSBmaXggdGhlIGZvbGxvd2luZyBpc3N1ZXM6XFxuJHtlcnJvcnMuam9pbignXFxuJyl9YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gVmFsaWRhdGUgYW5kIGNsZWFuIHF1b3RlIGRhdGEgYmVmb3JlIHNlbmRpbmcgdG8gZGF0YWJhc2VcbiAgY29uc3QgdmFsaWRhdGVBbmRDbGVhblF1b3RlRGF0YSA9IChkYXRhOiBhbnkpID0+IHtcbiAgICAvLyBDcmVhdGUgYSBjbGVhbiBjb3B5IG9mIHRoZSBkYXRhIHRvIGF2b2lkIG11dGF0aW5nIHRoZSBvcmlnaW5hbFxuICAgIGNvbnN0IGNsZWFuZWREYXRhID0geyAuLi5kYXRhIH07XG4gICAgXG4gICAgLy8gRW5zdXJlIHBhcGVycyBhcnJheSBoYXMgdmFsaWQgb2JqZWN0c1xuICAgIGlmIChjbGVhbmVkRGF0YS5wYXBlcnMpIHtcbiAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgcGFwZXJzIHN0cnVjdHVyZSAocGFwZXJzLmNyZWF0ZSlcbiAgICAgIGlmIChjbGVhbmVkRGF0YS5wYXBlcnMuY3JlYXRlICYmIEFycmF5LmlzQXJyYXkoY2xlYW5lZERhdGEucGFwZXJzLmNyZWF0ZSkpIHtcbiAgICAgICAgY2xlYW5lZERhdGEucGFwZXJzID0gY2xlYW5lZERhdGEucGFwZXJzLmNyZWF0ZS5tYXAoKHBhcGVyOiBhbnkpID0+ICh7XG4gICAgICAgICAgbmFtZTogcGFwZXIubmFtZSB8fCBcIlN0YW5kYXJkIFBhcGVyXCIsXG4gICAgICAgICAgZ3NtOiBwYXBlci5nc20gPyBTdHJpbmcocGFwZXIuZ3NtKSA6IFwiMTUwXCIsIC8vIEtlZXAgZ3NtIGFzIHN0cmluZyBhcyBwZXIgZGF0YWJhc2Ugc2NoZW1hXG4gICAgICAgICAgaW5wdXRXaWR0aDogcGFwZXIuaW5wdXRXaWR0aCA/IE51bWJlcihwYXBlci5pbnB1dFdpZHRoKSA6IG51bGwsXG4gICAgICAgICAgaW5wdXRIZWlnaHQ6IHBhcGVyLmlucHV0SGVpZ2h0ID8gTnVtYmVyKHBhcGVyLmlucHV0SGVpZ2h0KSA6IG51bGwsXG4gICAgICAgICAgcHJpY2VQZXJQYWNrZXQ6IHBhcGVyLnByaWNlUGVyUGFja2V0ID8gTnVtYmVyKHBhcGVyLnByaWNlUGVyUGFja2V0KSA6IG51bGwsXG4gICAgICAgICAgcHJpY2VQZXJTaGVldDogcGFwZXIucHJpY2VQZXJTaGVldCA/IE51bWJlcihwYXBlci5wcmljZVBlclNoZWV0KSA6IG51bGwsXG4gICAgICAgICAgc2hlZXRzUGVyUGFja2V0OiBwYXBlci5zaGVldHNQZXJQYWNrZXQgPyBOdW1iZXIocGFwZXIuc2hlZXRzUGVyUGFja2V0KSA6IG51bGwsXG4gICAgICAgICAgcmVjb21tZW5kZWRTaGVldHM6IHBhcGVyLnJlY29tbWVuZGVkU2hlZXRzID8gTnVtYmVyKHBhcGVyLnJlY29tbWVuZGVkU2hlZXRzKSA6IG51bGwsXG4gICAgICAgICAgZW50ZXJlZFNoZWV0czogcGFwZXIuZW50ZXJlZFNoZWV0cyA/IE51bWJlcihwYXBlci5lbnRlcmVkU2hlZXRzKSA6IG51bGwsXG4gICAgICAgICAgb3V0cHV0V2lkdGg6IHBhcGVyLm91dHB1dFdpZHRoID8gTnVtYmVyKHBhcGVyLm91dHB1dFdpZHRoKSA6IG51bGwsXG4gICAgICAgICAgb3V0cHV0SGVpZ2h0OiBwYXBlci5vdXRwdXRIZWlnaHQgPyBOdW1iZXIocGFwZXIub3V0cHV0SGVpZ2h0KSA6IG51bGwsXG4gICAgICAgICAgc2VsZWN0ZWRDb2xvcnM6IHBhcGVyLnNlbGVjdGVkQ29sb3JzID8gU3RyaW5nKHBhcGVyLnNlbGVjdGVkQ29sb3JzKSA6IG51bGwsXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjbGVhbmVkRGF0YS5wYXBlcnMpKSB7XG4gICAgICAgIC8vIEhhbmRsZSBmbGF0IHBhcGVycyBzdHJ1Y3R1cmVcbiAgICAgICAgY2xlYW5lZERhdGEucGFwZXJzID0gY2xlYW5lZERhdGEucGFwZXJzLm1hcCgocGFwZXI6IGFueSkgPT4gKHtcbiAgICAgICAgICBuYW1lOiBwYXBlci5uYW1lIHx8IFwiU3RhbmRhcmQgUGFwZXJcIixcbiAgICAgICAgICBnc206IHBhcGVyLmdzbSA/IFN0cmluZyhwYXBlci5nc20pIDogXCIxNTBcIiwgLy8gS2VlcCBnc20gYXMgc3RyaW5nIGFzIHBlciBkYXRhYmFzZSBzY2hlbWFcbiAgICAgICAgICBpbnB1dFdpZHRoOiBwYXBlci5pbnB1dFdpZHRoID8gTnVtYmVyKHBhcGVyLmlucHV0V2lkdGgpIDogbnVsbCxcbiAgICAgICAgICBpbnB1dEhlaWdodDogcGFwZXIuaW5wdXRIZWlnaHQgPyBOdW1iZXIocGFwZXIuaW5wdXRIZWlnaHQpIDogbnVsbCxcbiAgICAgICAgICBwcmljZVBlclBhY2tldDogcGFwZXIucHJpY2VQZXJQYWNrZXQgPyBOdW1iZXIocGFwZXIucHJpY2VQZXJQYWNrZXQpIDogbnVsbCxcbiAgICAgICAgICBwcmljZVBlclNoZWV0OiBwYXBlci5wcmljZVBlclNoZWV0ID8gTnVtYmVyKHBhcGVyLnByaWNlUGVyU2hlZXQpIDogbnVsbCxcbiAgICAgICAgICBzaGVldHNQZXJQYWNrZXQ6IHBhcGVyLnNoZWV0c1BlclBhY2tldCA/IE51bWJlcihwYXBlci5zaGVldHNQZXJQYWNrZXQpIDogbnVsbCxcbiAgICAgICAgICByZWNvbW1lbmRlZFNoZWV0czogcGFwZXIucmVjb21tZW5kZWRTaGVldHMgPyBOdW1iZXIocGFwZXIucmVjb21tZW5kZWRTaGVldHMpIDogbnVsbCxcbiAgICAgICAgICBlbnRlcmVkU2hlZXRzOiBwYXBlci5lbnRlcmVkU2hlZXRzID8gTnVtYmVyKHBhcGVyLmVudGVyZWRTaGVldHMpIDogbnVsbCxcbiAgICAgICAgICBvdXRwdXRXaWR0aDogcGFwZXIub3V0cHV0V2lkdGggPyBOdW1iZXIocGFwZXIub3V0cHV0V2lkdGgpIDogbnVsbCxcbiAgICAgICAgICBvdXRwdXRIZWlnaHQ6IHBhcGVyLm91dHB1dEhlaWdodCA/IE51bWJlcihwYXBlci5vdXRwdXRIZWlnaHQpIDogbnVsbCxcbiAgICAgICAgICBzZWxlY3RlZENvbG9yczogcGFwZXIuc2VsZWN0ZWRDb2xvcnMgPyBTdHJpbmcocGFwZXIuc2VsZWN0ZWRDb2xvcnMpIDogbnVsbCxcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVuc3VyZSBmaW5pc2hpbmcgYXJyYXkgaGFzIHZhbGlkIG9iamVjdHNcbiAgICBpZiAoY2xlYW5lZERhdGEuZmluaXNoaW5nKSB7XG4gICAgICAvLyBIYW5kbGUgbmVzdGVkIGZpbmlzaGluZyBzdHJ1Y3R1cmUgKGZpbmlzaGluZy5jcmVhdGUpXG4gICAgICBpZiAoY2xlYW5lZERhdGEuZmluaXNoaW5nLmNyZWF0ZSAmJiBBcnJheS5pc0FycmF5KGNsZWFuZWREYXRhLmZpbmlzaGluZy5jcmVhdGUpKSB7XG4gICAgICAgIGNsZWFuZWREYXRhLmZpbmlzaGluZyA9IGNsZWFuZWREYXRhLmZpbmlzaGluZy5jcmVhdGUubWFwKChmaW5pc2g6IGFueSkgPT4gKHtcbiAgICAgICAgICBuYW1lOiBmaW5pc2gubmFtZSB8fCBcIlN0YW5kYXJkIEZpbmlzaGluZ1wiLFxuICAgICAgICAgIGNvc3Q6IGZpbmlzaC5jb3N0ID8gTnVtYmVyKGZpbmlzaC5jb3N0KSA6IDAsXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjbGVhbmVkRGF0YS5maW5pc2hpbmcpKSB7XG4gICAgICAgIC8vIEhhbmRsZSBmbGF0IGZpbmlzaGluZyBzdHJ1Y3R1cmVcbiAgICAgICAgY2xlYW5lZERhdGEuZmluaXNoaW5nID0gY2xlYW5lZERhdGEuZmluaXNoaW5nLm1hcCgoZmluaXNoOiBhbnkpID0+ICh7XG4gICAgICAgICAgbmFtZTogZmluaXNoLm5hbWUgfHwgXCJTdGFuZGFyZCBGaW5pc2hpbmdcIixcbiAgICAgICAgICBjb3N0OiBmaW5pc2guY29zdCA/IE51bWJlcihmaW5pc2guY29zdCkgOiAwLFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGFtb3VudHMgb2JqZWN0IGhhcyB2YWxpZCBudW1iZXJzXG4gICAgaWYgKGNsZWFuZWREYXRhLmFtb3VudHMpIHtcbiAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgYW1vdW50cyBzdHJ1Y3R1cmUgKGFtb3VudHMuY3JlYXRlKVxuICAgICAgaWYgKGNsZWFuZWREYXRhLmFtb3VudHMuY3JlYXRlKSB7XG4gICAgICAgIGNsZWFuZWREYXRhLmFtb3VudHMgPSB7XG4gICAgICAgICAgYmFzZTogTnVtYmVyKGNsZWFuZWREYXRhLmFtb3VudHMuY3JlYXRlLmJhc2UpIHx8IDAsXG4gICAgICAgICAgdmF0OiBOdW1iZXIoY2xlYW5lZERhdGEuYW1vdW50cy5jcmVhdGUudmF0KSB8fCAwLFxuICAgICAgICAgIHRvdGFsOiBOdW1iZXIoY2xlYW5lZERhdGEuYW1vdW50cy5jcmVhdGUudG90YWwpIHx8IDAsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYW5kbGUgZmxhdCBhbW91bnRzIHN0cnVjdHVyZVxuICAgICAgICBjbGVhbmVkRGF0YS5hbW91bnRzID0ge1xuICAgICAgICAgIGJhc2U6IE51bWJlcihjbGVhbmVkRGF0YS5hbW91bnRzLmJhc2UpIHx8IDAsXG4gICAgICAgICAgdmF0OiBOdW1iZXIoY2xlYW5lZERhdGEuYW1vdW50cy52YXQpIHx8IDAsXG4gICAgICAgICAgdG90YWw6IE51bWJlcihjbGVhbmVkRGF0YS5hbW91bnRzLnRvdGFsKSB8fCAwLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVuc3VyZSBvcGVyYXRpb25hbCBkYXRhIGhhcyB2YWxpZCB2YWx1ZXNcbiAgICBpZiAoY2xlYW5lZERhdGEub3BlcmF0aW9uYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgb3BlcmF0aW9uYWwgc3RydWN0dXJlIChvcGVyYXRpb25hbC5jcmVhdGUpXG4gICAgICBpZiAoY2xlYW5lZERhdGEub3BlcmF0aW9uYWwuY3JlYXRlKSB7XG4gICAgICAgIGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsID0ge1xuICAgICAgICAgIHBsYXRlczogY2xlYW5lZERhdGEub3BlcmF0aW9uYWwuY3JlYXRlLnBsYXRlcyA/IE51bWJlcihjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC5jcmVhdGUucGxhdGVzKSA6IG51bGwsXG4gICAgICAgICAgdW5pdHM6IGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsLmNyZWF0ZS51bml0cyA/IE51bWJlcihjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC5jcmVhdGUudW5pdHMpIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBmbGF0IG9wZXJhdGlvbmFsIHN0cnVjdHVyZVxuICAgICAgICBjbGVhbmVkRGF0YS5vcGVyYXRpb25hbCA9IHtcbiAgICAgICAgICBwbGF0ZXM6IGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsLnBsYXRlcyA/IE51bWJlcihjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC5wbGF0ZXMpIDogbnVsbCxcbiAgICAgICAgICB1bml0czogY2xlYW5lZERhdGEub3BlcmF0aW9uYWwudW5pdHMgPyBOdW1iZXIoY2xlYW5lZERhdGEub3BlcmF0aW9uYWwudW5pdHMpIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgZXNzZW50aWFsIGZpZWxkcyBhcmUgcHJlc2VydmVkIGFuZCB2YWxpZFxuICAgIGlmIChjbGVhbmVkRGF0YS5kYXRlKSB7XG4gICAgICBjbGVhbmVkRGF0YS5kYXRlID0gbmV3IERhdGUoY2xlYW5lZERhdGEuZGF0ZSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjbGVhbmVkRGF0YS5zdGF0dXMpIHtcbiAgICAgIGNsZWFuZWREYXRhLnN0YXR1cyA9IFN0cmluZyhjbGVhbmVkRGF0YS5zdGF0dXMpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2xlYW5lZERhdGEuY2xpZW50SWQpIHtcbiAgICAgIGNsZWFuZWREYXRhLmNsaWVudElkID0gU3RyaW5nKGNsZWFuZWREYXRhLmNsaWVudElkKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsZWFuZWREYXRhLnVzZXJJZCkge1xuICAgICAgY2xlYW5lZERhdGEudXNlcklkID0gU3RyaW5nKGNsZWFuZWREYXRhLnVzZXJJZCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjbGVhbmVkRGF0YS5zYWxlc1BlcnNvbklkKSB7XG4gICAgICBjbGVhbmVkRGF0YS5zYWxlc1BlcnNvbklkID0gU3RyaW5nKGNsZWFuZWREYXRhLnNhbGVzUGVyc29uSWQpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2xlYW5lZERhdGEucHJvZHVjdCkge1xuICAgICAgY2xlYW5lZERhdGEucHJvZHVjdCA9IFN0cmluZyhjbGVhbmVkRGF0YS5wcm9kdWN0KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsZWFuZWREYXRhLnF1YW50aXR5KSB7XG4gICAgICBjbGVhbmVkRGF0YS5xdWFudGl0eSA9IE51bWJlcihjbGVhbmVkRGF0YS5xdWFudGl0eSkgfHwgMDtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsZWFuZWREYXRhLnNpZGVzKSB7XG4gICAgICBjbGVhbmVkRGF0YS5zaWRlcyA9IFN0cmluZyhjbGVhbmVkRGF0YS5zaWRlcyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjbGVhbmVkRGF0YS5wcmludGluZykge1xuICAgICAgY2xlYW5lZERhdGEucHJpbnRpbmcgPSBTdHJpbmcoY2xlYW5lZERhdGEucHJpbnRpbmcpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2xlYW5lZERhdGEucXVvdGVJZCkge1xuICAgICAgY2xlYW5lZERhdGEucXVvdGVJZCA9IFN0cmluZyhjbGVhbmVkRGF0YS5xdW90ZUlkKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY29sb3JzIGZpZWxkIC0gY29udmVydCBvYmplY3QgdG8gc3RyaW5nIGlmIG5lZWRlZFxuICAgIGlmIChjbGVhbmVkRGF0YS5jb2xvcnMgJiYgdHlwZW9mIGNsZWFuZWREYXRhLmNvbG9ycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIElmIGNvbG9ycyBpcyBhbiBvYmplY3Qgd2l0aCBmcm9udC9iYWNrIHByb3BlcnRpZXMsIGNvbnZlcnQgdG8gSlNPTiBzdHJpbmdcbiAgICAgIGNsZWFuZWREYXRhLmNvbG9ycyA9IEpTT04uc3RyaW5naWZ5KGNsZWFuZWREYXRhLmNvbG9ycyk7XG4gICAgfSBlbHNlIGlmIChjbGVhbmVkRGF0YS5jb2xvcnMpIHtcbiAgICAgIGNsZWFuZWREYXRhLmNvbG9ycyA9IFN0cmluZyhjbGVhbmVkRGF0YS5jb2xvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiBjbGVhbmVkRGF0YTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlUXVvdGUgPSBhc3luYyAoaXNVcGRhdGU6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgIHNldElzU2F2aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBEZWJ1ZzogTG9nIHRoZSBjdXJyZW50IGZvcm0gZGF0YSBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgICAgY29uc29sZS5sb2coJz09PSBRVU9URSBDUkVBVElPTiBERUJVRyA9PT0nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IGZvcm1EYXRhLmNsaWVudDonLCBmb3JtRGF0YS5jbGllbnQpO1xuICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgc2VsZWN0ZWRDdXN0b21lcjonLCBzZWxlY3RlZEN1c3RvbWVyKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IHF1b3RlTW9kZTonLCBxdW90ZU1vZGUpO1xuICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgc2VsZWN0ZWRRdW90ZUlkOicsIHNlbGVjdGVkUXVvdGVJZCk7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIHN5bmNocm9uaXplIGZvcm0gZGF0YSAtIGVuc3VyZSBhbGwgZmllbGRzIGFyZSBwcm9wZXJseSBzZXRcbiAgICAgIGxldCBuZWVkc0Zvcm1VcGRhdGUgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRDbGllbnQgPSB7IC4uLmZvcm1EYXRhLmNsaWVudCB9O1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgYWxsIHJlcXVpcmVkIGZpZWxkcyBoYXZlIGF0IGxlYXN0IGVtcHR5IHN0cmluZ3MgaW5zdGVhZCBvZiB1bmRlZmluZWRcbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LmVtYWlsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBkYXRlZENsaWVudC5lbWFpbCA9ICcnO1xuICAgICAgICBuZWVkc0Zvcm1VcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHVwZGF0ZWRDbGllbnQucGhvbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LnBob25lID0gJyc7XG4gICAgICAgIG5lZWRzRm9ybVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodXBkYXRlZENsaWVudC5jb250YWN0UGVyc29uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBkYXRlZENsaWVudC5jb250YWN0UGVyc29uID0gJyc7XG4gICAgICAgIG5lZWRzRm9ybVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodXBkYXRlZENsaWVudC5hZGRyZXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBkYXRlZENsaWVudC5hZGRyZXNzID0gJyc7XG4gICAgICAgIG5lZWRzRm9ybVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodXBkYXRlZENsaWVudC5jaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBkYXRlZENsaWVudC5jaXR5ID0gJyc7XG4gICAgICAgIG5lZWRzRm9ybVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodXBkYXRlZENsaWVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZWRDbGllbnQuc3RhdGUgPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LnBvc3RhbENvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LnBvc3RhbENvZGUgPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LmNvdW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LmNvdW50cnkgPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGNvbnRhY3RQZXJzb24gaXMgc2V0IGlmIGZpcnN0TmFtZSBhbmQgbGFzdE5hbWUgYXJlIGF2YWlsYWJsZVxuICAgICAgaWYgKCF1cGRhdGVkQ2xpZW50LmNvbnRhY3RQZXJzb24gJiYgKHVwZGF0ZWRDbGllbnQuZmlyc3ROYW1lIHx8IHVwZGF0ZWRDbGllbnQubGFzdE5hbWUpKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhY3RQZXJzb24gPSBgJHt1cGRhdGVkQ2xpZW50LmZpcnN0TmFtZSB8fCAnJ30gJHt1cGRhdGVkQ2xpZW50Lmxhc3ROYW1lIHx8ICcnfWAudHJpbSgpO1xuICAgICAgICB1cGRhdGVkQ2xpZW50LmNvbnRhY3RQZXJzb24gPSBjb250YWN0UGVyc29uO1xuICAgICAgICBuZWVkc0Zvcm1VcGRhdGUgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0by1zZXR0aW5nIGNvbnRhY3RQZXJzb246JywgY29udGFjdFBlcnNvbik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBmb3JtIGRhdGEgaWYgbmVlZGVkXG4gICAgICBpZiAobmVlZHNGb3JtVXBkYXRlKSB7XG4gICAgICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIGNsaWVudDogdXBkYXRlZENsaWVudFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIGZvcm0gZGF0YSB3aXRoIHN5bmNocm9uaXplZCBjbGllbnQgaW5mbzonLCB1cGRhdGVkQ2xpZW50KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSB1cGRhdGVkIGNsaWVudCBkYXRhIGZvciB2YWxpZGF0aW9uXG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgc2VsZWN0ZWRDdXN0b21lciAoZXhpc3RpbmcgY3VzdG9tZXIpLCB1c2UgdGhhdCBkYXRhIGZvciB2YWxpZGF0aW9uXG4gICAgICBsZXQgY2xpZW50VG9WYWxpZGF0ZSA9IG5lZWRzRm9ybVVwZGF0ZSA/IHVwZGF0ZWRDbGllbnQgOiBmb3JtRGF0YS5jbGllbnQ7XG4gICAgICBcbiAgICAgIC8vIElmIHVzaW5nIGV4aXN0aW5nIGN1c3RvbWVyIG1vZGUgYW5kIHdlIGhhdmUgc2VsZWN0ZWRDdXN0b21lciBkYXRhLCB1c2UgdGhhdCBmb3IgdmFsaWRhdGlvblxuICAgICAgaWYgKHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiICYmIHNlbGVjdGVkQ3VzdG9tZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJz09PSBTRUxFQ1RFRCBDVVNUT01FUiBERUJVRyA9PT0nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdGVkQ3VzdG9tZXIgb2JqZWN0OicsIHNlbGVjdGVkQ3VzdG9tZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWRDdXN0b21lci5lbWFpbDonLCBzZWxlY3RlZEN1c3RvbWVyLmVtYWlsKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdGVkQ3VzdG9tZXIucGhvbmU6Jywgc2VsZWN0ZWRDdXN0b21lci5waG9uZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZEN1c3RvbWVyLmNvbnRhY3RQZXJzb246Jywgc2VsZWN0ZWRDdXN0b21lci5jb250YWN0UGVyc29uKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBleGlzdGluZyBjdXN0b21lcnMsIHVzZSB0aGUgc2VsZWN0ZWRDdXN0b21lciBkYXRhIGRpcmVjdGx5IGZvciB2YWxpZGF0aW9uXG4gICAgICAgIGNsaWVudFRvVmFsaWRhdGUgPSB7XG4gICAgICAgICAgLi4uY2xpZW50VG9WYWxpZGF0ZSxcbiAgICAgICAgICBlbWFpbDogc2VsZWN0ZWRDdXN0b21lci5lbWFpbCxcbiAgICAgICAgICBwaG9uZTogc2VsZWN0ZWRDdXN0b21lci5waG9uZSB8fCAnJyxcbiAgICAgICAgICBjb250YWN0UGVyc29uOiBzZWxlY3RlZEN1c3RvbWVyLmNvbnRhY3RQZXJzb24sXG4gICAgICAgICAgY2xpZW50VHlwZTogc2VsZWN0ZWRDdXN0b21lci5jbGllbnRUeXBlLFxuICAgICAgICAgIGNvbXBhbnlOYW1lOiBzZWxlY3RlZEN1c3RvbWVyLmNvbXBhbnlOYW1lIHx8ICcnLFxuICAgICAgICAgIHJvbGU6IHNlbGVjdGVkQ3VzdG9tZXIucm9sZSB8fCAnJyxcbiAgICAgICAgICBhZGRyZXNzOiBzZWxlY3RlZEN1c3RvbWVyLmFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgY2l0eTogc2VsZWN0ZWRDdXN0b21lci5jaXR5IHx8ICcnLFxuICAgICAgICAgIHN0YXRlOiBzZWxlY3RlZEN1c3RvbWVyLnN0YXRlIHx8ICcnLFxuICAgICAgICAgIHBvc3RhbENvZGU6IHNlbGVjdGVkQ3VzdG9tZXIucG9zdGFsQ29kZSB8fCAnJyxcbiAgICAgICAgICBjb3VudHJ5OiBzZWxlY3RlZEN1c3RvbWVyLmNvdW50cnkgfHwgJycsXG4gICAgICAgICAgY291bnRyeUNvZGU6IHNlbGVjdGVkQ3VzdG9tZXIuY291bnRyeUNvZGUgfHwgJys5NzEnXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBzZWxlY3RlZEN1c3RvbWVyIGRhdGEgZm9yIHZhbGlkYXRpb246JywgY2xpZW50VG9WYWxpZGF0ZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERlYnVnOiBMb2cgdGhlIGNsaWVudCBkYXRhIGJlaW5nIHZhbGlkYXRlZFxuICAgICAgY29uc29sZS5sb2coJz09PSBDTElFTlQgVkFMSURBVElPTiBERUJVRyA9PT0nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQgZGF0YSBiZWluZyB2YWxpZGF0ZWQ6JywgY2xpZW50VG9WYWxpZGF0ZSk7XG4gICAgICBjb25zb2xlLmxvZygnRW1haWw6JywgY2xpZW50VG9WYWxpZGF0ZS5lbWFpbCk7XG4gICAgICBjb25zb2xlLmxvZygnUGhvbmU6JywgY2xpZW50VG9WYWxpZGF0ZS5waG9uZSk7XG4gICAgICBjb25zb2xlLmxvZygnQ29udGFjdCBQZXJzb246JywgY2xpZW50VG9WYWxpZGF0ZS5jb250YWN0UGVyc29uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRyZXNzOicsIGNsaWVudFRvVmFsaWRhdGUuYWRkcmVzcyk7XG4gICAgICBjb25zb2xlLmxvZygnQ2l0eTonLCBjbGllbnRUb1ZhbGlkYXRlLmNpdHkpO1xuICAgICAgY29uc29sZS5sb2coJ1N0YXRlOicsIGNsaWVudFRvVmFsaWRhdGUuc3RhdGUpO1xuICAgICAgY29uc29sZS5sb2coJ1Bvc3RhbCBDb2RlOicsIGNsaWVudFRvVmFsaWRhdGUucG9zdGFsQ29kZSk7XG4gICAgICBjb25zb2xlLmxvZygnQ291bnRyeTonLCBjbGllbnRUb1ZhbGlkYXRlLmNvdW50cnkpO1xuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSBlc3NlbnRpYWwgZmllbGRzIG9ubHlcbiAgICAgIC8vIFNraXAgdmFsaWRhdGlvbiBmb3IgZXhpc3RpbmcgY3VzdG9tZXJzIHNpbmNlIHdlIGtub3cgdGhlIGRhdGEgaXMgdmFsaWRcbiAgICAgIGlmIChxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIiAmJiBzZWxlY3RlZEN1c3RvbWVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTa2lwcGluZyB2YWxpZGF0aW9uIGZvciBleGlzdGluZyBjdXN0b21lciAtIGRhdGEgaXMgcHJlLXZhbGlkYXRlZCcpO1xuICAgICAgfSBlbHNlIGlmICghY2xpZW50VG9WYWxpZGF0ZS5lbWFpbCB8fCAhY2xpZW50VG9WYWxpZGF0ZS5waG9uZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIGVzc2VudGlhbCBjbGllbnQgZmllbGRzOicsIHtcbiAgICAgICAgICBlbWFpbDogY2xpZW50VG9WYWxpZGF0ZS5lbWFpbCxcbiAgICAgICAgICBwaG9uZTogY2xpZW50VG9WYWxpZGF0ZS5waG9uZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGNsaWVudCBpbmZvcm1hdGlvbjogZW1haWwgYW5kIHBob25lIGFyZSByZXF1aXJlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVpdGhlciBjb250YWN0UGVyc29uIE9SIGJvdGggZmlyc3ROYW1lIGFuZCBsYXN0TmFtZVxuICAgICAgY29uc3QgaGFzQ29udGFjdFBlcnNvbiA9IGNsaWVudFRvVmFsaWRhdGUuY29udGFjdFBlcnNvbiAmJiBjbGllbnRUb1ZhbGlkYXRlLmNvbnRhY3RQZXJzb24udHJpbSgpICE9PSAnJztcbiAgICAgIGNvbnN0IGhhc0Z1bGxOYW1lID0gY2xpZW50VG9WYWxpZGF0ZS5maXJzdE5hbWUgJiYgY2xpZW50VG9WYWxpZGF0ZS5maXJzdE5hbWUudHJpbSgpICE9PSAnJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRUb1ZhbGlkYXRlLmxhc3ROYW1lICYmIGNsaWVudFRvVmFsaWRhdGUubGFzdE5hbWUudHJpbSgpICE9PSAnJztcbiAgICAgIFxuICAgICAgaWYgKCFoYXNDb250YWN0UGVyc29uICYmICFoYXNGdWxsTmFtZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIG5hbWUgaW5mb3JtYXRpb246Jywge1xuICAgICAgICAgIGNvbnRhY3RQZXJzb246IGNsaWVudFRvVmFsaWRhdGUuY29udGFjdFBlcnNvbixcbiAgICAgICAgICBmaXJzdE5hbWU6IGNsaWVudFRvVmFsaWRhdGUuZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3ROYW1lOiBjbGllbnRUb1ZhbGlkYXRlLmxhc3ROYW1lXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhY3QgcGVyc29uIG5hbWUgaXMgcmVxdWlyZWQgKG9yIGZpcnN0IG5hbWUgYW5kIGxhc3QgbmFtZSknKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGNvbnRhY3RQZXJzb24gaXMgc2V0IGlmIHdlIGhhdmUgZmlyc3ROYW1lIGFuZCBsYXN0TmFtZVxuICAgICAgaWYgKCFoYXNDb250YWN0UGVyc29uICYmIGhhc0Z1bGxOYW1lKSB7XG4gICAgICAgIGNsaWVudFRvVmFsaWRhdGUuY29udGFjdFBlcnNvbiA9IGAke2NsaWVudFRvVmFsaWRhdGUuZmlyc3ROYW1lfSAke2NsaWVudFRvVmFsaWRhdGUubGFzdE5hbWV9YC50cmltKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvLWdlbmVyYXRlZCBjb250YWN0UGVyc29uIGZyb20gZmlyc3ROYW1lIGFuZCBsYXN0TmFtZTonLCBjbGllbnRUb1ZhbGlkYXRlLmNvbnRhY3RQZXJzb24pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDb21wYW55IHZhbGlkYXRpb24gb25seSBpZiBjb21wYW55IHR5cGVcbiAgICAgIGlmIChjbGllbnRUb1ZhbGlkYXRlLmNsaWVudFR5cGUgPT09IFwiQ29tcGFueVwiICYmICFjbGllbnRUb1ZhbGlkYXRlLmNvbXBhbnlOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGFueSBuYW1lIGlzIHJlcXVpcmVkIGZvciBjb21wYW55IGNsaWVudHMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkcmVzcyBmaWVsZHMgYXJlIG9wdGlvbmFsIGJ1dCBpZiBwcm92aWRlZCwgc2hvdWxkIGJlIGNvbXBsZXRlXG4gICAgICBjb25zdCBoYXNQYXJ0aWFsQWRkcmVzcyA9IGNsaWVudFRvVmFsaWRhdGUuYWRkcmVzcyB8fCBjbGllbnRUb1ZhbGlkYXRlLmNpdHkgfHwgY2xpZW50VG9WYWxpZGF0ZS5zdGF0ZSB8fCBjbGllbnRUb1ZhbGlkYXRlLnBvc3RhbENvZGUgfHwgY2xpZW50VG9WYWxpZGF0ZS5jb3VudHJ5O1xuICAgICAgY29uc3QgaGFzQ29tcGxldGVBZGRyZXNzID0gY2xpZW50VG9WYWxpZGF0ZS5hZGRyZXNzICYmIGNsaWVudFRvVmFsaWRhdGUuY2l0eSAmJiBjbGllbnRUb1ZhbGlkYXRlLnN0YXRlICYmIGNsaWVudFRvVmFsaWRhdGUucG9zdGFsQ29kZSAmJiBjbGllbnRUb1ZhbGlkYXRlLmNvdW50cnk7XG4gICAgICBcbiAgICAgIGlmIChoYXNQYXJ0aWFsQWRkcmVzcyAmJiAhaGFzQ29tcGxldGVBZGRyZXNzKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGFydGlhbCBhZGRyZXNzIHByb3ZpZGVkIC0gc29tZSBhZGRyZXNzIGZpZWxkcyBhcmUgbWlzc2luZycpO1xuICAgICAgICAvLyBEb24ndCB0aHJvdyBlcnJvciwganVzdCB3YXJuIC0gYWRkcmVzcyBpcyBvcHRpb25hbFxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGaXJzdCwgc2F2ZSB0aGUgY2xpZW50IGlmIGl0J3MgYSBuZXcgY2xpZW50XG4gICAgICBsZXQgY2xpZW50SWQgPSBzZWxlY3RlZEN1c3RvbWVyPy5pZDtcbiAgICAgIFxuICAgICAgLy8gSWYgbm8gc2VsZWN0ZWRDdXN0b21lciBJRCwgd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgY2xpZW50IGZyb20gZm9ybSBkYXRhXG4gICAgICBpZiAoIWNsaWVudElkKSB7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgY2xpZW50IC0gRml4IHRoZSBkYXRhIG1hcHBpbmdcbiAgICAgICAgY29uc3QgY2xpZW50RGF0YSA9IHtcbiAgICAgICAgICBjbGllbnRUeXBlOiBjbGllbnRUb1ZhbGlkYXRlLmNsaWVudFR5cGUsXG4gICAgICAgICAgY29tcGFueU5hbWU6IGNsaWVudFRvVmFsaWRhdGUuY2xpZW50VHlwZSA9PT0gXCJDb21wYW55XCIgPyBjbGllbnRUb1ZhbGlkYXRlLmNvbXBhbnlOYW1lIDogbnVsbCxcbiAgICAgICAgICBjb250YWN0UGVyc29uOiBjbGllbnRUb1ZhbGlkYXRlLmNvbnRhY3RQZXJzb24gfHwgYCR7Y2xpZW50VG9WYWxpZGF0ZS5maXJzdE5hbWUgfHwgJyd9ICR7Y2xpZW50VG9WYWxpZGF0ZS5sYXN0TmFtZSB8fCAnJ31gLnRyaW0oKSxcbiAgICAgICAgICBlbWFpbDogY2xpZW50VG9WYWxpZGF0ZS5lbWFpbCxcbiAgICAgICAgICBwaG9uZTogY2xpZW50VG9WYWxpZGF0ZS5waG9uZSxcbiAgICAgICAgICBjb3VudHJ5Q29kZTogY2xpZW50VG9WYWxpZGF0ZS5jb3VudHJ5Q29kZSxcbiAgICAgICAgICByb2xlOiBjbGllbnRUb1ZhbGlkYXRlLmNsaWVudFR5cGUgPT09IFwiQ29tcGFueVwiID8gY2xpZW50VG9WYWxpZGF0ZS5yb2xlIDogbnVsbCxcbiAgICAgICAgICBhZGRyZXNzOiBjbGllbnRUb1ZhbGlkYXRlLmFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgY2l0eTogY2xpZW50VG9WYWxpZGF0ZS5jaXR5IHx8ICcnLFxuICAgICAgICAgIHN0YXRlOiBjbGllbnRUb1ZhbGlkYXRlLnN0YXRlIHx8ICcnLFxuICAgICAgICAgIHBvc3RhbENvZGU6IGNsaWVudFRvVmFsaWRhdGUucG9zdGFsQ29kZSB8fCAnJyxcbiAgICAgICAgICBjb3VudHJ5OiBjbGllbnRUb1ZhbGlkYXRlLmNvdW50cnkgfHwgJycsXG4gICAgICAgICAgYWRkaXRpb25hbEluZm86IGNsaWVudFRvVmFsaWRhdGUuYWRkaXRpb25hbEluZm8gfHwgJycsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIG5ldyBjbGllbnQgd2l0aCBkYXRhOicsIGNsaWVudERhdGEpO1xuXG4gICAgICAgIGNvbnN0IGNsaWVudFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2xpZW50cycsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2xpZW50RGF0YSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghY2xpZW50UmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCBjbGllbnRSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpZW50IGNyZWF0aW9uIGZhaWxlZDonLCBjbGllbnRSZXNwb25zZS5zdGF0dXMsIGVycm9yVGV4dCk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGNsaWVudDogJHtjbGllbnRSZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdDbGllbnQgPSBhd2FpdCBjbGllbnRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNsaWVudElkID0gbmV3Q2xpZW50LmlkO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWxlY3RlZEN1c3RvbWVyIHN0YXRlIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgY2xpZW50XG4gICAgICAgIGNvbnN0IG5ld0N1c3RvbWVyRGF0YSA9IHtcbiAgICAgICAgICBpZDogbmV3Q2xpZW50LmlkLFxuICAgICAgICAgIGNsaWVudFR5cGU6IG5ld0NsaWVudC5jbGllbnRUeXBlLFxuICAgICAgICAgIGNvbXBhbnlOYW1lOiBuZXdDbGllbnQuY29tcGFueU5hbWUsXG4gICAgICAgICAgY29udGFjdFBlcnNvbjogbmV3Q2xpZW50LmNvbnRhY3RQZXJzb24sXG4gICAgICAgICAgZW1haWw6IG5ld0NsaWVudC5lbWFpbCxcbiAgICAgICAgICBwaG9uZTogbmV3Q2xpZW50LnBob25lLFxuICAgICAgICAgIGNvdW50cnlDb2RlOiBuZXdDbGllbnQuY291bnRyeUNvZGUsXG4gICAgICAgICAgcm9sZTogbmV3Q2xpZW50LnJvbGUsXG4gICAgICAgICAgYWRkcmVzczogbmV3Q2xpZW50LmFkZHJlc3MsXG4gICAgICAgICAgY2l0eTogbmV3Q2xpZW50LmNpdHksXG4gICAgICAgICAgc3RhdGU6IG5ld0NsaWVudC5zdGF0ZSxcbiAgICAgICAgICBwb3N0YWxDb2RlOiBuZXdDbGllbnQucG9zdGFsQ29kZSxcbiAgICAgICAgICBjb3VudHJ5OiBuZXdDbGllbnQuY291bnRyeSxcbiAgICAgICAgICBhZGRpdGlvbmFsSW5mbzogbmV3Q2xpZW50LmFkZGl0aW9uYWxJbmZvLFxuICAgICAgICAgIGZpcnN0TmFtZTogZm9ybURhdGEuY2xpZW50LmZpcnN0TmFtZSB8fCAnJyxcbiAgICAgICAgICBsYXN0TmFtZTogZm9ybURhdGEuY2xpZW50Lmxhc3ROYW1lIHx8ICcnLFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihuZXdDdXN0b21lckRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBzZWxlY3RlZEN1c3RvbWVyIHdpdGggbmV3IGNsaWVudDonLCBuZXdDdXN0b21lckRhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIGZvcm0gZGF0YSB3aXRoIHRoZSBuZXcgY3VzdG9tZXIgaW5mb3JtYXRpb24gdG8gZW5zdXJlIFN0ZXAgNSBkaXNwbGF5cyBjb3JyZWN0bHlcbiAgICAgICAgc2V0Rm9ybURhdGEocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgICAuLi5wcmV2LmNsaWVudCxcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB3aXRoIHRoZSBuZXcgY3VzdG9tZXIgZGF0YSB0byBlbnN1cmUgY29uc2lzdGVuY3lcbiAgICAgICAgICAgIGNvbnRhY3RQZXJzb246IG5ld0N1c3RvbWVyRGF0YS5jb250YWN0UGVyc29uLFxuICAgICAgICAgICAgZW1haWw6IG5ld0N1c3RvbWVyRGF0YS5lbWFpbCxcbiAgICAgICAgICAgIHBob25lOiBuZXdDdXN0b21lckRhdGEucGhvbmUsXG4gICAgICAgICAgICBhZGRyZXNzOiBuZXdDdXN0b21lckRhdGEuYWRkcmVzcyxcbiAgICAgICAgICAgIGNpdHk6IG5ld0N1c3RvbWVyRGF0YS5jaXR5LFxuICAgICAgICAgICAgc3RhdGU6IG5ld0N1c3RvbWVyRGF0YS5zdGF0ZSxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IG5ld0N1c3RvbWVyRGF0YS5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgY291bnRyeTogbmV3Q3VzdG9tZXJEYXRhLmNvdW50cnksXG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mbzogbmV3Q3VzdG9tZXJEYXRhLmFkZGl0aW9uYWxJbmZvLFxuICAgICAgICAgICAgLy8gQWxzbyBlbnN1cmUgZmlyc3ROYW1lIGFuZCBsYXN0TmFtZSBhcmUgc2V0IGlmIHRoZXkgZXhpc3RcbiAgICAgICAgICAgIGZpcnN0TmFtZTogbmV3Q3VzdG9tZXJEYXRhLmZpcnN0TmFtZSB8fCBwcmV2LmNsaWVudC5maXJzdE5hbWUgfHwgJycsXG4gICAgICAgICAgICBsYXN0TmFtZTogbmV3Q3VzdG9tZXJEYXRhLmxhc3ROYW1lIHx8IHByZXYuY2xpZW50Lmxhc3ROYW1lIHx8ICcnLFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgZm9ybSBkYXRhIHdpdGggbmV3IGN1c3RvbWVyIGluZm9ybWF0aW9uIGZvciBTdGVwIDUgZGlzcGxheScpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIHRoZSBmaW5hbCBzdGF0ZSBmb3IgZGVidWdnaW5nXG4gICAgICAgIGNvbnNvbGUubG9nKCc9PT0gRklOQUwgU1RBVEUgQUZURVIgQ0xJRU5UIENSRUFUSU9OID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnTmV3IGNsaWVudCBJRDonLCBjbGllbnRJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIHNlbGVjdGVkQ3VzdG9tZXI6JywgbmV3Q3VzdG9tZXJEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgZm9ybURhdGEuY2xpZW50OicsIGZvcm1EYXRhLmNsaWVudCk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnQ2xpZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OicsIG5ld0NsaWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBjdXJyZW50IHVzZXIgSURcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBhd2FpdCBnZXRDdXJyZW50VXNlcklkKCk7XG5cbiAgICAgIC8vIERlYnVnOiBMb2cgdGhlIGN1c3RvbWVyIGluZm9ybWF0aW9uIGJlaW5nIHVzZWRcbiAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBxdW90ZSB3aXRoIGN1c3RvbWVyIGluZm86Jywge1xuICAgICAgICBjbGllbnRJZCxcbiAgICAgICAgc2VsZWN0ZWRDdXN0b21lcixcbiAgICAgICAgZm9ybURhdGFDbGllbnQ6IGZvcm1EYXRhLmNsaWVudCxcbiAgICAgICAgbmV3Q3VzdG9tZXJEYXRhOiBjbGllbnRJZCA/ICdVc2luZyBleGlzdGluZyBjdXN0b21lcicgOiAnQ3JlYXRlZCBuZXcgY3VzdG9tZXInXG4gICAgICB9KTtcblxuICAgICAgLy8gUHJlcGFyZSBxdW90ZSBkYXRhIGZvciBBUEkgLSBGaXggdGhlIGRhdGEgc3RydWN0dXJlIHRvIG1hdGNoIERhdGFiYXNlU2VydmljZSBleHBlY3RhdGlvbnNcbiAgICAgIGNvbnN0IHF1b3RlRGF0YSA9IHtcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiBcIlBlbmRpbmdcIixcbiAgICAgICAgY2xpZW50SWQ6IGNsaWVudElkLFxuICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VySWQsXG4gICAgICAgIHNhbGVzUGVyc29uSWQ6IGZvcm1EYXRhLnNhbGVzUGVyc29uSWQsIC8vIEFkZCBzYWxlc1BlcnNvbklkIGZyb20gZm9ybSBkYXRhXG4gICAgICAgIHByb2R1Y3Q6IGZvcm1EYXRhLnByb2R1Y3RzWzBdPy5wcm9kdWN0TmFtZSB8fCBcIlByaW50aW5nIFByb2R1Y3RcIixcbiAgICAgICAgcXVhbnRpdHk6IGZvcm1EYXRhLnByb2R1Y3RzWzBdPy5xdWFudGl0eSB8fCAwLFxuICAgICAgICBzaWRlczogZm9ybURhdGEucHJvZHVjdHNbMF0/LnNpZGVzIHx8IFwiMVwiLFxuICAgICAgICBwcmludGluZzogZm9ybURhdGEucHJvZHVjdHNbMF0/LnByaW50aW5nU2VsZWN0aW9uIHx8IFwiRGlnaXRhbFwiLFxuICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBEZWJ1ZzogTG9nIHRoZSBxdW90ZSBkYXRhIGJlaW5nIHNlbnRcbiAgICAgICAgY29uc29sZS5sb2coJz09PSBRVU9URSBEQVRBIERFQlVHID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnUXVvdGUgZGF0YSBiZWluZyBzZW50OicsIHF1b3RlRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzYWxlc1BlcnNvbklkOicsIGZvcm1EYXRhLnNhbGVzUGVyc29uSWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnQ3VzdG9tZXIgSUQgYmVpbmcgdXNlZDonLCBjbGllbnRJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZCBjdXN0b21lciBzdGF0ZTonLCBzZWxlY3RlZEN1c3RvbWVyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Zvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVyczonLCBmb3JtRGF0YS5vcGVyYXRpb25hbC5wYXBlcnMpO1xuICAgICAgICBjb25zb2xlLmxvZygnZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nOicsIGZvcm1EYXRhLm9wZXJhdGlvbmFsLmZpbmlzaGluZyk7XG5cbiAgICAgIGxldCBxdW90ZVJlc3BvbnNlO1xuICAgICAgbGV0IHNhdmVkUXVvdGU7XG5cbiAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IGVkaXRpbmcgYW4gZXhpc3RpbmcgcXVvdGUgKGhhcyBzZWxlY3RlZFF1b3RlSWQpXG4gICAgICBpZiAoc2VsZWN0ZWRRdW90ZUlkICYmIGlzVXBkYXRlKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBxdW90ZSAtIHdlIGhhdmUgYSBzcGVjaWZpYyBxdW90ZSBJRCB0byBlZGl0XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyBleGlzdGluZyBxdW90ZTonLCBzZWxlY3RlZFF1b3RlSWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnPT09IFFVT1RFIERBVEEgREVCVUcgKFVQREFURSkgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdRdW90ZSBkYXRhIGJlaW5nIHNlbnQ6JywgcXVvdGVEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NhbGVzUGVyc29uSWQ6JywgZm9ybURhdGEuc2FsZXNQZXJzb25JZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgU3RlcCA1IGNhbGN1bGF0aW9uIHJlc3VsdHMgZGlyZWN0bHkgLSBubyByZWNhbGN1bGF0aW9uIG5lZWRlZFxuICAgICAgICBjb25zdCB0b3RhbFByaWNlID0gZm9ybURhdGEuY2FsY3VsYXRpb24udG90YWxQcmljZSB8fCAwO1xuICAgICAgICBjb25zdCB0b3RhbEJhc2VQcmljZSA9IGZvcm1EYXRhLmNhbGN1bGF0aW9uLmJhc2VQcmljZSB8fCAwO1xuICAgICAgICBjb25zdCB2YXRBbW91bnQgPSBmb3JtRGF0YS5jYWxjdWxhdGlvbi52YXRBbW91bnQgfHwgMDtcblxuICAgICAgICBjb25zb2xlLmxvZygnPT09IFVTSU5HIFNURVAgNSBDQUxDVUxBVElPTiBSRVNVTFRTID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RlcCA1IHRvdGFsUHJpY2U6JywgdG90YWxQcmljZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVwIDUgYmFzZVByaWNlOicsIHRvdGFsQmFzZVByaWNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0ZXAgNSB2YXRBbW91bnQ6JywgdmF0QW1vdW50KTtcblxuICAgICAgICAvLyBGb3IgdXBkYXRlcywgd2UgY2FuIGluY2x1ZGUgYWRkaXRpb25hbCBkYXRhIGxpa2UgcGFwZXJzLCBmaW5pc2hpbmcsIGFtb3VudHNcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcbiAgICAgICAgICAuLi5xdW90ZURhdGEsXG4gICAgICAgICAgc2FsZXNQZXJzb25JZDogZm9ybURhdGEuc2FsZXNQZXJzb25JZCwgLy8gRW5zdXJlIHNhbGVzUGVyc29uSWQgaXMgaW5jbHVkZWQgaW4gdXBkYXRlc1xuICAgICAgICAgIGNvbG9yczogZm9ybURhdGEucHJvZHVjdHNbMF0/LmNvbG9ycyB8fCBudWxsLCAvLyBJbmNsdWRlIGNvbG9ycyBmaWVsZFxuICAgICAgICAgIC8vIEluY2x1ZGUgZGlzY291bnQgaW5mb3JtYXRpb25cbiAgICAgICAgICBkaXNjb3VudFBlcmNlbnRhZ2U6IGZvcm1EYXRhLmNhbGN1bGF0aW9uLmRpc2NvdW50Py5wZXJjZW50YWdlIHx8IDAsXG4gICAgICAgICAgZGlzY291bnRBbW91bnQ6IGZvcm1EYXRhLmNhbGN1bGF0aW9uLmRpc2NvdW50QW1vdW50IHx8IDAsXG4gICAgICAgICAgcGFwZXJzOiB7XG4gICAgICAgICAgICBjcmVhdGU6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycy5tYXAoKG9wZXJhdGlvbmFsUGFwZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgY29ycmVzcG9uZGluZyBwYXBlciBuYW1lIGFuZCBnc20gZnJvbSBwcm9kdWN0IHBhcGVyc1xuICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0UGFwZXIgPSBmb3JtRGF0YS5wcm9kdWN0c1swXT8ucGFwZXJzW2luZGV4XSB8fCBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHByb2R1Y3RQYXBlcj8ubmFtZSB8fCBcIlN0YW5kYXJkIFBhcGVyXCIsXG4gICAgICAgICAgICAgICAgZ3NtOiBwcm9kdWN0UGFwZXI/LmdzbSA/IHBhcnNlSW50KHByb2R1Y3RQYXBlci5nc20pIDogMTUwLFxuICAgICAgICAgICAgICAgIGlucHV0V2lkdGg6IG9wZXJhdGlvbmFsUGFwZXIuaW5wdXRXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIGlucHV0SGVpZ2h0OiBvcGVyYXRpb25hbFBhcGVyLmlucHV0SGVpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgcHJpY2VQZXJQYWNrZXQ6IG9wZXJhdGlvbmFsUGFwZXIucHJpY2VQZXJQYWNrZXQgfHwgMCxcbiAgICAgICAgICAgICAgICBwcmljZVBlclNoZWV0OiBvcGVyYXRpb25hbFBhcGVyLnByaWNlUGVyU2hlZXQgfHwgMCxcbiAgICAgICAgICAgICAgICBzaGVldHNQZXJQYWNrZXQ6IG9wZXJhdGlvbmFsUGFwZXIuc2hlZXRzUGVyUGFja2V0IHx8IDEsXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRTaGVldHM6IG9wZXJhdGlvbmFsUGFwZXIucmVjb21tZW5kZWRTaGVldHMgfHwgMSxcbiAgICAgICAgICAgICAgICBlbnRlcmVkU2hlZXRzOiBvcGVyYXRpb25hbFBhcGVyLmVudGVyZWRTaGVldHMgfHwgMSxcbiAgICAgICAgICAgICAgICBvdXRwdXRXaWR0aDogb3BlcmF0aW9uYWxQYXBlci5vdXRwdXRXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIG91dHB1dEhlaWdodDogb3BlcmF0aW9uYWxQYXBlci5vdXRwdXRIZWlnaHQgfHwgMCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yczogb3BlcmF0aW9uYWxQYXBlci5zZWxlY3RlZENvbG9ycyB8fCBcIlwiLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaGluZzoge1xuICAgICAgICAgICAgY3JlYXRlOiBmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmcubWFwKGZpbmlzaCA9PiAoe1xuICAgICAgICAgICAgICBuYW1lOiBmaW5pc2gubmFtZSB8fCBcIlN0YW5kYXJkIEZpbmlzaGluZ1wiLFxuICAgICAgICAgICAgICBjb3N0OiBmaW5pc2guY29zdCB8fCAwLFxuICAgICAgICAgICAgfSkpIHx8IFtdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhbW91bnRzOiB7XG4gICAgICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICAgICAgYmFzZTogdG90YWxCYXNlUHJpY2UsIC8vIFVzZSBTdGVwIDUgYmFzZSBwcmljZVxuICAgICAgICAgICAgICB2YXQ6IHZhdEFtb3VudCwgLy8gVXNlIFN0ZXAgNSBWQVQgYW1vdW50XG4gICAgICAgICAgICAgIHRvdGFsOiB0b3RhbFByaWNlIC8vIFVzZSBTdGVwIDUgdG90YWwgcHJpY2UgLSBFWEFDVExZIHRoZSBzYW1lIGFzIFN0ZXAgNSBmaW5hbCBwcmljZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3BlcmF0aW9uYWw6IHtcbiAgICAgICAgICAgIGNyZWF0ZToge1xuICAgICAgICAgICAgICBwbGF0ZXM6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBsYXRlcyB8fCAwLFxuICAgICAgICAgICAgICB1bml0czogZm9ybURhdGEub3BlcmF0aW9uYWwudW5pdHMgfHwgMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRlIGFuZCBjbGVhbiB0aGUgdXBkYXRlIGRhdGEgYmVmb3JlIHNlbmRpbmdcbiAgICAgICAgY29uc3QgY2xlYW5lZFVwZGF0ZURhdGEgPSB2YWxpZGF0ZUFuZENsZWFuUXVvdGVEYXRhKHVwZGF0ZURhdGEpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1F1b3RlIGRhdGEgYmVpbmcgc2VudCBmb3IgdXBkYXRlOicsIGNsZWFuZWRVcGRhdGVEYXRhKTtcbiAgICAgICAgXG4gICAgICAgIHF1b3RlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9xdW90ZXMvJHtzZWxlY3RlZFF1b3RlSWR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNsZWFuZWRVcGRhdGVEYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFxdW90ZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcXVvdGVSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUXVvdGUgdXBkYXRlIGZhaWxlZDonLCBxdW90ZVJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgcXVvdGU6ICR7cXVvdGVSZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBzYXZlZFF1b3RlID0gYXdhaXQgcXVvdGVSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdRdW90ZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseTonLCBzYXZlZFF1b3RlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIGZvciB1cGRhdGVcbiAgICAgICAgYWxlcnQoJ1F1b3RlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IHF1b3RlIC0gZXZlbiBpZiB1c2luZyBleGlzdGluZyBjdXN0b21lciwgdGhpcyBpcyBhIG5ldyBxdW90ZVxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IHF1b3RlIHdpdGggY29tcGxldGUgZGV0YWlscycpO1xuICAgICAgICBjb25zb2xlLmxvZygnPT09IENPTVBMRVRFIFFVT1RFIERBVEEgREVCVUcgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YS5zYWxlc1BlcnNvbklkOicsIGZvcm1EYXRhLnNhbGVzUGVyc29uSWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnZm9ybURhdGEub3BlcmF0aW9uYWwucGFwZXJzOicsIGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmc6JywgZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIHF1b3RlIElEIGluIHByb3BlciBmb3JtYXQ6IFFULVlZWVktTU1ERC1YWFhcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBtb250aCA9IFN0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCByYW5kb21OdW0gPSBTdHJpbmcoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCkpLnBhZFN0YXJ0KDMsICcwJyk7XG4gICAgICAgIGNvbnN0IHF1b3RlSWQgPSBgUVQtJHt5ZWFyfS0ke21vbnRofSR7ZGF5fS0ke3JhbmRvbU51bX1gO1xuICAgICAgICBcbiAgICAgICAgLy8gVXNlIFN0ZXAgNSBjYWxjdWxhdGlvbiByZXN1bHRzIGRpcmVjdGx5IC0gbm8gcmVjYWxjdWxhdGlvbiBuZWVkZWRcbiAgICAgICAgY29uc3QgdG90YWxQcmljZSA9IGZvcm1EYXRhLmNhbGN1bGF0aW9uLnRvdGFsUHJpY2UgfHwgMDtcbiAgICAgICAgY29uc3QgdG90YWxCYXNlUHJpY2UgPSBmb3JtRGF0YS5jYWxjdWxhdGlvbi5iYXNlUHJpY2UgfHwgMDtcbiAgICAgICAgY29uc3QgdmF0QW1vdW50ID0gZm9ybURhdGEuY2FsY3VsYXRpb24udmF0QW1vdW50IHx8IDA7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnPT09IFVTSU5HIFNURVAgNSBDQUxDVUxBVElPTiBSRVNVTFRTID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RlcCA1IHRvdGFsUHJpY2U6JywgdG90YWxQcmljZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVwIDUgYmFzZVByaWNlOicsIHRvdGFsQmFzZVByaWNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0ZXAgNSB2YXRBbW91bnQ6JywgdmF0QW1vdW50KTtcblxuICAgICAgICAvLyBQcmVwYXJlIGNvbXBsZXRlIHF1b3RlIGRhdGEgd2l0aCBhbGwgZGV0YWlsc1xuICAgICAgICBjb25zdCBjb21wbGV0ZVF1b3RlRGF0YSA9IHtcbiAgICAgICAgICAuLi5xdW90ZURhdGEsXG4gICAgICAgICAgcXVvdGVJZDogcXVvdGVJZCxcbiAgICAgICAgICBzYWxlc1BlcnNvbklkOiBmb3JtRGF0YS5zYWxlc1BlcnNvbklkLCAvLyBFeHBsaWNpdGx5IGluY2x1ZGUgc2FsZXNQZXJzb25JZFxuICAgICAgICAgIGNvbG9yczogZm9ybURhdGEucHJvZHVjdHNbMF0/LmNvbG9ycyB8fCBudWxsLCAvLyBJbmNsdWRlIGNvbG9ycyBmaWVsZFxuICAgICAgICAgIC8vIEluY2x1ZGUgZGlzY291bnQgaW5mb3JtYXRpb25cbiAgICAgICAgICBkaXNjb3VudFBlcmNlbnRhZ2U6IGZvcm1EYXRhLmNhbGN1bGF0aW9uLmRpc2NvdW50Py5wZXJjZW50YWdlIHx8IDAsXG4gICAgICAgICAgZGlzY291bnRBbW91bnQ6IGZvcm1EYXRhLmNhbGN1bGF0aW9uLmRpc2NvdW50QW1vdW50IHx8IDAsXG4gICAgICAgICAgcGFwZXJzOiB7XG4gICAgICAgICAgICBjcmVhdGU6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycy5tYXAoKG9wZXJhdGlvbmFsUGFwZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgY29ycmVzcG9uZGluZyBwYXBlciBuYW1lIGFuZCBnc20gZnJvbSBwcm9kdWN0IHBhcGVyc1xuICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0UGFwZXIgPSBmb3JtRGF0YS5wcm9kdWN0c1swXT8ucGFwZXJzW2luZGV4XSB8fCBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHByb2R1Y3RQYXBlcj8ubmFtZSB8fCBcIlN0YW5kYXJkIFBhcGVyXCIsXG4gICAgICAgICAgICAgICAgZ3NtOiBwcm9kdWN0UGFwZXI/LmdzbSA/IHBhcnNlSW50KHByb2R1Y3RQYXBlci5nc20pIDogMTUwLFxuICAgICAgICAgICAgICAgIGlucHV0V2lkdGg6IG9wZXJhdGlvbmFsUGFwZXIuaW5wdXRXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIGlucHV0SGVpZ2h0OiBvcGVyYXRpb25hbFBhcGVyLmlucHV0SGVpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgcHJpY2VQZXJQYWNrZXQ6IG9wZXJhdGlvbmFsUGFwZXIucHJpY2VQZXJQYWNrZXQgfHwgMCxcbiAgICAgICAgICAgICAgICBwcmljZVBlclNoZWV0OiBvcGVyYXRpb25hbFBhcGVyLnByaWNlUGVyU2hlZXQgfHwgMCxcbiAgICAgICAgICAgICAgICBzaGVldHNQZXJQYWNrZXQ6IG9wZXJhdGlvbmFsUGFwZXIuc2hlZXRzUGVyUGFja2V0IHx8IDEsXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRTaGVldHM6IG9wZXJhdGlvbmFsUGFwZXIucmVjb21tZW5kZWRTaGVldHMgfHwgMSxcbiAgICAgICAgICAgICAgICBlbnRlcmVkU2hlZXRzOiBvcGVyYXRpb25hbFBhcGVyLmVudGVyZWRTaGVldHMgfHwgMSxcbiAgICAgICAgICAgICAgICBvdXRwdXRXaWR0aDogb3BlcmF0aW9uYWxQYXBlci5vdXRwdXRXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIG91dHB1dEhlaWdodDogb3BlcmF0aW9uYWxQYXBlci5vdXRwdXRIZWlnaHQgfHwgMCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yczogb3BlcmF0aW9uYWxQYXBlci5zZWxlY3RlZENvbG9ycyB8fCBcIlwiLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaGluZzoge1xuICAgICAgICAgICAgY3JlYXRlOiBmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmcubWFwKGZpbmlzaCA9PiAoe1xuICAgICAgICAgICAgICBuYW1lOiBmaW5pc2gubmFtZSB8fCBcIlN0YW5kYXJkIEZpbmlzaGluZ1wiLFxuICAgICAgICAgICAgICBjb3N0OiBmaW5pc2guY29zdCB8fCAwLFxuICAgICAgICAgICAgfSkpIHx8IFtdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhbW91bnRzOiB7XG4gICAgICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICAgICAgYmFzZTogdG90YWxCYXNlUHJpY2UsIC8vIFVzZSBTdGVwIDUgYmFzZSBwcmljZVxuICAgICAgICAgICAgICB2YXQ6IHZhdEFtb3VudCwgLy8gVXNlIFN0ZXAgNSBWQVQgYW1vdW50XG4gICAgICAgICAgICAgIHRvdGFsOiB0b3RhbFByaWNlIC8vIFVzZSBTdGVwIDUgdG90YWwgcHJpY2UgLSBFWEFDVExZIHRoZSBzYW1lIGFzIFN0ZXAgNSBmaW5hbCBwcmljZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3BlcmF0aW9uYWw6IHtcbiAgICAgICAgICAgIGNyZWF0ZToge1xuICAgICAgICAgICAgICBwbGF0ZXM6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBsYXRlcyB8fCAwLFxuICAgICAgICAgICAgICB1bml0czogZm9ybURhdGEub3BlcmF0aW9uYWwudW5pdHMgfHwgMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRlIGFuZCBjbGVhbiB0aGUgZGF0YSBiZWZvcmUgc2VuZGluZ1xuICAgICAgICBjb25zdCBjbGVhbmVkUXVvdGVEYXRhID0gdmFsaWRhdGVBbmRDbGVhblF1b3RlRGF0YShjb21wbGV0ZVF1b3RlRGF0YSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnPT09IEZJTkFMIFFVT1RFIERBVEEgREVCVUcgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPcmlnaW5hbCBxdW90ZURhdGE6JywgcXVvdGVEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0NvbXBsZXRlIHF1b3RlIGRhdGEgYmVmb3JlIGNsZWFuaW5nOicsIGNvbXBsZXRlUXVvdGVEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJz09PSBBTU9VTlRTIERFQlVHIC0gVVNJTkcgU1RFUCA1IFZBTFVFUyA9PT0nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Zvcm1EYXRhLmNhbGN1bGF0aW9uOicsIGZvcm1EYXRhLmNhbGN1bGF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0ZXAgNSB0b3RhbFByaWNlIGJlaW5nIHNhdmVkOicsIHRvdGFsUHJpY2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RlcCA1IGJhc2VQcmljZSBiZWluZyBzYXZlZDonLCB0b3RhbEJhc2VQcmljZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVwIDUgdmF0QW1vdW50IGJlaW5nIHNhdmVkOicsIHZhdEFtb3VudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb21wbGV0ZVF1b3RlRGF0YS5hbW91bnRzOicsIGNvbXBsZXRlUXVvdGVEYXRhLmFtb3VudHMpO1xuICAgICAgICBjb25zb2xlLmxvZygnQ2xlYW5lZCBhbW91bnRzOicsIGNsZWFuZWRRdW90ZURhdGEuYW1vdW50cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGVhbmVkIHF1b3RlIGRhdGEgYmVpbmcgc2VudDonLCBjbGVhbmVkUXVvdGVEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NhbGVzUGVyc29uSWQgaW4gY2xlYW5lZCBkYXRhOicsIGNsZWFuZWRRdW90ZURhdGEuc2FsZXNQZXJzb25JZCk7XG4gICAgICAgIFxuICAgICAgICBxdW90ZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcXVvdGVzJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjbGVhbmVkUXVvdGVEYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFxdW90ZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcXVvdGVSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUXVvdGUgY3JlYXRpb24gZmFpbGVkOicsIHF1b3RlUmVzcG9uc2Uuc3RhdHVzLCBlcnJvclRleHQpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBxdW90ZTogJHtxdW90ZVJlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNhdmVkUXVvdGUgPSBhd2FpdCBxdW90ZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1F1b3RlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IHdpdGggYWxsIGRldGFpbHM6Jywgc2F2ZWRRdW90ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3cgc3VjY2VzcyBtb2RhbCBvbmx5IGZvciBuZXcgcXVvdGVzXG4gICAgICBpZiAoIWlzVXBkYXRlKSB7XG4gICAgICAgIHNldFNhdmVNb2RhbE9wZW4odHJ1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBxdW90ZTonLCBlcnJvcik7XG4gICAgICAvLyBVc2UgYSBtb3JlIHVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZVxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBvY2N1cnJlZCc7XG4gICAgICBjb25zdCBhY3Rpb24gPSBzZWxlY3RlZFF1b3RlSWQgJiYgaXNVcGRhdGUgPyAndXBkYXRpbmcnIDogJ2NyZWF0aW5nJztcbiAgICAgIGFsZXJ0KGBFcnJvciAke2FjdGlvbn0gcXVvdGU6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkQ3VzdG9tZXJGcm9tTW9kYWwgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZG93bmxvYWRDdXN0b21lclBkZihmb3JtRGF0YSwgb3RoZXJRdWFudGl0aWVzKTtcbiAgICBzZXRTYXZlTW9kYWxPcGVuKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZE9wc0Zyb21Nb2RhbCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBkb3dubG9hZE9wc1BkZihmb3JtRGF0YSwgb3RoZXJRdWFudGl0aWVzKTtcbiAgICBzZXRTYXZlTW9kYWxPcGVuKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbG9zZUFuZEdvSG9tZSA9ICgpID0+IHtcbiAgICBzZXRTYXZlTW9kYWxPcGVuKGZhbHNlKTtcbiAgICByb3V0ZXIucHVzaChcIi9cIik7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGFwcHJvdmFsIHN0YXR1cyBjaGFuZ2VzIGZyb20gU3RlcDVcbiAgY29uc3QgaGFuZGxlQXBwcm92YWxTdGF0dXNDaGFuZ2UgPSAobmVlZHNBcHByb3ZhbDogYm9vbGVhbiwgcmVhc29uPzogc3RyaW5nKSA9PiB7XG4gICAgc2V0UmVxdWlyZXNBcHByb3ZhbChuZWVkc0FwcHJvdmFsKTtcbiAgICBzZXRBcHByb3ZhbFJlYXNvbihyZWFzb24pO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclN0ZXBDb250ZW50ID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoY3VycmVudFN0ZXApIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiPlxuICAgICAgICAgICAgey8qIFN0ZXAgMSBIZWFkZXIgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktMiBzbTpzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgc206dGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwXCI+Q3JlYXRlIEEgUXVvdGU8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2Ugc206dGV4dC1sZyB0ZXh0LXNsYXRlLTYwMFwiPkNob29zZSBob3cgeW91JmFwb3M7ZCBsaWtlIHRvIGNyZWF0ZSB5b3VyIHByaW50aW5nIHF1b3RlPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBRdW90ZSBNb2RlIFNlbGVjdGlvbiBDYXJkcyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBsZzpncmlkLWNvbHMtMiBnYXAtNiBzbTpnYXAtOCBtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICB7LyogQ3JlYXRlIE5ldyBRdW90ZSBDYXJkICovfVxuICAgICAgICAgICAgICA8Q2FyZCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXItMCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBob3ZlcjotdHJhbnNsYXRlLXktMSBjdXJzb3ItcG9pbnRlciBncm91cCAke1xuICAgICAgICAgICAgICAgICAgcXVvdGVNb2RlID09PSBcIm5ld1wiID8gXCJyaW5nLTQgcmluZy1ibHVlLTUwMCByaW5nLW9wYWNpdHktNTAgYmctYmx1ZS01MFwiIDogXCJcIlxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0TmV3fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNCBzbTpwLTYgbGc6cC04IHRleHQtY2VudGVyIHNwYWNlLXktNCBzbTpzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHNtOnctMjAgc206aC0yMCBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIHJvdW5kZWQtMnhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG8gZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy04IGgtOCBzbTp3LTEwIHNtOmgtMTAgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHNtOnNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBzbTp0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5DcmVhdGUgTmV3IFF1b3RlPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBzbTp0ZXh0LWJhc2UgdGV4dC1zbGF0ZS02MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgU3RhcnQgYSBmcmVzaCBxdW90YXRpb24gZnJvbSBzY3JhdGNoLiBQZXJmZWN0IGZvciBuZXcgcHJvamVjdHMsIGN1c3RvbSByZXF1aXJlbWVudHMsIG9yIHdoZW4geW91IG5lZWQgY29tcGxldGUgY29udHJvbCBvdmVyIHRoZSBxdW90ZSBkZXRhaWxzLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMiBzbTpwdC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVsjMjdhYWUxXSBob3ZlcjpiZy1bIzFlOGJjM10gdGV4dC13aGl0ZSBweS0yIHNtOnB5LTMgcm91bmRlZC14bCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3RhcnROZXd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00IHNtOnctNSBzbTpoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgU3RhcnQgTmV3IFF1b3RlXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICAgIHsvKiBFeGlzdGluZyBRdW90ZSBDYXJkICovfVxuICAgICAgICAgICAgICA8Q2FyZCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXItMCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBob3ZlcjotdHJhbnNsYXRlLXktMSBjdXJzb3ItcG9pbnRlciBncm91cCAke1xuICAgICAgICAgICAgICAgICAgcXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCIgPyBcInJpbmctNCByaW5nLWJsdWUtNTAwIHJpbmctb3BhY2l0eS01MCBiZy1ibHVlLTUwXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgZGVmYXVsdCBwcm9kdWN0IGRhdGEgd2hlbiBlbnRlcmluZyBleGlzdGluZyBxdW90ZSBtb2RlXG4gICAgICAgICAgICAgICAgICBzZXRGb3JtRGF0YSgocHJldikgPT4gKHsgXG4gICAgICAgICAgICAgICAgICAgIC4uLnByZXYsIFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogW10gLy8gQ2xlYXIgcHJvZHVjdHMgYXJyYXkgLSB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tIHNlbGVjdGVkIHF1b3RlXG4gICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICBzZXRRdW90ZU1vZGUoXCJleGlzdGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUXVvdGVJZChudWxsKTsgLy8gV2lsbCBiZSBzZXQgd2hlbiBhIHNwZWNpZmljIHF1b3RlIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYXV0by1uYXZpZ2F0ZSAtIGp1c3Qgc2V0IHRoZSBtb2RlIGZvciBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNCBzbTpwLTYgbGc6cC04IHRleHQtY2VudGVyIHNwYWNlLXktNCBzbTpzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHNtOnctMjAgc206aC0yMCBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIHJvdW5kZWQtMnhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG8gZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8Q29weSBjbGFzc05hbWU9XCJ3LTggaC04IHNtOnctMTAgc206aC0xMCB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgc206c3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIHNtOnRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPkJhc2VkIG9uIFByZXZpb3VzIFF1b3RlPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBzbTp0ZXh0LWJhc2UgdGV4dC1zbGF0ZS02MDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgVXNlIGFuIGV4aXN0aW5nIHF1b3RlIGFzIGEgdGVtcGxhdGUuIFNhdmUgdGltZSBieSBtb2RpZnlpbmcgcHJldmlvdXMgc3BlY2lmaWNhdGlvbnMsIHByaWNpbmcsIGFuZCBjdXN0b21lciBkZXRhaWxzIGZvciBzaW1pbGFyIHByb2plY3RzLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMiBzbTpwdC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVsjMjdhYWUxXSBob3ZlcjpiZy1bIzFlOGJjM10gdGV4dC13aGl0ZSBweS0yIHNtOnB5LTMgcm91bmRlZC14bCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgZGVmYXVsdCBwcm9kdWN0IGRhdGEgd2hlbiBlbnRlcmluZyBleGlzdGluZyBxdW90ZSBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGb3JtRGF0YSgocHJldikgPT4gKHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogW10gLy8gQ2xlYXIgcHJvZHVjdHMgYXJyYXkgLSB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tIHNlbGVjdGVkIHF1b3RlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRRdW90ZU1vZGUoXCJleGlzdGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUXVvdGVJZChudWxsKTsgLy8gV2lsbCBiZSBzZXQgd2hlbiBhIHNwZWNpZmljIHF1b3RlIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYXV0by1uYXZpZ2F0ZSAtIGp1c3Qgc2V0IHRoZSBtb2RlIGZvciBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctNCBoLTQgc206dy01IHNtOmgtNSBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBVc2UgRXhpc3RpbmcgUXVvdGVcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEFkZGl0aW9uYWwgSW5mbyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zbGF0ZS01MDAgbWF4LXctMnhsIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgQm90aCBvcHRpb25zIHdpbGwgZ3VpZGUgeW91IHRocm91Z2ggdGhlIHNhbWUgY29tcHJlaGVuc2l2ZSBxdW90ZSBjcmVhdGlvbiBwcm9jZXNzLCBcbiAgICAgICAgICAgICAgICBlbnN1cmluZyBhY2N1cmFjeSBhbmQgY29uc2lzdGVuY3kgaW4geW91ciBwcmludGluZyBlc3RpbWF0ZXMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgICB7cXVvdGVNb2RlID09PSBcIm5ld1wiICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTIgc206c3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgc206dGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwXCI+Q3VzdG9tZXIgRGV0YWlsczwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1iYXNlIHNtOnRleHQtYmFzZSB0ZXh0LXNsYXRlLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgRmlsbCBpbiB0aGUgY3VzdG9tZXIgaW5mb3JtYXRpb24gZm9yIHlvdXIgbmV3IHF1b3RlXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIiA/IChcbiAgICAgICAgICAgICAgLy8gVXNlIFN0ZXAyQ3VzdG9tZXJDaG9vc2UgY29tcG9uZW50IGZvciBleGlzdGluZyBxdW90ZSBtb2RlXG4gICAgICAgICAgICAgIDxTdGVwMkN1c3RvbWVyQ2hvb3NlIFxuICAgICAgICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX0gXG4gICAgICAgICAgICAgICAgc2V0Rm9ybURhdGE9e3NldEZvcm1EYXRhfSBcbiAgICAgICAgICAgICAgICBvbkN1c3RvbWVyU2VsZWN0PXtoYW5kbGVDdXN0b21lclNlbGVjdH1cbiAgICAgICAgICAgICAgICBvblF1b3RlU2VsZWN0PXtoYW5kbGVRdW90ZVNlbGVjdH0gLy8gUGFzcyB0aGUgbmV3IGhhbmRsZXJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIC8vIFNob3cgZW1wdHkgY3VzdG9tZXIgZGV0YWlsIGZvcm0gZm9yIG5ldyBxdW90ZVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDAgbWItNCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1bIzI3YWFlMV0gcm91bmRlZC1mdWxsIG1yLTNcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICBOZXcgQ3VzdG9tZXIgRGV0YWlsc1xuICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgPFN0ZXAyQ3VzdG9tZXJEZXRhaWwgZm9ybURhdGE9e2Zvcm1EYXRhfSBzZXRGb3JtRGF0YT17c2V0Rm9ybURhdGF9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U3RlcDNQcm9kdWN0U3BlYyBmb3JtRGF0YT17Zm9ybURhdGF9IHNldEZvcm1EYXRhPXtzZXRGb3JtRGF0YX0gLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U3RlcDRPcGVyYXRpb25hbCBmb3JtRGF0YT17Zm9ybURhdGF9IHNldEZvcm1EYXRhPXtzZXRGb3JtRGF0YX0gLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U3RlcDVRdW90YXRpb25cbiAgICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICAgIHNldEZvcm1EYXRhPXtzZXRGb3JtRGF0YX1cbiAgICAgICAgICAgIG90aGVyUXVhbnRpdGllcz17b3RoZXJRdWFudGl0aWVzfVxuICAgICAgICAgICAgc2V0T3RoZXJRdWFudGl0aWVzPXtzZXRPdGhlclF1YW50aXRpZXN9XG4gICAgICAgICAgICBvbk9wZW5TYXZlPXsoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGZvcm0gZGF0YSBiZWZvcmUgb3BlbmluZyBzYXZlIG1vZGFsXG4gICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUZvcm1EYXRhKCkpIHtcbiAgICAgICAgICAgICAgICBzZXRTYXZlTW9kYWxPcGVuKHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgaXNFZGl0TW9kZT17ISFzZWxlY3RlZFF1b3RlSWR9XG4gICAgICAgICAgICBzZWxlY3RlZFF1b3RlSWQ9e3NlbGVjdGVkUXVvdGVJZH1cbiAgICAgICAgICAgIG9uU3VibWl0UXVvdGU9e2FzeW5jICh1cGRhdGVkRm9ybURhdGEpID0+IHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBieSBTdGVwNVF1b3RhdGlvbiB0byBhY3R1YWxseSBzdWJtaXQgdGhlIHF1b3RlXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBmb3JtIGRhdGEgZmlyc3RcbiAgICAgICAgICAgICAgICBzZXRGb3JtRGF0YSh1cGRhdGVkRm9ybURhdGEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFRoZW4gY2FsbCB0aGUgYWN0dWFsIHNhdmUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVTYXZlUXVvdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdRdW90ZSBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5IGZyb20gU3RlcDVRdW90YXRpb24nKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIHF1b3RlIGZyb20gU3RlcDVRdW90YXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yOyAvLyBSZS10aHJvdyB0byBsZXQgU3RlcDVRdW90YXRpb24gaGFuZGxlIHRoZSBlcnJvclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25BcHByb3ZhbFN0YXR1c0NoYW5nZT17aGFuZGxlQXBwcm92YWxTdGF0dXNDaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB2aWEtd2hpdGUgdG8tcHVycGxlLTUwIHAtNCBzbTpwLTYgbGc6cC04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHNwYWNlLXktNlwiPlxuICAgICAgICB7LyogTWFpbiBDb250ZW50IENhcmQgKi99XG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cImJvcmRlci0wIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTQgc206cC02IGxnOnAtMTAgc3BhY2UteS02IHNtOnNwYWNlLXktMTBcIj5cbiAgICAgICAgICAgIDxTdGVwSW5kaWNhdG9yXG4gICAgICAgICAgICAgIGFjdGl2ZVN0ZXA9e2N1cnJlbnRTdGVwfVxuICAgICAgICAgICAgICBxdW90ZU1vZGU9e3F1b3RlTW9kZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzbTptdC04XCI+e3JlbmRlclN0ZXBDb250ZW50KCl9PC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBWYWxpZGF0aW9uIFN0YXR1cyBJbmRpY2F0b3JzICovfVxuICAgICAgICAgICAge2N1cnJlbnRTdGVwID09PSAxICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHNtOm10LTZcIj5cbiAgICAgICAgICAgICAgICB7IWNhblByb2NlZWRGcm9tU3RlcDEoKSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmcteWVsbG93LTUwIGJvcmRlciBib3JkZXIteWVsbG93LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSByb3VuZGVkLWZ1bGwgYmcteWVsbG93LTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZFwiPiE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNzAwIGZvbnQtbWVkaXVtIHRleHQtc20gc206dGV4dC1iYXNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBQbGVhc2Ugc2VsZWN0IGVpdGhlciBcIkNyZWF0ZSBOZXcgUXVvdGVcIiBvciBcIkJhc2VkIG9uIFByZXZpb3VzIFF1b3RlXCIgdG8gY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgcm91bmRlZC1mdWxsIGJnLWdyZWVuLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZFwiPuKckzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTcwMCBmb250LW1lZGl1bSB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3F1b3RlTW9kZSA9PT0gXCJuZXdcIiA/IFwiTmV3IHF1b3RlIG1vZGUgc2VsZWN0ZWQuIFlvdSBjYW4gcHJvY2VlZCB0byB0aGUgbmV4dCBzdGVwLlwiIDogXCJFeGlzdGluZyBxdW90ZSBtb2RlIHNlbGVjdGVkLiBZb3UgY2FuIHByb2NlZWQgdG8gdGhlIG5leHQgc3RlcC5cIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7Y3VycmVudFN0ZXAgPT09IDMgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgc206bXQtNlwiPlxuICAgICAgICAgICAgICAgIHshY2FuUHJvY2VlZEZyb21TdGVwMygpID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IHJvdW5kZWQtZnVsbCBiZy15ZWxsb3ctNTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteHMgZm9udC1ib2xkXCI+ITwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy03MDAgZm9udC1tZWRpdW0gdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIiAmJiAhc2VsZWN0ZWRRdW90ZUlkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiUGxlYXNlIHNlbGVjdCBhIHNwZWNpZmljIHF1b3RlIHRvIGVkaXQgZmlyc3QuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHBhcGVyIGZvciB5b3VyIHByb2R1Y3RzIHRvIGNvbnRpbnVlLiBVc2UgdGhlIFxcXCJCcm93c2UgQXZhaWxhYmxlIFBhcGVyc1xcXCIgYnV0dG9uIHRvIGFkZCBwYXBlcnMgZnJvbSB0aGUgZGF0YWJhc2UuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgcm91bmRlZC1mdWxsIGJnLWdyZWVuLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZFwiPuKckzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTcwMCBmb250LW1lZGl1bSB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3F1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiUXVvdGUgbG9hZGVkIGFuZCBwYXBlciBzZWxlY3Rpb24gY29tcGxldGUuIFlvdSBjYW4gbm93IHByb2NlZWQgdG8gdGhlIG9wZXJhdGlvbmFsIHN0ZXAuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlBhcGVyIHNlbGVjdGlvbiBjb21wbGV0ZS4gWW91IGNhbiBub3cgcHJvY2VlZCB0byB0aGUgb3BlcmF0aW9uYWwgc3RlcC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBzbTptdC0xMiBwdC02IHNtOnB0LTggYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTIwMCBmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgc3BhY2UteS00IHNtOnNwYWNlLXktMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIj5cbiAgICAgICAgICAgICAgICB7Y3VycmVudFN0ZXAgPiAxICYmIChcbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtwcmV2U3RlcH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLXNsYXRlLTMwMCBob3Zlcjpib3JkZXItc2xhdGUtNDAwIGhvdmVyOmJnLXNsYXRlLTUwIHB4LTYgc206cHgtOCBweS0zIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHctZnVsbCBzbTp3LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBQcmV2aW91c1xuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtjdXJyZW50U3RlcCA8IDUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIHNtOnctYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtuZXh0U3RlcH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTmV4dEJ1dHRvbkRpc2FibGVkKCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTYgc206cHgtOCBweS0zIHJvdW5kZWQteGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdy1mdWxsIHNtOnctYXV0byAke1xuICAgICAgICAgICAgICAgICAgICAgIGlzTmV4dEJ1dHRvbkRpc2FibGVkKCkgXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JheS00MDAgY3Vyc29yLW5vdC1hbGxvd2VkXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctWyMyN2FhZTFdIGhvdmVyOmJnLVsjMWU4YmMzXSB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgICAgICAgICBpc05leHRCdXR0b25EaXNhYmxlZCgpIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyZW50U3RlcCA9PT0gMSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlBsZWFzZSBzZWxlY3QgYSBxdW90ZSBtb2RlIHRvIGNvbnRpbnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50U3RlcCA9PT0gMiAmJiBxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiUGxlYXNlIHNlbGVjdCBhIHNwZWNpZmljIHF1b3RlIHRvIGVkaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnRTdGVwID09PSAzICYmIHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiICYmICFzZWxlY3RlZFF1b3RlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlBsZWFzZSBzZWxlY3QgYSBzcGVjaWZpYyBxdW90ZSB0byBlZGl0IGZpcnN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50U3RlcCA9PT0gM1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgcGFwZXIgZm9yIHlvdXIgcHJvZHVjdHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiUGxlYXNlIGNvbXBsZXRlIHRoZSByZXF1aXJlZCBpbmZvcm1hdGlvbiB0byBjb250aW51ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiQ2xpY2sgdG8gcHJvY2VlZCB0byB0aGUgbmV4dCBzdGVwXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBOZXh0XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIHtpc05leHRCdXR0b25EaXNhYmxlZCgpICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiBtYi0yIHB4LTMgcHktMiBiZy1ncmF5LTgwMCB0ZXh0LXdoaXRlIHRleHQtc20gcm91bmRlZC1sZyBzaGFkb3ctbGcgd2hpdGVzcGFjZS1ub3dyYXAgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gMSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTZWxlY3QgYSBxdW90ZSBtb2RlIGZpcnN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudFN0ZXAgPT09IDIgJiYgcXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTZWxlY3QgYSBzcGVjaWZpYyBxdW90ZSB0byBlZGl0IGZpcnN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudFN0ZXAgPT09IDMgJiYgcXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCIgJiYgIXNlbGVjdGVkUXVvdGVJZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNlbGVjdCBhIHNwZWNpZmljIHF1b3RlIHRvIGVkaXQgZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50U3RlcCA9PT0gM1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlNlbGVjdCBhdCBsZWFzdCBvbmUgcGFwZXIgZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIkNvbXBsZXRlIHJlcXVpcmVkIGZpZWxkcyBmaXJzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLWZ1bGwgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgdy0wIGgtMCBib3JkZXItbC00IGJvcmRlci1yLTQgYm9yZGVyLXQtNCBib3JkZXItdHJhbnNwYXJlbnQgYm9yZGVyLXQtZ3JheS04MDBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAge2N1cnJlbnRTdGVwID09PSA1ICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTYXZlUXVvdGUoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctWyMyN2FhZTFdIGhvdmVyOmJnLVsjMWU4YmMzXSB0ZXh0LXdoaXRlIHB4LTYgc206cHgtOCBweS0zIHJvdW5kZWQteGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdy1mdWxsIHNtOnctYXV0b1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzU2F2aW5nID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTUgdy01IGJvcmRlci1iLTIgYm9yZGVyLXdoaXRlIG1yLTJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICBTdWJtaXR0aW5nLi4uXG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2F2ZSBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFN1Ym1pdCBRdW90ZVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAge3NhdmVNb2RhbE9wZW4gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTAgcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHAtNiBzbTpwLTggdy1mdWxsIG1heC13LW1kIHRleHQtY2VudGVyIHNoYWRvdy0yeGxcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgc206dGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG1iLTNcIj5cbiAgICAgICAgICAgICAgICBRdW90ZSBTdWJtaXR0ZWQgU3VjY2Vzc2Z1bGx5IVxuICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTYwMCBtYi02IHRleHQtc20gc206dGV4dC1iYXNlXCI+XG4gICAgICAgICAgICAgICAge3JlcXVpcmVzQXBwcm92YWwgXG4gICAgICAgICAgICAgICAgICA/IFwiWW91ciBxdW90ZSBoYXMgYmVlbiBzdWJtaXR0ZWQgZm9yIG1hbmFnZW1lbnQgYXBwcm92YWwgYW5kIHdpbGwgYXBwZWFyIGluIHRoZSBRdW90ZSBNYW5hZ2VtZW50IHBhZ2Ugb25jZSBhcHByb3ZlZC5cIlxuICAgICAgICAgICAgICAgICAgOiBcIllvdXIgcXVvdGUgaGFzIGJlZW4gc3VibWl0dGVkIGFuZCB3aWxsIGFwcGVhciBpbiB0aGUgUXVvdGUgTWFuYWdlbWVudCBwYWdlLlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7cmVxdWlyZXNBcHByb3ZhbCAmJiBhcHByb3ZhbFJlYXNvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1vcmFuZ2UtNTAgYm9yZGVyIGJvcmRlci1vcmFuZ2UtMjAwIHJvdW5kZWQteGxcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IGJnLW9yYW5nZS01MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZFwiPiE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtb3JhbmdlLTgwMFwiPkFwcHJvdmFsIFJlcXVpcmVkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW9yYW5nZS03MDAgdGV4dC1zbVwiPnthcHByb3ZhbFJlYXNvbn08L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW9yYW5nZS02MDAgdGV4dC14cyBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIE1hbmFnZW1lbnQgd2lsbCBiZSBub3RpZmllZCBhdXRvbWF0aWNhbGx5LiBZb3UnbGwgcmVjZWl2ZSBhbiB1cGRhdGUgb25jZSBhcHByb3ZlZC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIHshcmVxdWlyZXNBcHByb3ZhbCAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bI2VhMDc4Yl0gaG92ZXI6YmctWyNkNDA2N2FdIHRleHQtd2hpdGUgcHktMyByb3VuZGVkLXhsIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YG1haWx0bzoke2Zvcm1EYXRhLmNsaWVudC5lbWFpbH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbmQgdG8gQ3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVsjZjg5ZDFkXSBob3ZlcjpiZy1bI2U4OGEwYV0gdGV4dC13aGl0ZSBweS0zIHJvdW5kZWQteGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURvd25sb2FkQ3VzdG9tZXJGcm9tTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBEb3dubG9hZCBmb3IgQ3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIE9ubHkgc2hvdyBPcGVyYXRpb25zIENvcHkgZG93bmxvYWQgaWYgYXBwcm92YWwgaXMgbm90IHJlcXVpcmVkICovfVxuICAgICAgICAgICAgICAgIHshcmVxdWlyZXNBcHByb3ZhbCAmJiAoXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bIzI3YWFlMV0gaG92ZXI6YmctWyMxZThiYzNdIHRleHQtd2hpdGUgcHktMyByb3VuZGVkLXhsIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRG93bmxvYWRPcHNGcm9tTW9kYWx9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIERvd25sb2FkIE9wZXJhdGlvbnMgQ29weVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNhdmVNb2RhbE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaChcIi9cIik7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgcm91bmRlZC14bCBib3JkZXItc2xhdGUtMzAwIGhvdmVyOmJvcmRlci1zbGF0ZS00MDAgaG92ZXI6Ymctc2xhdGUtNDAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2xvc2UgJiBHbyB0byBEYXNoYm9hcmRcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBNYWluIGNvbXBvbmVudCB3aXRoIFN1c3BlbnNlIGJvdW5kYXJ5XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVRdW90ZVBhZ2UoKSB7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtc2NyZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0zMiB3LTMyIGJvcmRlci1iLTIgYm9yZGVyLVsjMjdhYWUxXSBteC1hdXRvXCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWxnIHRleHQtc2xhdGUtNjAwXCI+TG9hZGluZyBxdW90ZSBjcmVhdGlvbi4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICB9PlxuICAgICAgPENyZWF0ZVF1b3RlQ29udGVudCAvPlxuICAgIDwvU3VzcGVuc2U+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJTdXNwZW5zZSIsIkNhcmQiLCJDYXJkQ29udGVudCIsIkJ1dHRvbiIsIlBsdXMiLCJTcGFya2xlcyIsIkNvcHkiLCJGaWxlVGV4dCIsIlNhdmUiLCJMaW5rIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiU3RlcEluZGljYXRvciIsIlN0ZXAyQ3VzdG9tZXJDaG9vc2UiLCJTdGVwMkN1c3RvbWVyRGV0YWlsIiwiU3RlcDNQcm9kdWN0U3BlYyIsIlN0ZXA0T3BlcmF0aW9uYWwiLCJTdGVwNVF1b3RhdGlvbiIsImRvd25sb2FkQ3VzdG9tZXJQZGYiLCJkb3dubG9hZE9wc1BkZiIsIlFVT1RFX0RFVEFJTFMiLCJkZXRhaWxUb0Zvcm0iLCJFTVBUWV9DTElFTlQiLCJjbGllbnRUeXBlIiwiY29tcGFueU5hbWUiLCJjb250YWN0UGVyc29uIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsInBob25lIiwiY291bnRyeUNvZGUiLCJyb2xlIiwiYWRkcmVzcyIsImNpdHkiLCJzdGF0ZSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwiYWRkaXRpb25hbEluZm8iLCJDcmVhdGVRdW90ZUNvbnRlbnQiLCJyb3V0ZXIiLCJzZWFyY2hQYXJhbXMiLCJjdXJyZW50U3RlcCIsInNldEN1cnJlbnRTdGVwIiwicXVvdGVNb2RlIiwic2V0UXVvdGVNb2RlIiwic2F2ZU1vZGFsT3BlbiIsInNldFNhdmVNb2RhbE9wZW4iLCJpc1NhdmluZyIsInNldElzU2F2aW5nIiwicmVxdWlyZXNBcHByb3ZhbCIsInNldFJlcXVpcmVzQXBwcm92YWwiLCJhcHByb3ZhbFJlYXNvbiIsInNldEFwcHJvdmFsUmVhc29uIiwic2VsZWN0ZWRDdXN0b21lciIsInNldFNlbGVjdGVkQ3VzdG9tZXIiLCJzZWxlY3RlZFF1b3RlSWQiLCJzZXRTZWxlY3RlZFF1b3RlSWQiLCJjdXN0b21lclNlYXJjaCIsInNldEN1c3RvbWVyU2VhcmNoIiwic2hvd0N1c3RvbWVyTGlzdCIsInNldFNob3dDdXN0b21lckxpc3QiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwiY2xpZW50IiwicHJvZHVjdHMiLCJvcGVyYXRpb25hbCIsInBhcGVycyIsImZpbmlzaGluZyIsInBsYXRlcyIsInVuaXRzIiwiaW1wcmVzc2lvbnMiLCJjYWxjdWxhdGlvbiIsImJhc2VQcmljZSIsIm1hcmdpbkFtb3VudCIsIm1hcmdpblBlcmNlbnRhZ2UiLCJzdWJ0b3RhbCIsImZpbmFsU3VidG90YWwiLCJ2YXRBbW91bnQiLCJ0b3RhbFByaWNlIiwibWFpblByb2R1Y3QiLCJvdGhlclF1YW50aXRpZXMiLCJzZXRPdGhlclF1YW50aXRpZXMiLCJwcmV2IiwibGVuZ3RoIiwicHJvZHVjdE5hbWUiLCJzbGljZSIsImNvbnNvbGUiLCJsb2ciLCJzdGVwUGFyYW0iLCJnZXQiLCJlZGl0UGFyYW0iLCJzdGVwTnVtYmVyIiwicGFyc2VJbnQiLCJwcm9kdWN0c0ZpbmlzaGluZ0NoZWNrIiwidXNlTWVtbyIsIm1hcCIsInByb2R1Y3QiLCJhbGxGaW5pc2hpbmdOYW1lcyIsIlNldCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJ2YWxpZEZpbmlzaGluZyIsImZpbHRlciIsImYiLCJ1bmRlZmluZWQiLCJiYXNlTmFtZSIsImluY2x1ZGVzIiwic3BsaXQiLCJhZGQiLCJwcm9kdWN0RmluaXNoaW5nIiwicCIsImZyb20iLCJjdXJyZW50T3BlcmF0aW9uYWxGaW5pc2hpbmciLCJuZXdPcGVyYXRpb25hbEZpbmlzaGluZyIsImZpbmlzaGluZ05hbWUiLCJleGlzdGluZ0ZpbmlzaGluZyIsImZpbmQiLCJuYW1lIiwicHVzaCIsImNvc3QiLCJmaWx0ZXJlZEZpbmlzaGluZyIsImhhcyIsIk1BUkdJTl9QRVJDRU5UQUdFIiwiVkFUX1BFUkNFTlRBR0UiLCJwYXBlckNvc3QiLCJyZWR1Y2UiLCJ0b3RhbCIsInByaWNlUGVyU2hlZXQiLCJwcmljZVBlclBhY2tldCIsInNoZWV0c1BlclBhY2tldCIsImFjdHVhbFNoZWV0c05lZWRlZCIsImVudGVyZWRTaGVldHMiLCJQTEFURV9DT1NUX1BFUl9QTEFURSIsInBsYXRlc0Nvc3QiLCJhY3R1YWxVbml0c05lZWRlZCIsInF1YW50aXR5IiwiZmluaXNoaW5nQ29zdCIsImlzVXNlZEJ5QW55UHJvZHVjdCIsInNvbWUiLCJiYXNlUHJpY2VQZXJVbml0IiwiYWRkaXRpb25hbENvc3RzVG90YWwiLCJhZGRpdGlvbmFsQ29zdHMiLCJ0b3RhbEJhc2VQcmljZSIsIm5leHRTdGVwIiwicyIsIk1hdGgiLCJtaW4iLCJwcmV2U3RlcCIsIm1heCIsIndpbmRvdyIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImFjdGl2ZUVsZW1lbnQiLCJibHVyIiwiY2FuUHJvY2VlZEZyb21TdGVwMSIsImNhblByb2NlZWRGcm9tU3RlcDIiLCJlc3NlbnRpYWxGaWVsZHMiLCJiYXNpY0ZpZWxkc1ZhbGlkIiwiZXZlcnkiLCJmaWVsZCIsInRyaW0iLCJ0cm5WYWxpZCIsImhhc05vVHJuIiwidHJuIiwiYXJlYVZhbGlkIiwiYXJlYSIsInN0YXRlVmFsaWQiLCJjb3VudHJ5VmFsaWQiLCJjYW5Qcm9jZWVkRnJvbVN0ZXAzIiwicHJvZHVjdHNDb3VudCIsImluZGV4IiwicGFwZXJzQ291bnQiLCJwYXBlciIsInBJbmRleCIsImdzbSIsImlzVmFsaWQiLCJoYXNWYWxpZFBhcGVyIiwiaXNOZXh0QnV0dG9uRGlzYWJsZWQiLCJkaXNhYmxlZCIsImhhbmRsZVN0YXJ0TmV3IiwiY2xlYW5DbGllbnQiLCJlbWFpbHMiLCJKU09OIiwic3RyaW5naWZ5IiwibmV3Rm9ybURhdGEiLCJoYW5kbGVTZWxlY3RRdW90ZSIsInEiLCJkZXRhaWwiLCJpZCIsImhhbmRsZVNlbGVjdEN1c3RvbWVyIiwiY3VzdG9tZXIiLCJoYW5kbGVFZGl0Q3VzdG9tZXIiLCJoYW5kbGVDdXN0b21lclNlbGVjdCIsInBob25lVmFsdWUiLCJxdW90ZXNSZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImFsbFF1b3RlcyIsImpzb24iLCJjbGllbnRRdW90ZXMiLCJxdW90ZSIsImNsaWVudElkIiwicXVvdGVHcm91cHMiLCJncm91cHMiLCJxdW90ZUlkIiwibGF0ZXN0UXVvdGVJZCIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiYSIsImIiLCJkYXRlQSIsIkRhdGUiLCJkYXRlIiwiZGF0ZUIiLCJnZXRUaW1lIiwibGF0ZXN0UXVvdGVzIiwiZmlyc3RRdW90ZSIsImNvbG9ycyIsInBhcnNlIiwiZSIsIndhcm4iLCJhbGxQYXBlcnMiLCJwYXBlck5hbWUiLCJwYXBlckdzbSIsIlN0cmluZyIsImNsZWFuUGFwZXJOYW1lIiwicmVwbGFjZSIsImV4aXN0aW5nUGFwZXIiLCJhcCIsImFsbEZpbmlzaGluZyIsIm5vcm1hbGl6ZWROYW1lIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsInNpZGVzIiwidG90YWxRdW90ZXMiLCJyYXdGaW5pc2hpbmdGcm9tREIiLCJwcmludGluZ1NlbGVjdGlvbiIsInByaW50aW5nIiwiZmxhdFNpemUiLCJ3aWR0aCIsImZsYXRTaXplV2lkdGgiLCJoZWlnaHQiLCJmbGF0U2l6ZUhlaWdodCIsInNwaW5lIiwiZmxhdFNpemVTcGluZSIsImNsb3NlU2l6ZSIsImNsb3NlU2l6ZVdpZHRoIiwiY2xvc2VTaXplSGVpZ2h0IiwiY2xvc2VTaXplU3BpbmUiLCJ1c2VTYW1lQXNGbGF0IiwiZXJyb3IiLCJtYXBDb2xvclRvRHJvcGRvd25PcHRpb24iLCJjb2xvckRlc2MiLCJkZXNjIiwiaGFuZGxlUXVvdGVTZWxlY3QiLCJkZWZhdWx0RmxhdFNpemUiLCJkZWZhdWx0Q2xvc2VTaXplIiwibWFwcGVkRnJvbnRDb2xvciIsImZyb250IiwibWFwcGVkQmFja0NvbG9yIiwiYmFjayIsIm1hcHBlZEZpbmlzaGluZyIsImVuc3VyZUZpbmlzaGluZ0RhdGFMb2FkZWQiLCJvcmlnaW5hbEZpbmlzaGluZyIsInNldFRpbWVvdXQiLCJwcmV2RGF0YSIsImlkeCIsImZpbmlzaGluZ05hbWVzIiwiZ2V0Q3VycmVudFVzZXJJZCIsInJlc3BvbnNlIiwidXNlcnMiLCJ2YWxpZGF0ZUZvcm1EYXRhIiwiZXJyb3JzIiwiaGFzQ29udGFjdFBlcnNvbiIsImhhc0Z1bGxOYW1lIiwiaGFzUGFydGlhbEFkZHJlc3MiLCJoYXNDb21wbGV0ZUFkZHJlc3MiLCJhbGVydCIsImpvaW4iLCJ2YWxpZGF0ZUFuZENsZWFuUXVvdGVEYXRhIiwiZGF0YSIsImNsZWFuZWREYXRhIiwiY3JlYXRlIiwiaW5wdXRXaWR0aCIsIk51bWJlciIsImlucHV0SGVpZ2h0IiwicmVjb21tZW5kZWRTaGVldHMiLCJvdXRwdXRXaWR0aCIsIm91dHB1dEhlaWdodCIsInNlbGVjdGVkQ29sb3JzIiwiZmluaXNoIiwiYW1vdW50cyIsImJhc2UiLCJ2YXQiLCJzdGF0dXMiLCJ1c2VySWQiLCJzYWxlc1BlcnNvbklkIiwiaGFuZGxlU2F2ZVF1b3RlIiwiaXNVcGRhdGUiLCJuZWVkc0Zvcm1VcGRhdGUiLCJ1cGRhdGVkQ2xpZW50IiwiY2xpZW50VG9WYWxpZGF0ZSIsImNsaWVudERhdGEiLCJjbGllbnRSZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiZXJyb3JUZXh0IiwidGV4dCIsIm5ld0NsaWVudCIsIm5ld0N1c3RvbWVyRGF0YSIsImN1cnJlbnRVc2VySWQiLCJmb3JtRGF0YUNsaWVudCIsInF1b3RlRGF0YSIsInF1b3RlUmVzcG9uc2UiLCJzYXZlZFF1b3RlIiwidXBkYXRlRGF0YSIsImRpc2NvdW50UGVyY2VudGFnZSIsImRpc2NvdW50IiwicGVyY2VudGFnZSIsImRpc2NvdW50QW1vdW50Iiwib3BlcmF0aW9uYWxQYXBlciIsInByb2R1Y3RQYXBlciIsImNsZWFuZWRVcGRhdGVEYXRhIiwibm93IiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsInBhZFN0YXJ0IiwiZGF5IiwiZ2V0RGF0ZSIsInJhbmRvbU51bSIsImZsb29yIiwicmFuZG9tIiwiY29tcGxldGVRdW90ZURhdGEiLCJjbGVhbmVkUXVvdGVEYXRhIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImFjdGlvbiIsImhhbmRsZURvd25sb2FkQ3VzdG9tZXJGcm9tTW9kYWwiLCJoYW5kbGVEb3dubG9hZE9wc0Zyb21Nb2RhbCIsImhhbmRsZUNsb3NlQW5kR29Ib21lIiwiaGFuZGxlQXBwcm92YWxTdGF0dXNDaGFuZ2UiLCJuZWVkc0FwcHJvdmFsIiwicmVhc29uIiwicmVuZGVyU3RlcENvbnRlbnQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsIm9uQ2xpY2siLCJvbkN1c3RvbWVyU2VsZWN0Iiwib25RdW90ZVNlbGVjdCIsImg0Iiwic3BhbiIsIm9uT3BlblNhdmUiLCJpc0VkaXRNb2RlIiwib25TdWJtaXRRdW90ZSIsInVwZGF0ZWRGb3JtRGF0YSIsIm9uQXBwcm92YWxTdGF0dXNDaGFuZ2UiLCJhY3RpdmVTdGVwIiwidmFyaWFudCIsInRpdGxlIiwiaHJlZiIsIkNyZWF0ZVF1b3RlUGFnZSIsImZhbGxiYWNrIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(root)/create-quote/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/create-quote/steps/Step4Operational.tsx":
/*!************************************************************!*\
  !*** ./components/create-quote/steps/Step4Operational.tsx ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



;
    // Wrapped in an IIFE to avoid polluting the global scope
    ;
    (function () {
        var _a, _b;
        // Legacy CSS implementations will `eval` browser code in a Node.js context
        // to extract CSS. For backwards compatibility, we need to check we're in a
        // browser context before continuing.
        if (typeof self !== 'undefined' &&
            // AMP / No-JS mode does not inject these helpers:
            '$RefreshHelpers$' in self) {
            // @ts-ignore __webpack_module__ is global
            var currentExports = module.exports;
            // @ts-ignore __webpack_module__ is global
            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;
            // This cannot happen in MainTemplate because the exports mismatch between
            // templating and execution.
            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);
            // A module can be accepted automatically based on its exports, e.g. when
            // it is a Refresh Boundary.
            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
                // Save the previous exports signature on update so we can compare the boundary
                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)
                module.hot.dispose(function (data) {
                    data.prevSignature =
                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);
                });
                // Unconditionally accept an update to this module, we'll check if it's
                // still a Refresh Boundary later.
                // @ts-ignore importMeta is replaced in the loader
                module.hot.accept();
                // This field is set when the previous version of this module was a
                // Refresh Boundary, letting us know we need to check for invalidation or
                // enqueue an update.
                if (prevSignature !== null) {
                    // A boundary can become ineligible if its exports are incompatible
                    // with the previous exports.
                    //
                    // For example, if you add/remove/change exports, we'll want to
                    // re-execute the importing modules, and force those components to
                    // re-render. Similarly, if you convert a class component to a
                    // function, we want to invalidate the boundary.
                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {
                        module.hot.invalidate();
                    }
                    else {
                        self.$RefreshHelpers$.scheduleUpdate();
                    }
                }
            }
            else {
                // Since we just executed the code for the module, it's possible that the
                // new exports made it ineligible for being a boundary.
                // We only care about the case when we were _previously_ a boundary,
                // because we already accepted this update (accidental side effect).
                var isNoLongerABoundary = prevSignature !== null;
                if (isNoLongerABoundary) {
                    module.hot.invalidate();
                }
            }
        }
    })();


/***/ })

});