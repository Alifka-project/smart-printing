/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(root)/create-quote/page",{

/***/ "(app-pages-browser)/./app/(root)/create-quote/page.tsx":
/*!******************************************!*\
  !*** ./app/(root)/create-quote/page.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateQuotePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Copy,FileText,Plus,Save,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_create_quote_StepIndicator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/create-quote/StepIndicator */ \"(app-pages-browser)/./components/create-quote/StepIndicator.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step2CustomerChoose__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/create-quote/steps/Step2CustomerChoose */ \"(app-pages-browser)/./components/create-quote/steps/Step2CustomerChoose.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step2CustomerDetail__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/create-quote/steps/Step2CustomerDetail */ \"(app-pages-browser)/./components/create-quote/steps/Step2CustomerDetail.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step3ProductSpec__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/create-quote/steps/Step3ProductSpec */ \"(app-pages-browser)/./components/create-quote/steps/Step3ProductSpec.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/create-quote/steps/Step4Operational */ \"(app-pages-browser)/./components/create-quote/steps/Step4Operational.tsx\");\n/* harmony import */ var _components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _components_create_quote_steps_Step5Quotation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/create-quote/steps/Step5Quotation */ \"(app-pages-browser)/./components/create-quote/steps/Step5Quotation.tsx\");\n/* harmony import */ var _lib_quote_pdf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/quote-pdf */ \"(app-pages-browser)/./lib/quote-pdf.ts\");\n/* harmony import */ var _lib_dummy_data__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/dummy-data */ \"(app-pages-browser)/./lib/dummy-data.ts\");\n/* harmony import */ var _lib_detail_to_form__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/lib/detail-to-form */ \"(app-pages-browser)/./lib/detail-to-form.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst EMPTY_CLIENT = {\n    clientType: \"Individual\",\n    companyName: \"\",\n    contactPerson: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    countryCode: \"+971\",\n    role: \"\",\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    postalCode: \"\",\n    country: \"Dubai\",\n    additionalInfo: \"\"\n};\n// Create a separate component that uses useSearchParams\nfunction CreateQuoteContent() {\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.useSearchParams)();\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [quoteMode, setQuoteMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saveModalOpen, setSaveModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSaving, setIsSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [requiresApproval, setRequiresApproval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [approvalReason, setApprovalReason] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [selectedCustomer, setSelectedCustomer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedQuoteId, setSelectedQuoteId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [customerSearch, setCustomerSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showCustomerList, setShowCustomerList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        client: {\n            ...EMPTY_CLIENT\n        },\n        products: [],\n        operational: {\n            papers: [],\n            finishing: [],\n            plates: null,\n            units: null,\n            impressions: null\n        },\n        calculation: {\n            basePrice: 0,\n            marginAmount: 0,\n            marginPercentage: 30,\n            subtotal: 0,\n            finalSubtotal: 0,\n            vatAmount: 0,\n            totalPrice: 0\n        }\n    });\n    // ===== NEW: state untuk Other Quantities di parent\n    const mainProduct = formData.products[0];\n    const [otherQuantities, setOtherQuantities] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            setOtherQuantities({\n                \"CreateQuoteContent.useEffect\": (prev)=>{\n                    var _mainProduct_productName;\n                    return prev.length === 0 ? prev : [\n                        {\n                            ...prev[0],\n                            productName: (_mainProduct_productName = mainProduct === null || mainProduct === void 0 ? void 0 : mainProduct.productName) !== null && _mainProduct_productName !== void 0 ? _mainProduct_productName : prev[0].productName\n                        },\n                        ...prev.slice(1)\n                    ];\n                }\n            }[\"CreateQuoteContent.useEffect\"]);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        mainProduct === null || mainProduct === void 0 ? void 0 : mainProduct.productName\n    ]);\n    // Monitor form data changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            console.log('Parent: Form data updated:', formData);\n            console.log('Parent: Client data:', formData.client);\n            console.log('Parent: Client firstName:', formData.client.firstName);\n            console.log('Parent: Client lastName:', formData.client.lastName);\n            console.log('Parent: Client contactPerson:', formData.client.contactPerson);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        formData\n    ]);\n    // Handle URL parameters for step and edit mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            const stepParam = searchParams.get('step');\n            const editParam = searchParams.get('edit');\n            if (stepParam) {\n                const stepNumber = parseInt(stepParam);\n                if (stepNumber >= 1 && stepNumber <= 5) {\n                    setCurrentStep(stepNumber);\n                }\n            }\n            if (editParam) {\n                setQuoteMode(\"existing\");\n                setSelectedQuoteId(null); // Will be set when a specific quote is selected\n            // You can load existing quote data here if needed\n            }\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        searchParams\n    ]);\n    // Memoize the products finishing check to prevent unnecessary re-renders\n    const productsFinishingCheck = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo({\n        \"CreateQuoteContent.useMemo[productsFinishingCheck]\": ()=>{\n            return formData.products.map({\n                \"CreateQuoteContent.useMemo[productsFinishingCheck]\": (product)=>({\n                        productName: product.productName,\n                        finishing: product.finishing\n                    })\n            }[\"CreateQuoteContent.useMemo[productsFinishingCheck]\"]);\n        }\n    }[\"CreateQuoteContent.useMemo[productsFinishingCheck]\"], [\n        formData.products\n    ]);\n    // NEW: Synchronize operational finishing when product finishing changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            // Get all unique finishing names from all products\n            const allFinishingNames = new Set();\n            // Safety check: ensure formData.products exists and is valid\n            if (!formData.products || !Array.isArray(formData.products) || formData.products.length === 0) {\n                console.log('ðŸ”„ Finishing synchronization skipped: no products available');\n                return;\n            }\n            formData.products.forEach({\n                \"CreateQuoteContent.useEffect\": (product)=>{\n                    if (product.finishing && Array.isArray(product.finishing)) {\n                        // Filter out any undefined or null values\n                        const validFinishing = product.finishing.filter({\n                            \"CreateQuoteContent.useEffect.validFinishing\": (f)=>f != null && f !== undefined\n                        }[\"CreateQuoteContent.useEffect.validFinishing\"]);\n                        validFinishing.forEach({\n                            \"CreateQuoteContent.useEffect\": (finishing)=>{\n                                // Handle both simple strings and \"option-side\" format\n                                if (typeof finishing === 'string') {\n                                    const baseName = finishing.includes('-') ? finishing.split('-')[0] : finishing;\n                                    allFinishingNames.add(baseName);\n                                }\n                            }\n                        }[\"CreateQuoteContent.useEffect\"]);\n                    }\n                }\n            }[\"CreateQuoteContent.useEffect\"]);\n            console.log('ðŸ”„ Finishing synchronization triggered:', {\n                productFinishing: formData.products.map({\n                    \"CreateQuoteContent.useEffect\": (p)=>p.finishing\n                }[\"CreateQuoteContent.useEffect\"]),\n                allFinishingNames: Array.from(allFinishingNames),\n                currentOperationalFinishing: formData.operational.finishing\n            });\n            // Update operational finishing to include all selected finishing options\n            setFormData({\n                \"CreateQuoteContent.useEffect\": (prev)=>{\n                    const currentOperationalFinishing = prev.operational.finishing || [];\n                    const newOperationalFinishing = [\n                        ...currentOperationalFinishing\n                    ];\n                    // Add new finishing options that don't exist yet\n                    allFinishingNames.forEach({\n                        \"CreateQuoteContent.useEffect\": (finishingName)=>{\n                            const existingFinishing = currentOperationalFinishing.find({\n                                \"CreateQuoteContent.useEffect.existingFinishing\": (f)=>f.name === finishingName\n                            }[\"CreateQuoteContent.useEffect.existingFinishing\"]);\n                            if (!existingFinishing) {\n                                // Add with default cost\n                                newOperationalFinishing.push({\n                                    name: finishingName,\n                                    cost: 0 // Default cost, user can edit in step 4\n                                });\n                            }\n                        }\n                    }[\"CreateQuoteContent.useEffect\"]);\n                    // Remove finishing options that are no longer selected by any product\n                    const filteredFinishing = newOperationalFinishing.filter({\n                        \"CreateQuoteContent.useEffect.filteredFinishing\": (finishing)=>allFinishingNames.has(finishing.name)\n                    }[\"CreateQuoteContent.useEffect.filteredFinishing\"]);\n                    console.log('âœ… Updated operational finishing:', filteredFinishing);\n                    return {\n                        ...prev,\n                        operational: {\n                            ...prev.operational,\n                            finishing: filteredFinishing\n                        }\n                    };\n                }\n            }[\"CreateQuoteContent.useEffect\"]);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        formData.products\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            var _formData_products_, _formData_additionalCosts;\n            const MARGIN_PERCENTAGE = 0.3;\n            const VAT_PERCENTAGE = 0.05;\n            // 1. Paper Costs (price per sheet Ã— entered sheets)\n            const paperCost = formData.operational.papers.reduce({\n                \"CreateQuoteContent.useEffect.paperCost\": (total, p)=>{\n                    // Manual pricing override: use direct price per sheet if provided, otherwise use packet pricing\n                    const pricePerSheet = p.pricePerSheet || (p.pricePerPacket && p.sheetsPerPacket && p.sheetsPerPacket > 0 ? p.pricePerPacket / p.sheetsPerPacket : 0);\n                    const actualSheetsNeeded = p.enteredSheets || 0;\n                    return total + pricePerSheet * actualSheetsNeeded;\n                }\n            }[\"CreateQuoteContent.useEffect.paperCost\"], 0);\n            // 2. Plates Cost (per plate, typically $25-50 per plate)\n            const PLATE_COST_PER_PLATE = 35; // Standard plate cost\n            const platesCost = (formData.operational.plates || 0) * PLATE_COST_PER_PLATE;\n            // 3. Finishing Costs (cost per unit Ã— actual units needed)\n            const actualUnitsNeeded = formData.operational.units || ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.quantity) || 0;\n            const finishingCost = formData.operational.finishing.reduce({\n                \"CreateQuoteContent.useEffect.finishingCost\": (total, f)=>{\n                    // Check if this finishing is used by any product using memoized check\n                    const isUsedByAnyProduct = productsFinishingCheck.some({\n                        \"CreateQuoteContent.useEffect.finishingCost.isUsedByAnyProduct\": (product)=>product.finishing.includes(f.name)\n                    }[\"CreateQuoteContent.useEffect.finishingCost.isUsedByAnyProduct\"]);\n                    if (isUsedByAnyProduct) {\n                        return total + (f.cost || 0) * actualUnitsNeeded;\n                    }\n                    return total;\n                }\n            }[\"CreateQuoteContent.useEffect.finishingCost\"], 0);\n            // 4. Calculate total costs with fallback for missing operational data\n            let basePrice = paperCost + platesCost + finishingCost;\n            // Fallback: If no operational data, use basic product calculation\n            if (basePrice === 0 && formData.products[0]) {\n                const product = formData.products[0];\n                const quantity = product.quantity || 0;\n                // Basic pricing based on product type and quantity\n                let basePricePerUnit = 0;\n                switch(product.productName){\n                    case 'Business Card':\n                        basePricePerUnit = 0.08; // $0.08 per card\n                        break;\n                    case 'Flyer A5':\n                        basePricePerUnit = 0.15; // $0.15 per flyer\n                        break;\n                    case 'Poster A2':\n                        basePricePerUnit = 2.50; // $2.50 per poster\n                        break;\n                    case 'Magazine':\n                        basePricePerUnit = 1.00; // $1.00 per magazine\n                        break;\n                    case 'Art Book':\n                        basePricePerUnit = 1.00; // $1.00 per book\n                        break;\n                    case 'Sticker Pack':\n                        basePricePerUnit = 0.50; // $0.50 per sticker pack\n                        break;\n                    default:\n                        basePricePerUnit = 0.10; // Default $0.10 per unit\n                }\n                basePrice = quantity * basePricePerUnit;\n            }\n            // Add additional costs to base price\n            const additionalCostsTotal = ((_formData_additionalCosts = formData.additionalCosts) === null || _formData_additionalCosts === void 0 ? void 0 : _formData_additionalCosts.reduce({\n                \"CreateQuoteContent.useEffect\": (total, cost)=>total + (cost.cost || 0)\n            }[\"CreateQuoteContent.useEffect\"], 0)) || 0;\n            const totalBasePrice = basePrice + additionalCostsTotal;\n            const marginAmount = totalBasePrice * MARGIN_PERCENTAGE;\n            const subtotal = totalBasePrice + marginAmount;\n            const vatAmount = subtotal * VAT_PERCENTAGE;\n            const totalPrice = subtotal + vatAmount;\n            console.log(\"Calculation triggered:\", {\n                paperCost,\n                platesCost,\n                finishingCost,\n                basePrice,\n                marginAmount,\n                subtotal,\n                vatAmount,\n                totalPrice,\n                productsFinishingCheck,\n                actualUnitsNeeded\n            });\n            setFormData({\n                \"CreateQuoteContent.useEffect\": (prev)=>({\n                        ...prev,\n                        calculation: {\n                            basePrice: totalBasePrice,\n                            marginAmount,\n                            marginPercentage: MARGIN_PERCENTAGE * 100,\n                            subtotal,\n                            finalSubtotal: subtotal,\n                            vatAmount,\n                            totalPrice\n                        }\n                    })\n            }[\"CreateQuoteContent.useEffect\"]);\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        formData.operational.papers,\n        formData.operational.plates,\n        formData.operational.units,\n        formData.operational.finishing,\n        formData.additionalCosts,\n        productsFinishingCheck,\n        formData.products\n    ]);\n    const nextStep = ()=>setCurrentStep((s)=>Math.min(5, s + 1));\n    const prevStep = ()=>setCurrentStep((s)=>Math.max(1, s - 1));\n    // Scroll to top whenever step changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateQuoteContent.useEffect\": ()=>{\n            // Scroll to top immediately and smoothly\n            window.scrollTo({\n                top: 0,\n                behavior: 'smooth'\n            });\n            // Also ensure the main container is at the top\n            const mainContainer = document.querySelector('.min-h-screen');\n            if (mainContainer) {\n                mainContainer.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n            }\n            // Remove focus from any auto-focused elements to prevent scroll\n            const activeElement = document.activeElement;\n            if (activeElement && activeElement.blur) {\n                activeElement.blur();\n            }\n        }\n    }[\"CreateQuoteContent.useEffect\"], [\n        currentStep\n    ]);\n    // Add validation functions for Next button\n    const canProceedFromStep1 = ()=>{\n        return quoteMode !== null; // User must select either new or existing quote mode\n    };\n    const canProceedFromStep2 = ()=>{\n        if (quoteMode === \"new\") {\n            // For new quote mode, validate all essential fields including new ones\n            const client = formData.client;\n            // Basic required fields\n            const essentialFields = [\n                client.firstName,\n                client.email,\n                client.phone // Phone is required\n            ];\n            // Add company-specific required fields only if company type\n            if (client.clientType === \"Company\") {\n                essentialFields.push(client.companyName);\n            }\n            // Check if basic fields are filled\n            const basicFieldsValid = essentialFields.every((field)=>field && field.trim() !== \"\");\n            // Check TRN requirement (either TRN filled or \"No TRN\" selected)\n            const trnValid = client.hasNoTrn || client.trn && client.trn.trim() !== \"\";\n            // Check Area requirement\n            const areaValid = client.area && client.area.trim() !== \"\";\n            // Check State and Country (should have defaults)\n            const stateValid = client.state && client.state.trim() !== \"\";\n            const countryValid = client.country && client.country.trim() !== \"\";\n            return basicFieldsValid && trnValid && areaValid && stateValid && countryValid;\n        } else if (quoteMode === \"existing\") {\n            // For existing quote mode, we need to select an actual existing quote\n            return selectedQuoteId !== null; // Must have selected a specific quote to edit\n        }\n        return false;\n    };\n    const canProceedFromStep3 = ()=>{\n        // For existing quotes, we need to check if a quote is selected first\n        if (quoteMode === \"existing\" && !selectedQuoteId) {\n            console.log('ðŸ” Step 3 Validation: No quote selected for existing mode');\n            return false;\n        }\n        // Validate that at least one product has been configured with a paper\n        if (!formData.products || formData.products.length === 0) {\n            console.log('ðŸ” Step 3 Validation: No products found');\n            return false;\n        }\n        // Debug: Log all products and their papers\n        console.log('ðŸ” Step 3 Validation Debug:', {\n            quoteMode,\n            selectedQuoteId,\n            productsCount: formData.products.length,\n            products: formData.products.map((product, index)=>{\n                var _product_papers, _product_papers1;\n                return {\n                    index,\n                    productName: product.productName,\n                    papersCount: ((_product_papers = product.papers) === null || _product_papers === void 0 ? void 0 : _product_papers.length) || 0,\n                    papers: ((_product_papers1 = product.papers) === null || _product_papers1 === void 0 ? void 0 : _product_papers1.map((paper, pIndex)=>({\n                            pIndex,\n                            name: paper.name,\n                            gsm: paper.gsm,\n                            isValid: paper.name && paper.name !== \"Select Paper\" && paper.name.trim() !== \"\"\n                        }))) || []\n                };\n            })\n        });\n        // Check if any product has a valid paper selected (not \"Select Paper\")\n        const hasValidPaper = formData.products.some((product)=>product.papers && product.papers.length > 0 && product.papers.some((paper)=>paper.name && paper.name !== \"Select Paper\" && paper.name.trim() !== \"\"));\n        console.log('ðŸ” Step 3 Validation Result:', hasValidPaper);\n        return hasValidPaper;\n    };\n    const isNextButtonDisabled = ()=>{\n        if (currentStep === 1) {\n            const disabled = !canProceedFromStep1();\n            console.log('ðŸ” Next Button - Step 1:', disabled);\n            return disabled;\n        } else if (currentStep === 2) {\n            const disabled = !canProceedFromStep2();\n            console.log('ðŸ” Next Button - Step 2:', disabled);\n            return disabled;\n        } else if (currentStep === 3) {\n            const disabled = !canProceedFromStep3();\n            console.log('ðŸ” Next Button - Step 3:', disabled);\n            return disabled;\n        }\n        console.log('ðŸ” Next Button - Other step:', false);\n        return false;\n    };\n    const handleStartNew = ()=>{\n        console.log('Starting new quote - resetting all data');\n        // Create a completely clean client object\n        const cleanClient = {\n            clientType: \"Company\",\n            companyName: \"\",\n            contactPerson: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            emails: JSON.stringify([\n                \"\"\n            ]),\n            phone: \"\",\n            countryCode: \"+971\",\n            role: \"\",\n            trn: \"\",\n            hasNoTrn: false,\n            address: \"\",\n            city: \"\",\n            area: \"\",\n            state: \"Dubai\",\n            postalCode: \"\",\n            country: \"UAE\",\n            additionalInfo: \"\"\n        };\n        console.log('Clean client object created:', cleanClient);\n        // Reset form data completely\n        setFormData((prev)=>{\n            const newFormData = {\n                ...prev,\n                client: cleanClient,\n                // Start with completely empty products array for new quotes\n                products: []\n            };\n            console.log('New form data set:', newFormData);\n            return newFormData;\n        });\n        // Reset all customer-related state\n        setQuoteMode(\"new\");\n        setSelectedQuoteId(null);\n        setSelectedCustomer(null);\n        // Don't auto-navigate - just set the mode for selection\n        console.log('New quote mode selected - ready for next step');\n    };\n    const handleSelectQuote = (q)=>{\n        const detail = _lib_dummy_data__WEBPACK_IMPORTED_MODULE_13__.QUOTE_DETAILS[q.id];\n        if (!detail) return;\n        setFormData((prev)=>(0,_lib_detail_to_form__WEBPACK_IMPORTED_MODULE_14__.detailToForm)(detail, prev));\n        setQuoteMode(\"existing\");\n        setSelectedQuoteId(q.id); // Set the selected quote ID for updating\n    // Don't auto-navigate - just set the mode for selection\n    };\n    const handleSelectCustomer = (customer)=>{\n        setSelectedCustomer(customer);\n        setFormData((prev)=>({\n                ...prev,\n                client: {\n                    clientType: customer.clientType,\n                    companyName: customer.companyName || '',\n                    contactPerson: customer.contactPerson,\n                    email: customer.email,\n                    phone: customer.phone,\n                    countryCode: customer.countryCode,\n                    role: customer.role || '',\n                    address: customer.address || '',\n                    city: customer.city || '',\n                    state: customer.state || '',\n                    postalCode: customer.postalCode || '',\n                    country: customer.country || '',\n                    additionalInfo: customer.additionalInfo || ''\n                }\n            }));\n    };\n    const handleEditCustomer = (customer)=>{\n        // Handle editing customer - for now just select it\n        handleSelectCustomer(customer);\n    };\n    const handleCustomerSelect = async (customer)=>{\n        setSelectedCustomer({\n            id: customer.id,\n            clientType: customer.clientType || 'Individual',\n            companyName: customer.companyName || null,\n            contactPerson: customer.contactPerson,\n            email: customer.email,\n            phone: customer.phone || '',\n            countryCode: customer.countryCode || '',\n            role: customer.role || null,\n            address: customer.address || '',\n            city: customer.city || '',\n            state: customer.state || '',\n            postalCode: customer.postalCode || '',\n            country: customer.country || '',\n            additionalInfo: customer.additionalInfo || ''\n        });\n        // Ensure phone has a value - if empty, use a default\n        const phoneValue = customer.phone && customer.phone.trim() !== '' ? customer.phone : '0000000000';\n        console.log('=== AUTO-FILLING CLIENT DATA ===');\n        console.log('Customer data received:', customer);\n        console.log('Phone value:', phoneValue);\n        console.log('Email value:', customer.email);\n        setFormData((prev)=>({\n                ...prev,\n                client: {\n                    clientType: customer.clientType || 'Individual',\n                    companyName: customer.companyName || '',\n                    contactPerson: customer.contactPerson,\n                    email: customer.email,\n                    phone: phoneValue,\n                    countryCode: customer.countryCode || '+971',\n                    role: customer.role || '',\n                    address: customer.address || '',\n                    city: customer.city || '',\n                    state: customer.state || '',\n                    postalCode: customer.postalCode || '',\n                    country: customer.country || '',\n                    additionalInfo: customer.additionalInfo || ''\n                }\n            }));\n        console.log('Form data updated with client info');\n        // Auto-fill Step 3 data if customer has previous quotes\n        try {\n            // Use the existing quotes endpoint and filter by client ID\n            const quotesResponse = await fetch('/api/quotes');\n            if (!quotesResponse.ok) {\n                throw new Error('Failed to fetch quotes for autofill');\n            }\n            const allQuotes = await quotesResponse.json();\n            const clientQuotes = allQuotes.filter((quote)=>quote.clientId === customer.id);\n            if (clientQuotes.length > 0) {\n                // Group quotes by quoteId to get quote groups (a quote can have multiple products)\n                const quoteGroups = clientQuotes.reduce((groups, quote)=>{\n                    if (!groups[quote.quoteId]) {\n                        groups[quote.quoteId] = [];\n                    }\n                    groups[quote.quoteId].push(quote);\n                    return groups;\n                }, {});\n                // Get the most recent quote group (by date)\n                const latestQuoteId = Object.keys(quoteGroups).sort((a, b)=>{\n                    const dateA = new Date(quoteGroups[a][0].date);\n                    const dateB = new Date(quoteGroups[b][0].date);\n                    return dateB.getTime() - dateA.getTime();\n                })[0];\n                const latestQuotes = quoteGroups[latestQuoteId];\n                console.log('Latest quotes for autofill:', latestQuotes);\n                // Convert database quotes to products - consolidate all papers into one product\n                // Since all quotes in latestQuotes have the same quoteId, they represent one product with multiple papers\n                const firstQuote = latestQuotes[0];\n                // Parse colors if they exist\n                let colors;\n                if (firstQuote.colors) {\n                    try {\n                        colors = JSON.parse(firstQuote.colors);\n                    } catch (e) {\n                        console.warn('Failed to parse colors JSON:', firstQuote.colors);\n                    }\n                }\n                // Collect all papers from all quotes in this group\n                let allPapers = [];\n                latestQuotes.forEach((quote)=>{\n                    if (quote.papers && Array.isArray(quote.papers) && quote.papers.length > 0) {\n                        quote.papers.forEach((p)=>{\n                            // Try to find the best matching paper name from the database\n                            let paperName = p.name || 'Standard Paper';\n                            let paperGsm = p.gsm || '150';\n                            // Ensure we never have empty strings\n                            if (!paperName || paperName.trim() === '') {\n                                paperName = 'Standard Paper';\n                            }\n                            // Convert paperGsm to string and ensure it's not empty\n                            if (!paperGsm || String(paperGsm).trim() === '') {\n                                paperGsm = '150';\n                            }\n                            console.log(\"Processing paper: \".concat(paperName, \" with GSM: \").concat(paperGsm));\n                            // Store the clean paper name without any suffixes for better matching\n                            const cleanPaperName = paperName.replace(/\\s*\\(Custom\\)$/, '').trim();\n                            // Check if this paper is already added (avoid duplicates)\n                            const existingPaper = allPapers.find((ap)=>ap.name === cleanPaperName && ap.gsm === paperGsm);\n                            if (!existingPaper) {\n                                allPapers.push({\n                                    name: cleanPaperName,\n                                    gsm: paperGsm\n                                });\n                            }\n                        });\n                    }\n                });\n                // If no papers found, use default\n                if (allPapers.length === 0) {\n                    allPapers = [\n                        {\n                            name: 'Standard Paper',\n                            gsm: '150'\n                        }\n                    ];\n                }\n                console.log('Final consolidated papers array:', allPapers);\n                console.log('Paper names being stored:', allPapers.map((p)=>p.name));\n                // Collect all finishing from all quotes in this group\n                let allFinishing = [];\n                console.log('ðŸ” FINISHING DEBUG - Processing finishing from quotes...');\n                latestQuotes.forEach((quote)=>{\n                    console.log(\"\\uD83D\\uDD0D FINISHING DEBUG - Quote \".concat(quote.quoteId, \" finishing:\"), quote.finishing);\n                    if (quote.finishing && Array.isArray(quote.finishing) && quote.finishing.length > 0) {\n                        quote.finishing.forEach((f)=>{\n                            // Handle both string format (from API) and object format (from database)\n                            const finishingName = typeof f === 'string' ? f : f.name || f;\n                            console.log(\"\\uD83D\\uDD0D FINISHING DEBUG - Processing finishing item:\", f, '-> name:', finishingName);\n                            if (finishingName && !allFinishing.includes(finishingName)) {\n                                // Normalize finishing name to match Step 3 options (capitalize first letter)\n                                const normalizedName = finishingName.charAt(0).toUpperCase() + finishingName.slice(1).toLowerCase();\n                                console.log(\"\\uD83D\\uDD0D FINISHING DEBUG - Normalized name: \".concat(finishingName, \" -> \").concat(normalizedName));\n                                // Format finishing name based on sides\n                                if (firstQuote.sides === '2') {\n                                    // For double-sided, add both front and back options\n                                    allFinishing.push(\"\".concat(normalizedName, \"-Front\"));\n                                    allFinishing.push(\"\".concat(normalizedName, \"-Back\"));\n                                } else {\n                                    // For single-sided, just add the name\n                                    allFinishing.push(normalizedName);\n                                }\n                            }\n                        });\n                    }\n                });\n                console.log('ðŸ” FINISHING DEBUG - Final allFinishing array:', allFinishing);\n                console.log(\"Processing quote group \".concat(latestQuoteId, \":\"), {\n                    totalQuotes: latestQuotes.length,\n                    papers: allPapers,\n                    finishing: allFinishing,\n                    sides: firstQuote.sides,\n                    rawFinishingFromDB: latestQuotes.map((q)=>q.finishing)\n                });\n                // Create one product with all papers and finishing\n                const product = {\n                    productName: firstQuote.productName || firstQuote.product || 'Business Card',\n                    quantity: firstQuote.quantity,\n                    sides: firstQuote.sides === '1' || firstQuote.sides === '2' ? firstQuote.sides : '1',\n                    printingSelection: firstQuote.printingSelection || firstQuote.printing || 'Digital',\n                    flatSize: {\n                        width: firstQuote.flatSizeWidth || 0,\n                        height: firstQuote.flatSizeHeight || 0,\n                        spine: firstQuote.flatSizeSpine || null\n                    },\n                    closeSize: {\n                        width: firstQuote.closeSizeWidth || 0,\n                        height: firstQuote.closeSizeHeight || 0,\n                        spine: firstQuote.closeSizeSpine || null\n                    },\n                    useSameAsFlat: firstQuote.useSameAsFlat || false,\n                    papers: allPapers,\n                    // Ensure finishing array only contains valid strings\n                    finishing: allFinishing.filter((f)=>typeof f === 'string' && f.trim() !== ''),\n                    colors\n                };\n                const products = [\n                    {\n                        ...product,\n                        paperName: product.papers && product.papers.length > 0 ? product.papers[0].name : \"Standard Paper\"\n                    }\n                ];\n                // Update form data with all products\n                setFormData((prev)=>{\n                    const newFormData = {\n                        ...prev,\n                        products\n                    };\n                    console.log('Updating form data with autofilled products:', newFormData);\n                    console.log('ðŸ” FINISHING DEBUG - Product finishing array:', newFormData.products[0].finishing);\n                    console.log('ðŸ” FINISHING DEBUG - Product sides:', newFormData.products[0].sides);\n                    return newFormData;\n                });\n                console.log(\"Auto-filled \".concat(products.length, \" products from customer's previous quote:\"), products);\n            }\n        } catch (error) {\n            console.error('Error auto-filling quote data:', error);\n        }\n    };\n    // Function to map saved color descriptions to dropdown options\n    const mapColorToDropdownOption = (colorDesc)=>{\n        if (!colorDesc) return \"\";\n        const desc = colorDesc.toLowerCase();\n        // Map specific color descriptions to dropdown options\n        if (desc.includes(\"4/4 cmyk\") && desc.includes(\"2 pms\")) {\n            return \"4+2 Colors\";\n        } else if (desc.includes(\"4/4 cmyk\") && desc.includes(\"1 pms\")) {\n            return \"4+1 Colors\";\n        } else if (desc.includes(\"4/4 cmyk\") || desc.includes(\"4/4\")) {\n            return \"4 Colors (CMYK)\";\n        } else if (desc.includes(\"4/0 cmyk\") && desc.includes(\"2 pms\")) {\n            return \"4+2 Colors\";\n        } else if (desc.includes(\"4/0 cmyk\") && desc.includes(\"1 pms\")) {\n            return \"4+1 Colors\";\n        } else if (desc.includes(\"4/0 cmyk\") || desc.includes(\"4/0\")) {\n            return \"4 Colors (CMYK)\";\n        } else if (desc.includes(\"3 colors\") || desc.includes(\"3\")) {\n            return \"3 Colors\";\n        } else if (desc.includes(\"2 colors\") || desc.includes(\"2\")) {\n            return \"2 Colors\";\n        } else if (desc.includes(\"1 color\") || desc.includes(\"1\")) {\n            return \"1 Color\";\n        }\n        // Default fallback\n        return \"4 Colors (CMYK)\";\n    };\n    // Handle quote selection for editing existing quotes\n    const handleQuoteSelect = (quote)=>{\n        var _quote_finishing;\n        console.log('ðŸŽ¯ Quote selected for editing:', quote);\n        console.log('ðŸ” Quote finishing data:', quote.finishing);\n        console.log('ðŸ” Quote finishing type:', typeof quote.finishing);\n        console.log('ðŸ” Quote finishing length:', (_quote_finishing = quote.finishing) === null || _quote_finishing === void 0 ? void 0 : _quote_finishing.length);\n        // Set the selected quote ID for editing\n        setSelectedQuoteId(quote.id);\n        // Also set the customer data\n        handleCustomerSelect(quote.client);\n        // Update form data with the quote's complete product information\n        if (quote.product) {\n            var _quote_colors, _quote_colors1;\n            // Determine appropriate sizes based on product type\n            let defaultFlatSize = {\n                width: 9,\n                height: 5.5,\n                spine: 0\n            };\n            let defaultCloseSize = {\n                width: 9,\n                height: 5.5,\n                spine: 0\n            };\n            // Set appropriate default sizes for different product types\n            switch(quote.product.toLowerCase()){\n                case 'book':\n                case 'catalog':\n                case 'annual report':\n                case 'technical manual':\n                    defaultFlatSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0.5\n                    };\n                    defaultCloseSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0.5\n                    };\n                    break;\n                case 'brochure':\n                case 'flyer a5':\n                    defaultFlatSize = {\n                        width: 8.27,\n                        height: 11.69,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 4.13,\n                        height: 11.69,\n                        spine: 0\n                    };\n                    break;\n                case 'poster':\n                    defaultFlatSize = {\n                        width: 18,\n                        height: 24,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 18,\n                        height: 24,\n                        spine: 0\n                    };\n                    break;\n                case 'business card':\n                case 'business cards':\n                    defaultFlatSize = {\n                        width: 3.5,\n                        height: 2,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 3.5,\n                        height: 2,\n                        spine: 0\n                    };\n                    break;\n                case 'letterhead':\n                    defaultFlatSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 8.5,\n                        height: 11,\n                        spine: 0\n                    };\n                    break;\n                default:\n                    defaultFlatSize = {\n                        width: 9,\n                        height: 5.5,\n                        spine: 0\n                    };\n                    defaultCloseSize = {\n                        width: 9,\n                        height: 5.5,\n                        spine: 0\n                    };\n            }\n            // Map saved colors to dropdown options\n            const mappedFrontColor = mapColorToDropdownOption((_quote_colors = quote.colors) === null || _quote_colors === void 0 ? void 0 : _quote_colors.front);\n            const mappedBackColor = mapColorToDropdownOption((_quote_colors1 = quote.colors) === null || _quote_colors1 === void 0 ? void 0 : _quote_colors1.back);\n            setFormData((prev)=>({\n                    ...prev,\n                    products: [\n                        {\n                            productName: quote.product || \"Printing Product\",\n                            paperName: quote.papers && quote.papers.length > 0 ? quote.papers[0].name : \"Standard Paper\",\n                            quantity: quote.quantity || 100,\n                            sides: quote.sides || \"1\",\n                            printingSelection: quote.printing || \"Digital\",\n                            flatSize: defaultFlatSize,\n                            closeSize: defaultCloseSize,\n                            useSameAsFlat: true,\n                            papers: quote.papers && quote.papers.length > 0 ? quote.papers.map((p)=>({\n                                    name: p.name,\n                                    gsm: p.gsm\n                                })) : [\n                                {\n                                    name: \"Standard Paper\",\n                                    gsm: \"150\"\n                                }\n                            ],\n                            finishing: (()=>{\n                                console.log('ðŸ”„ Processing finishing data...');\n                                console.log('  Original quote.finishing:', quote.finishing);\n                                if (!quote.finishing || !Array.isArray(quote.finishing) || quote.finishing.length === 0) {\n                                    console.log('  âŒ No finishing data or invalid format');\n                                    return [];\n                                }\n                                // Simply extract the finishing names - no side logic needed\n                                const mappedFinishing = quote.finishing.map((f)=>{\n                                    console.log(\"  Processing finishing item: \".concat(f.name));\n                                    return f.name;\n                                });\n                                console.log('  âœ… Final mapped finishing:', mappedFinishing);\n                                return mappedFinishing;\n                            })(),\n                            colors: {\n                                front: mappedFrontColor,\n                                back: mappedBackColor\n                            }\n                        }\n                    ]\n                }));\n            // Immediately ensure finishing data is loaded\n            ensureFinishingDataLoaded(quote);\n            console.log('ðŸ“‹ Form data updated with selected quote:', {\n                product: quote.product,\n                quantity: quote.quantity,\n                sides: quote.sides,\n                printing: quote.printing,\n                papers: quote.papers,\n                originalFinishing: quote.finishing,\n                colors: {\n                    front: mappedFrontColor,\n                    back: mappedBackColor\n                }\n            });\n            // Log the actual formData state after update\n            setTimeout(()=>{\n                console.log('ðŸ”„ FormData state after update:', formData);\n                console.log('ðŸŽ¯ Products array:', formData.products);\n                if (formData.products && formData.products.length > 0) {\n                    console.log('ðŸŽ¯ First product finishing:', formData.products[0].finishing);\n                    console.log('ðŸŽ¯ First product finishing type:', typeof formData.products[0].finishing);\n                    console.log('ðŸŽ¯ First product finishing isArray:', Array.isArray(formData.products[0].finishing));\n                }\n            }, 100);\n            // Force a re-render by updating the formData again\n            setTimeout(()=>{\n                console.log('ðŸ”„ Forcing re-render...');\n                setFormData((prevData)=>({\n                        ...prevData,\n                        products: prevData.products.map((p, idx)=>idx === 0 ? {\n                                ...p,\n                                finishing: p.finishing\n                            } : p)\n                    }));\n            }, 200);\n            // Additional fix: Ensure finishing data is properly loaded\n            setTimeout(()=>{\n                console.log('ðŸ”§ Additional finishing data fix...');\n                ensureFinishingDataLoaded(quote);\n            }, 300);\n        }\n    };\n    // Helper function to ensure finishing data is properly loaded\n    const ensureFinishingDataLoaded = (quote)=>{\n        console.log('ðŸ”§ Ensuring finishing data is loaded...');\n        if (quote.finishing && Array.isArray(quote.finishing) && quote.finishing.length > 0) {\n            const finishingNames = quote.finishing.map((f)=>f.name);\n            console.log('ðŸ”§ Setting finishing names:', finishingNames);\n            setFormData((prevData)=>({\n                    ...prevData,\n                    products: prevData.products.map((p, idx)=>idx === 0 ? {\n                            ...p,\n                            finishing: finishingNames\n                        } : p)\n                }));\n            return true;\n        }\n        return false;\n    };\n    // Get current user ID - use a valid user from the database\n    const getCurrentUserId = async ()=>{\n        try {\n            // Try to get the first available user from the database\n            const response = await fetch('/api/users');\n            if (response.ok) {\n                const users = await response.json();\n                if (users.length > 0) {\n                    // Use the first available user (usually admin)\n                    return users[0].id;\n                }\n            }\n        } catch (error) {\n            console.error('Error fetching users:', error);\n        }\n        // Fallback to a valid user ID if API fails\n        return 'cmekd5dtw0000x5kp7xvqz8w9'; // admin@example.com\n    };\n    // Validate form data before allowing save\n    const validateFormData = ()=>{\n        const errors = [];\n        // Debug: Log the current form data\n        console.log('Validating form data:', {\n            client: formData.client,\n            contactPerson: formData.client.contactPerson,\n            firstName: formData.client.firstName,\n            lastName: formData.client.lastName,\n            email: formData.client.email,\n            phone: formData.client.phone\n        });\n        // Check if client information is complete\n        if (!formData.client.email || !formData.client.phone) {\n            errors.push(\"Client email and phone are required\");\n        }\n        if (formData.client.clientType === \"Company\" && !formData.client.companyName) {\n            errors.push(\"Company name is required for company clients\");\n        }\n        // Check if we have either contactPerson OR both firstName and lastName\n        const hasContactPerson = formData.client.contactPerson && formData.client.contactPerson.trim() !== '';\n        const hasFullName = formData.client.firstName && formData.client.firstName.trim() !== '' && formData.client.lastName && formData.client.lastName.trim() !== '';\n        if (!hasContactPerson && !hasFullName) {\n            errors.push(\"Contact person name is required (or first name and last name)\");\n        }\n        // Address fields are optional but if provided, should be complete\n        const hasPartialAddress = formData.client.address || formData.client.city || formData.client.state || formData.client.postalCode || formData.client.country;\n        const hasCompleteAddress = formData.client.address && formData.client.city && formData.client.state && formData.client.postalCode && formData.client.country;\n        if (hasPartialAddress && !hasCompleteAddress) {\n            console.warn('Partial address provided - some address fields are missing');\n        // Don't throw error, just warn - address is optional\n        }\n        // Check if products exist and have required information\n        if (formData.products.length === 0) {\n            errors.push(\"At least one product must be added\");\n        }\n        formData.products.forEach((product, index)=>{\n            if (!product.productName || !product.quantity) {\n                errors.push(\"Product \".concat(index + 1, \" must have a name and quantity\"));\n            }\n        });\n        if (errors.length > 0) {\n            alert(\"Please fix the following issues:\\n\".concat(errors.join('\\n')));\n            return false;\n        }\n        return true;\n    };\n    // Validate and clean quote data before sending to database\n    const validateAndCleanQuoteData = (data)=>{\n        // Create a clean copy of the data to avoid mutating the original\n        const cleanedData = {\n            ...data\n        };\n        // Ensure papers array has valid objects\n        if (cleanedData.papers) {\n            // Handle nested papers structure (papers.create)\n            if (cleanedData.papers.create && Array.isArray(cleanedData.papers.create)) {\n                cleanedData.papers = cleanedData.papers.create.map((paper)=>({\n                        name: paper.name || \"Standard Paper\",\n                        gsm: paper.gsm ? String(paper.gsm) : \"150\",\n                        inputWidth: paper.inputWidth ? Number(paper.inputWidth) : null,\n                        inputHeight: paper.inputHeight ? Number(paper.inputHeight) : null,\n                        pricePerPacket: paper.pricePerPacket ? Number(paper.pricePerPacket) : null,\n                        pricePerSheet: paper.pricePerSheet ? Number(paper.pricePerSheet) : null,\n                        sheetsPerPacket: paper.sheetsPerPacket ? Number(paper.sheetsPerPacket) : null,\n                        recommendedSheets: paper.recommendedSheets ? Number(paper.recommendedSheets) : null,\n                        enteredSheets: paper.enteredSheets ? Number(paper.enteredSheets) : null,\n                        outputWidth: paper.outputWidth ? Number(paper.outputWidth) : null,\n                        outputHeight: paper.outputHeight ? Number(paper.outputHeight) : null,\n                        selectedColors: paper.selectedColors ? String(paper.selectedColors) : null\n                    }));\n            } else if (Array.isArray(cleanedData.papers)) {\n                // Handle flat papers structure\n                cleanedData.papers = cleanedData.papers.map((paper)=>({\n                        name: paper.name || \"Standard Paper\",\n                        gsm: paper.gsm ? String(paper.gsm) : \"150\",\n                        inputWidth: paper.inputWidth ? Number(paper.inputWidth) : null,\n                        inputHeight: paper.inputHeight ? Number(paper.inputHeight) : null,\n                        pricePerPacket: paper.pricePerPacket ? Number(paper.pricePerPacket) : null,\n                        pricePerSheet: paper.pricePerSheet ? Number(paper.pricePerSheet) : null,\n                        sheetsPerPacket: paper.sheetsPerPacket ? Number(paper.sheetsPerPacket) : null,\n                        recommendedSheets: paper.recommendedSheets ? Number(paper.recommendedSheets) : null,\n                        enteredSheets: paper.enteredSheets ? Number(paper.enteredSheets) : null,\n                        outputWidth: paper.outputWidth ? Number(paper.outputWidth) : null,\n                        outputHeight: paper.outputHeight ? Number(paper.outputHeight) : null,\n                        selectedColors: paper.selectedColors ? String(paper.selectedColors) : null\n                    }));\n            }\n        }\n        // Ensure finishing array has valid objects\n        if (cleanedData.finishing) {\n            // Handle nested finishing structure (finishing.create)\n            if (cleanedData.finishing.create && Array.isArray(cleanedData.finishing.create)) {\n                cleanedData.finishing = cleanedData.finishing.create.map((finish)=>({\n                        name: finish.name || \"Standard Finishing\",\n                        cost: finish.cost ? Number(finish.cost) : 0\n                    }));\n            } else if (Array.isArray(cleanedData.finishing)) {\n                // Handle flat finishing structure\n                cleanedData.finishing = cleanedData.finishing.map((finish)=>({\n                        name: finish.name || \"Standard Finishing\",\n                        cost: finish.cost ? Number(finish.cost) : 0\n                    }));\n            }\n        }\n        // Ensure amounts object has valid numbers\n        if (cleanedData.amounts) {\n            // Handle nested amounts structure (amounts.create)\n            if (cleanedData.amounts.create) {\n                cleanedData.amounts = {\n                    base: Number(cleanedData.amounts.create.base) || 0,\n                    vat: Number(cleanedData.amounts.create.vat) || 0,\n                    total: Number(cleanedData.amounts.create.total) || 0\n                };\n            } else {\n                // Handle flat amounts structure\n                cleanedData.amounts = {\n                    base: Number(cleanedData.amounts.base) || 0,\n                    vat: Number(cleanedData.amounts.vat) || 0,\n                    total: Number(cleanedData.amounts.total) || 0\n                };\n            }\n        }\n        // Ensure operational data has valid values\n        if (cleanedData.operational) {\n            // Handle nested operational structure (operational.create)\n            if (cleanedData.operational.create) {\n                cleanedData.operational = {\n                    plates: cleanedData.operational.create.plates ? Number(cleanedData.operational.create.plates) : null,\n                    units: cleanedData.operational.create.units ? Number(cleanedData.operational.create.units) : null\n                };\n            } else {\n                // Handle flat operational structure\n                cleanedData.operational = {\n                    plates: cleanedData.operational.plates ? Number(cleanedData.operational.plates) : null,\n                    units: cleanedData.operational.units ? Number(cleanedData.operational.units) : null\n                };\n            }\n        }\n        // Ensure essential fields are preserved and valid\n        if (cleanedData.date) {\n            cleanedData.date = new Date(cleanedData.date);\n        }\n        if (cleanedData.status) {\n            cleanedData.status = String(cleanedData.status);\n        }\n        if (cleanedData.clientId) {\n            cleanedData.clientId = String(cleanedData.clientId);\n        }\n        if (cleanedData.userId) {\n            cleanedData.userId = String(cleanedData.userId);\n        }\n        if (cleanedData.salesPersonId) {\n            cleanedData.salesPersonId = String(cleanedData.salesPersonId);\n        }\n        if (cleanedData.product) {\n            cleanedData.product = String(cleanedData.product);\n        }\n        if (cleanedData.quantity) {\n            cleanedData.quantity = Number(cleanedData.quantity) || 0;\n        }\n        if (cleanedData.sides) {\n            cleanedData.sides = String(cleanedData.sides);\n        }\n        if (cleanedData.printing) {\n            cleanedData.printing = String(cleanedData.printing);\n        }\n        if (cleanedData.quoteId) {\n            cleanedData.quoteId = String(cleanedData.quoteId);\n        }\n        // Handle colors field - convert object to string if needed\n        if (cleanedData.colors && typeof cleanedData.colors === 'object') {\n            // If colors is an object with front/back properties, convert to JSON string\n            cleanedData.colors = JSON.stringify(cleanedData.colors);\n        } else if (cleanedData.colors) {\n            cleanedData.colors = String(cleanedData.colors);\n        }\n        return cleanedData;\n    };\n    const handleSaveQuote = async function() {\n        let isUpdate = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        setIsSaving(true);\n        try {\n            var _formData_products_, _formData_products_1, _formData_products_2, _formData_products_3;\n            // Debug: Log the current form data before processing\n            console.log('=== QUOTE CREATION DEBUG ===');\n            console.log('Current formData.client:', formData.client);\n            console.log('Current selectedCustomer:', selectedCustomer);\n            console.log('Current quoteMode:', quoteMode);\n            console.log('Current selectedQuoteId:', selectedQuoteId);\n            // Force synchronize form data - ensure all fields are properly set\n            let needsFormUpdate = false;\n            const updatedClient = {\n                ...formData.client\n            };\n            // Ensure all required fields have at least empty strings instead of undefined\n            if (updatedClient.email === undefined) {\n                updatedClient.email = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.phone === undefined) {\n                updatedClient.phone = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.contactPerson === undefined) {\n                updatedClient.contactPerson = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.address === undefined) {\n                updatedClient.address = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.city === undefined) {\n                updatedClient.city = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.state === undefined) {\n                updatedClient.state = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.postalCode === undefined) {\n                updatedClient.postalCode = '';\n                needsFormUpdate = true;\n            }\n            if (updatedClient.country === undefined) {\n                updatedClient.country = '';\n                needsFormUpdate = true;\n            }\n            // Ensure contactPerson is set if firstName and lastName are available\n            if (!updatedClient.contactPerson && (updatedClient.firstName || updatedClient.lastName)) {\n                const contactPerson = \"\".concat(updatedClient.firstName || '', \" \").concat(updatedClient.lastName || '').trim();\n                updatedClient.contactPerson = contactPerson;\n                needsFormUpdate = true;\n                console.log('Auto-setting contactPerson:', contactPerson);\n            }\n            // Update form data if needed\n            if (needsFormUpdate) {\n                setFormData((prev)=>({\n                        ...prev,\n                        client: updatedClient\n                    }));\n                console.log('Updated form data with synchronized client info:', updatedClient);\n            }\n            // Use the updated client data for validation\n            // If we have a selectedCustomer (existing customer), use that data for validation\n            let clientToValidate = needsFormUpdate ? updatedClient : formData.client;\n            // If using existing customer mode and we have selectedCustomer data, use that for validation\n            if (quoteMode === \"existing\" && selectedCustomer) {\n                console.log('=== SELECTED CUSTOMER DEBUG ===');\n                console.log('selectedCustomer object:', selectedCustomer);\n                console.log('selectedCustomer.email:', selectedCustomer.email);\n                console.log('selectedCustomer.phone:', selectedCustomer.phone);\n                console.log('selectedCustomer.contactPerson:', selectedCustomer.contactPerson);\n                // For existing customers, use the selectedCustomer data directly for validation\n                clientToValidate = {\n                    ...clientToValidate,\n                    email: selectedCustomer.email,\n                    phone: selectedCustomer.phone || '',\n                    contactPerson: selectedCustomer.contactPerson,\n                    clientType: selectedCustomer.clientType,\n                    companyName: selectedCustomer.companyName || '',\n                    role: selectedCustomer.role || '',\n                    address: selectedCustomer.address || '',\n                    city: selectedCustomer.city || '',\n                    state: selectedCustomer.state || '',\n                    postalCode: selectedCustomer.postalCode || '',\n                    country: selectedCustomer.country || '',\n                    countryCode: selectedCustomer.countryCode || '+971'\n                };\n                console.log('Using selectedCustomer data for validation:', clientToValidate);\n            }\n            // Debug: Log the client data being validated\n            console.log('=== CLIENT VALIDATION DEBUG ===');\n            console.log('Client data being validated:', clientToValidate);\n            console.log('Email:', clientToValidate.email);\n            console.log('Phone:', clientToValidate.phone);\n            console.log('Contact Person:', clientToValidate.contactPerson);\n            console.log('Address:', clientToValidate.address);\n            console.log('City:', clientToValidate.city);\n            console.log('State:', clientToValidate.state);\n            console.log('Postal Code:', clientToValidate.postalCode);\n            console.log('Country:', clientToValidate.country);\n            // Validate essential fields only\n            // Skip validation for existing customers since we know the data is valid\n            if (quoteMode === \"existing\" && selectedCustomer) {\n                console.log('Skipping validation for existing customer - data is pre-validated');\n            } else if (!clientToValidate.email || !clientToValidate.phone) {\n                console.error('Missing essential client fields:', {\n                    email: clientToValidate.email,\n                    phone: clientToValidate.phone\n                });\n                throw new Error('Missing required client information: email and phone are required');\n            }\n            // Check if we have either contactPerson OR both firstName and lastName\n            const hasContactPerson = clientToValidate.contactPerson && clientToValidate.contactPerson.trim() !== '';\n            const hasFullName = clientToValidate.firstName && clientToValidate.firstName.trim() !== '' && clientToValidate.lastName && clientToValidate.lastName.trim() !== '';\n            if (!hasContactPerson && !hasFullName) {\n                console.error('Missing name information:', {\n                    contactPerson: clientToValidate.contactPerson,\n                    firstName: clientToValidate.firstName,\n                    lastName: clientToValidate.lastName\n                });\n                throw new Error('Contact person name is required (or first name and last name)');\n            }\n            // Ensure contactPerson is set if we have firstName and lastName\n            if (!hasContactPerson && hasFullName) {\n                clientToValidate.contactPerson = \"\".concat(clientToValidate.firstName, \" \").concat(clientToValidate.lastName).trim();\n                console.log('Auto-generated contactPerson from firstName and lastName:', clientToValidate.contactPerson);\n            }\n            // Company validation only if company type\n            if (clientToValidate.clientType === \"Company\" && !clientToValidate.companyName) {\n                throw new Error('Company name is required for company clients');\n            }\n            // Address fields are optional but if provided, should be complete\n            const hasPartialAddress = clientToValidate.address || clientToValidate.city || clientToValidate.state || clientToValidate.postalCode || clientToValidate.country;\n            const hasCompleteAddress = clientToValidate.address && clientToValidate.city && clientToValidate.state && clientToValidate.postalCode && clientToValidate.country;\n            if (hasPartialAddress && !hasCompleteAddress) {\n                console.warn('Partial address provided - some address fields are missing');\n            // Don't throw error, just warn - address is optional\n            }\n            // First, save the client if it's a new client\n            let clientId = selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.id;\n            // If no selectedCustomer ID, we need to create a new client from form data\n            if (!clientId) {\n                // Create new client - Fix the data mapping\n                const clientData = {\n                    clientType: clientToValidate.clientType,\n                    companyName: clientToValidate.clientType === \"Company\" ? clientToValidate.companyName : null,\n                    contactPerson: clientToValidate.contactPerson || \"\".concat(clientToValidate.firstName || '', \" \").concat(clientToValidate.lastName || '').trim(),\n                    email: clientToValidate.email,\n                    phone: clientToValidate.phone,\n                    countryCode: clientToValidate.countryCode,\n                    role: clientToValidate.clientType === \"Company\" ? clientToValidate.role : null,\n                    address: clientToValidate.address || '',\n                    city: clientToValidate.city || '',\n                    state: clientToValidate.state || '',\n                    postalCode: clientToValidate.postalCode || '',\n                    country: clientToValidate.country || '',\n                    additionalInfo: clientToValidate.additionalInfo || ''\n                };\n                console.log('Creating new client with data:', clientData);\n                const clientResponse = await fetch('/api/clients', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(clientData)\n                });\n                if (!clientResponse.ok) {\n                    const errorText = await clientResponse.text();\n                    console.error('Client creation failed:', clientResponse.status, errorText);\n                    throw new Error(\"Failed to create client: \".concat(clientResponse.status, \" - \").concat(errorText));\n                }\n                const newClient = await clientResponse.json();\n                clientId = newClient.id;\n                // Update the selectedCustomer state with the newly created client\n                const newCustomerData = {\n                    id: newClient.id,\n                    clientType: newClient.clientType,\n                    companyName: newClient.companyName,\n                    contactPerson: newClient.contactPerson,\n                    email: newClient.email,\n                    phone: newClient.phone,\n                    countryCode: newClient.countryCode,\n                    role: newClient.role,\n                    address: newClient.address,\n                    city: newClient.city,\n                    state: newClient.state,\n                    postalCode: newClient.postalCode,\n                    country: newClient.country,\n                    additionalInfo: newClient.additionalInfo,\n                    firstName: formData.client.firstName || '',\n                    lastName: formData.client.lastName || ''\n                };\n                setSelectedCustomer(newCustomerData);\n                console.log('Updated selectedCustomer with new client:', newCustomerData);\n                // Also update the form data with the new customer information to ensure Step 5 displays correctly\n                setFormData((prev)=>({\n                        ...prev,\n                        client: {\n                            ...prev.client,\n                            // Update with the new customer data to ensure consistency\n                            contactPerson: newCustomerData.contactPerson,\n                            email: newCustomerData.email,\n                            phone: newCustomerData.phone,\n                            address: newCustomerData.address,\n                            city: newCustomerData.city,\n                            state: newCustomerData.state,\n                            postalCode: newCustomerData.postalCode,\n                            country: newCustomerData.country,\n                            additionalInfo: newCustomerData.additionalInfo,\n                            // Also ensure firstName and lastName are set if they exist\n                            firstName: newCustomerData.firstName || prev.client.firstName || '',\n                            lastName: newCustomerData.lastName || prev.client.lastName || ''\n                        }\n                    }));\n                console.log('Updated form data with new customer information for Step 5 display');\n                // Log the final state for debugging\n                console.log('=== FINAL STATE AFTER CLIENT CREATION ===');\n                console.log('New client ID:', clientId);\n                console.log('Updated selectedCustomer:', newCustomerData);\n                console.log('Updated formData.client:', formData.client);\n                console.log('Client created successfully:', newClient);\n            }\n            // Get current user ID\n            const currentUserId = await getCurrentUserId();\n            // Debug: Log the customer information being used\n            console.log('Creating quote with customer info:', {\n                clientId,\n                selectedCustomer,\n                formDataClient: formData.client,\n                newCustomerData: clientId ? 'Using existing customer' : 'Created new customer'\n            });\n            // Prepare quote data for API - Fix the data structure to match DatabaseService expectations\n            const quoteData = {\n                date: new Date(),\n                status: \"Pending\",\n                clientId: clientId,\n                userId: currentUserId,\n                salesPersonId: formData.salesPersonId,\n                product: ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.productName) || \"Printing Product\",\n                quantity: ((_formData_products_1 = formData.products[0]) === null || _formData_products_1 === void 0 ? void 0 : _formData_products_1.quantity) || 0,\n                sides: ((_formData_products_2 = formData.products[0]) === null || _formData_products_2 === void 0 ? void 0 : _formData_products_2.sides) || \"1\",\n                printing: ((_formData_products_3 = formData.products[0]) === null || _formData_products_3 === void 0 ? void 0 : _formData_products_3.printingSelection) || \"Digital\"\n            };\n            // Debug: Log the quote data being sent\n            console.log('=== QUOTE DATA DEBUG ===');\n            console.log('Quote data being sent:', quoteData);\n            console.log('salesPersonId:', formData.salesPersonId);\n            console.log('Customer ID being used:', clientId);\n            console.log('Selected customer state:', selectedCustomer);\n            console.log('formData.operational.papers:', formData.operational.papers);\n            console.log('formData.operational.finishing:', formData.operational.finishing);\n            let quoteResponse;\n            let savedQuote;\n            // Check if we're actually editing an existing quote (has selectedQuoteId)\n            if (selectedQuoteId && isUpdate) {\n                var _formData_products_4;\n                // Update existing quote - we have a specific quote ID to edit\n                console.log('Updating existing quote:', selectedQuoteId);\n                console.log('=== QUOTE DATA DEBUG (UPDATE) ===');\n                console.log('Quote data being sent:', quoteData);\n                console.log('salesPersonId:', formData.salesPersonId);\n                // Use Step 5 calculation results directly - no recalculation needed\n                const totalPrice = formData.calculation.totalPrice || 0;\n                const totalBasePrice = formData.calculation.basePrice || 0;\n                const vatAmount = formData.calculation.vatAmount || 0;\n                console.log('=== USING STEP 5 CALCULATION RESULTS ===');\n                console.log('Step 5 totalPrice:', totalPrice);\n                console.log('Step 5 basePrice:', totalBasePrice);\n                console.log('Step 5 vatAmount:', vatAmount);\n                // For updates, we can include additional data like papers, finishing, amounts\n                const updateData = {\n                    ...quoteData,\n                    salesPersonId: formData.salesPersonId,\n                    colors: ((_formData_products_4 = formData.products[0]) === null || _formData_products_4 === void 0 ? void 0 : _formData_products_4.colors) || null,\n                    papers: {\n                        create: formData.operational.papers.map((operationalPaper, index)=>{\n                            var _formData_products_;\n                            // Get the corresponding paper name and gsm from product papers\n                            const productPaper = ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.papers[index]) || null;\n                            return {\n                                name: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.name) || \"Standard Paper\",\n                                gsm: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.gsm) ? parseInt(productPaper.gsm) : 150,\n                                inputWidth: operationalPaper.inputWidth || 0,\n                                inputHeight: operationalPaper.inputHeight || 0,\n                                pricePerPacket: operationalPaper.pricePerPacket || 0,\n                                pricePerSheet: operationalPaper.pricePerSheet || 0,\n                                sheetsPerPacket: operationalPaper.sheetsPerPacket || 1,\n                                recommendedSheets: operationalPaper.recommendedSheets || 1,\n                                enteredSheets: operationalPaper.enteredSheets || 1,\n                                outputWidth: operationalPaper.outputWidth || 0,\n                                outputHeight: operationalPaper.outputHeight || 0,\n                                selectedColors: operationalPaper.selectedColors || \"\"\n                            };\n                        }) || []\n                    },\n                    finishing: {\n                        create: formData.operational.finishing.map((finish)=>({\n                                name: finish.name || \"Standard Finishing\",\n                                cost: finish.cost || 0\n                            })) || []\n                    },\n                    amounts: {\n                        create: {\n                            base: totalBasePrice,\n                            vat: vatAmount,\n                            total: totalPrice // Use Step 5 total price - EXACTLY the same as Step 5 final price\n                        }\n                    },\n                    operational: {\n                        create: {\n                            plates: formData.operational.plates || 0,\n                            units: formData.operational.units || 0\n                        }\n                    }\n                };\n                // Validate and clean the update data before sending\n                const cleanedUpdateData = validateAndCleanQuoteData(updateData);\n                console.log('Quote data being sent for update:', cleanedUpdateData);\n                quoteResponse = await fetch(\"/api/quotes/\".concat(selectedQuoteId), {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(cleanedUpdateData)\n                });\n                if (!quoteResponse.ok) {\n                    const errorText = await quoteResponse.text();\n                    console.error('Quote update failed:', quoteResponse.status, errorText);\n                    throw new Error(\"Failed to update quote: \".concat(quoteResponse.status, \" - \").concat(errorText));\n                }\n                savedQuote = await quoteResponse.json();\n                console.log('Quote updated successfully:', savedQuote);\n                // Show success message for update\n                alert('Quote updated successfully!');\n                return;\n            } else {\n                var _formData_products_5;\n                // Create new quote - even if using existing customer, this is a new quote\n                console.log('Creating new quote with complete details');\n                console.log('=== COMPLETE QUOTE DATA DEBUG ===');\n                console.log('formData.salesPersonId:', formData.salesPersonId);\n                console.log('formData.operational.papers:', formData.operational.papers);\n                console.log('formData.operational.finishing:', formData.operational.finishing);\n                // Generate a unique quote ID in proper format: QT-YYYY-MMDD-XXX\n                const now = new Date();\n                const year = now.getFullYear();\n                const month = String(now.getMonth() + 1).padStart(2, '0');\n                const day = String(now.getDate()).padStart(2, '0');\n                const randomNum = String(Math.floor(Math.random() * 1000)).padStart(3, '0');\n                const quoteId = \"QT-\".concat(year, \"-\").concat(month).concat(day, \"-\").concat(randomNum);\n                // Use Step 5 calculation results directly - no recalculation needed\n                const totalPrice = formData.calculation.totalPrice || 0;\n                const totalBasePrice = formData.calculation.basePrice || 0;\n                const vatAmount = formData.calculation.vatAmount || 0;\n                console.log('=== USING STEP 5 CALCULATION RESULTS ===');\n                console.log('Step 5 totalPrice:', totalPrice);\n                console.log('Step 5 basePrice:', totalBasePrice);\n                console.log('Step 5 vatAmount:', vatAmount);\n                // Prepare complete quote data with all details\n                const completeQuoteData = {\n                    ...quoteData,\n                    quoteId: quoteId,\n                    salesPersonId: formData.salesPersonId,\n                    colors: ((_formData_products_5 = formData.products[0]) === null || _formData_products_5 === void 0 ? void 0 : _formData_products_5.colors) || null,\n                    papers: {\n                        create: formData.operational.papers.map((operationalPaper, index)=>{\n                            var _formData_products_;\n                            // Get the corresponding paper name and gsm from product papers\n                            const productPaper = ((_formData_products_ = formData.products[0]) === null || _formData_products_ === void 0 ? void 0 : _formData_products_.papers[index]) || null;\n                            return {\n                                name: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.name) || \"Standard Paper\",\n                                gsm: (productPaper === null || productPaper === void 0 ? void 0 : productPaper.gsm) ? parseInt(productPaper.gsm) : 150,\n                                inputWidth: operationalPaper.inputWidth || 0,\n                                inputHeight: operationalPaper.inputHeight || 0,\n                                pricePerPacket: operationalPaper.pricePerPacket || 0,\n                                pricePerSheet: operationalPaper.pricePerSheet || 0,\n                                sheetsPerPacket: operationalPaper.sheetsPerPacket || 1,\n                                recommendedSheets: operationalPaper.recommendedSheets || 1,\n                                enteredSheets: operationalPaper.enteredSheets || 1,\n                                outputWidth: operationalPaper.outputWidth || 0,\n                                outputHeight: operationalPaper.outputHeight || 0,\n                                selectedColors: operationalPaper.selectedColors || \"\"\n                            };\n                        }) || []\n                    },\n                    finishing: {\n                        create: formData.operational.finishing.map((finish)=>({\n                                name: finish.name || \"Standard Finishing\",\n                                cost: finish.cost || 0\n                            })) || []\n                    },\n                    amounts: {\n                        create: {\n                            base: totalBasePrice,\n                            vat: vatAmount,\n                            total: totalPrice // Use Step 5 total price - EXACTLY the same as Step 5 final price\n                        }\n                    },\n                    operational: {\n                        create: {\n                            plates: formData.operational.plates || 0,\n                            units: formData.operational.units || 0\n                        }\n                    }\n                };\n                // Validate and clean the data before sending\n                const cleanedQuoteData = validateAndCleanQuoteData(completeQuoteData);\n                console.log('=== FINAL QUOTE DATA DEBUG ===');\n                console.log('Original quoteData:', quoteData);\n                console.log('Complete quote data before cleaning:', completeQuoteData);\n                console.log('=== AMOUNTS DEBUG - USING STEP 5 VALUES ===');\n                console.log('formData.calculation:', formData.calculation);\n                console.log('Step 5 totalPrice being saved:', totalPrice);\n                console.log('Step 5 basePrice being saved:', totalBasePrice);\n                console.log('Step 5 vatAmount being saved:', vatAmount);\n                console.log('completeQuoteData.amounts:', completeQuoteData.amounts);\n                console.log('Cleaned amounts:', cleanedQuoteData.amounts);\n                console.log('Cleaned quote data being sent:', cleanedQuoteData);\n                console.log('salesPersonId in cleaned data:', cleanedQuoteData.salesPersonId);\n                quoteResponse = await fetch('/api/quotes', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(cleanedQuoteData)\n                });\n                if (!quoteResponse.ok) {\n                    const errorText = await quoteResponse.text();\n                    console.error('Quote creation failed:', quoteResponse.status, errorText);\n                    throw new Error(\"Failed to create quote: \".concat(quoteResponse.status, \" - \").concat(errorText));\n                }\n                savedQuote = await quoteResponse.json();\n                console.log('Quote created successfully with all details:', savedQuote);\n            }\n            // Show success modal only for new quotes\n            if (!isUpdate) {\n                setSaveModalOpen(true);\n            }\n        } catch (error) {\n            console.error('Error saving quote:', error);\n            // Use a more user-friendly error message\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n            const action = selectedQuoteId && isUpdate ? 'updating' : 'creating';\n            alert(\"Error \".concat(action, \" quote: \").concat(errorMessage));\n        } finally{\n            setIsSaving(false);\n        }\n    };\n    const handleDownloadCustomerFromModal = async ()=>{\n        await (0,_lib_quote_pdf__WEBPACK_IMPORTED_MODULE_12__.downloadCustomerPdf)(formData, otherQuantities);\n        setSaveModalOpen(false);\n    };\n    const handleDownloadOpsFromModal = async ()=>{\n        await (0,_lib_quote_pdf__WEBPACK_IMPORTED_MODULE_12__.downloadOpsPdf)(formData, otherQuantities);\n        setSaveModalOpen(false);\n    };\n    const handleCloseAndGoHome = ()=>{\n        setSaveModalOpen(false);\n        router.push(\"/\");\n    };\n    // Handle approval status changes from Step5\n    const handleApprovalStatusChange = (needsApproval, reason)=>{\n        setRequiresApproval(needsApproval);\n        setApprovalReason(reason);\n    };\n    const renderStepContent = ()=>{\n        switch(currentStep){\n            case 1:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center space-y-2 sm:space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                    children: \"Create A Quote\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1740,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-base sm:text-lg text-slate-600\",\n                                    children: \"Choose how you'd like to create your printing quote\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1741,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1739,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                    className: \"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer group \".concat(quoteMode === \"new\" ? \"ring-4 ring-blue-500 ring-opacity-50 bg-blue-50\" : \"\"),\n                                    onClick: handleStartNew,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                        className: \"p-4 sm:p-6 lg:p-8 text-center space-y-4 sm:space-y-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"w-8 h-8 sm:w-10 sm:h-10 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1755,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1754,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2 sm:space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                                        children: \"Create New Quote\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1758,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm sm:text-base text-slate-600 leading-relaxed\",\n                                                        children: \"Start a fresh quotation from scratch. Perfect for new projects, custom requirements, or when you need complete control over the quote details.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1759,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1757,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"pt-2 sm:pt-4\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                    className: \"w-full bg-[#27aae1] hover:bg-[#1e8bc3] text-white py-2 sm:py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-sm sm:text-base\",\n                                                    onClick: handleStartNew,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                            className: \"w-4 h-4 sm:w-5 sm:h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                            lineNumber: 1768,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Start New Quote\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1764,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1763,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1753,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1747,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                    className: \"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer group \".concat(quoteMode === \"existing\" ? \"ring-4 ring-blue-500 ring-opacity-50 bg-blue-50\" : \"\"),\n                                    onClick: ()=>{\n                                        // Clear default product data when entering existing quote mode\n                                        setFormData((prev)=>({\n                                                ...prev,\n                                                products: [] // Clear products array - will be populated from selected quote\n                                            }));\n                                        setQuoteMode(\"existing\");\n                                        setSelectedQuoteId(null); // Will be set when a specific quote is selected\n                                        setSelectedCustomer(null);\n                                    // Don't auto-navigate - just set the mode for selection\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                        className: \"p-4 sm:p-6 lg:p-8 text-center space-y-4 sm:space-y-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                    className: \"w-8 h-8 sm:w-10 sm:h-10 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1794,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1793,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2 sm:space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                                        children: \"Based on Previous Quote\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1797,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm sm:text-base text-slate-600 leading-relaxed\",\n                                                        children: \"Use an existing quote as a template. Save time by modifying previous specifications, pricing, and customer details for similar projects.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 1798,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1796,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"pt-2 sm:pt-4\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                    className: \"w-full bg-[#27aae1] hover:bg-[#1e8bc3] text-white py-2 sm:py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-sm sm:text-base\",\n                                                    onClick: ()=>{\n                                                        // Clear default product data when entering existing quote mode\n                                                        setFormData((prev)=>({\n                                                                ...prev,\n                                                                products: [] // Clear products array - will be populated from selected quote\n                                                            }));\n                                                        setQuoteMode(\"existing\");\n                                                        setSelectedQuoteId(null); // Will be set when a specific quote is selected\n                                                        setSelectedCustomer(null);\n                                                    // Don't auto-navigate - just set the mode for selection\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            className: \"w-4 h-4 sm:w-5 sm:h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                            lineNumber: 1817,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Use Existing Quote\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1803,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1802,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1792,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1776,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1745,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center text-slate-500 max-w-2xl mx-auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs sm:text-sm\",\n                                children: \"Both options will guide you through the same comprehensive quote creation process, ensuring accuracy and consistency in your printing estimates.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1827,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1826,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1737,\n                    columnNumber: 11\n                }, this);\n            case 2:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        quoteMode === \"new\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center space-y-2 sm:space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl sm:text-2xl font-bold text-slate-900\",\n                                    children: \"Customer Details\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1839,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-base sm:text-base text-slate-600\",\n                                    children: \"Fill in the customer information for your new quote\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1840,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1838,\n                            columnNumber: 15\n                        }, this),\n                        quoteMode === \"existing\" ? // Use Step2CustomerChoose component for existing quote mode\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step2CustomerChoose__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            formData: formData,\n                            setFormData: setFormData,\n                            onCustomerSelect: handleCustomerSelect,\n                            onQuoteSelect: handleQuoteSelect\n                        }, void 0, false, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1848,\n                            columnNumber: 15\n                        }, this) : // Show empty customer detail form for new quote\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white p-6 rounded-xl border border-slate-200 shadow-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"w-2 h-2 bg-[#27aae1] rounded-full mr-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                            lineNumber: 1858,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"New Customer Details\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1857,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step2CustomerDetail__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    formData: formData,\n                                    setFormData: setFormData\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1861,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                            lineNumber: 1856,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1836,\n                    columnNumber: 11\n                }, this);\n            case 3:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step3ProductSpec__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    formData: formData,\n                    setFormData: setFormData\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1868,\n                    columnNumber: 11\n                }, this);\n            case 4:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_components_create_quote_steps_Step4Operational__WEBPACK_IMPORTED_MODULE_10___default()), {\n                    formData: formData,\n                    setFormData: setFormData\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1872,\n                    columnNumber: 11\n                }, this);\n            case 5:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_steps_Step5Quotation__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    formData: formData,\n                    setFormData: setFormData,\n                    otherQuantities: otherQuantities,\n                    setOtherQuantities: setOtherQuantities,\n                    onOpenSave: ()=>{\n                        // Validate form data before opening save modal\n                        if (validateFormData()) {\n                            setSaveModalOpen(true);\n                        }\n                    },\n                    isEditMode: !!selectedQuoteId,\n                    selectedQuoteId: selectedQuoteId,\n                    onSubmitQuote: async (updatedFormData)=>{\n                        // This function will be called by Step5Quotation to actually submit the quote\n                        try {\n                            // Update the form data first\n                            setFormData(updatedFormData);\n                            // Then call the actual save function\n                            await handleSaveQuote(false);\n                            console.log('Quote submitted successfully from Step5Quotation');\n                        } catch (error) {\n                            console.error('Error submitting quote from Step5Quotation:', error);\n                            throw error; // Re-throw to let Step5Quotation handle the error\n                        }\n                    },\n                    onApprovalStatusChange: handleApprovalStatusChange\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1876,\n                    columnNumber: 11\n                }, this);\n            default:\n                return null;\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 sm:p-6 lg:p-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-7xl mx-auto space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                    className: \"border-0 shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                        className: \"p-4 sm:p-6 lg:p-10 space-y-6 sm:space-y-10\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_create_quote_StepIndicator__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                activeStep: currentStep,\n                                quoteMode: quoteMode\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1918,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 sm:mt-8\",\n                                children: renderStepContent()\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1923,\n                                columnNumber: 13\n                            }, this),\n                            currentStep === 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 sm:mt-6\",\n                                children: !canProceedFromStep1() ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-yellow-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1932,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1931,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-yellow-700 font-medium text-sm sm:text-base\",\n                                                children: 'Please select either \"Create New Quote\" or \"Based on Previous Quote\" to continue'\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1934,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1930,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1929,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"âœ“\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1943,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1942,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-green-700 font-medium text-sm sm:text-base\",\n                                                children: quoteMode === \"new\" ? \"New quote mode selected. You can proceed to the next step.\" : \"Existing quote mode selected. You can proceed to the next step.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1945,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1941,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1940,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1927,\n                                columnNumber: 15\n                            }, this),\n                            currentStep === 3 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 sm:mt-6\",\n                                children: !canProceedFromStep3() ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-yellow-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1960,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1959,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-yellow-700 font-medium text-sm sm:text-base\",\n                                                children: quoteMode === \"existing\" && !selectedQuoteId ? \"Please select a specific quote to edit first.\" : \"Please select at least one paper for your products to continue. Use the \\\"Browse Available Papers\\\" button to add papers from the database.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1962,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1958,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1957,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"âœ“\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 1974,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1973,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-green-700 font-medium text-sm sm:text-base\",\n                                                children: quoteMode === \"existing\" ? \"Quote loaded and paper selection complete. You can now proceed to the operational step.\" : \"Paper selection complete. You can now proceed to the operational step.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 1976,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1972,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                    lineNumber: 1971,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1955,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-slate-200 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full sm:w-auto\",\n                                        children: currentStep > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            variant: \"outline\",\n                                            onClick: prevStep,\n                                            className: \"border-slate-300 hover:border-slate-400 hover:bg-slate-50 px-6 sm:px-8 py-3 rounded-xl transition-all duration-300 w-full sm:w-auto\",\n                                            children: \"Previous\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                            lineNumber: 1991,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 1989,\n                                        columnNumber: 15\n                                    }, this),\n                                    currentStep < 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative w-full sm:w-auto\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                onClick: nextStep,\n                                                disabled: isNextButtonDisabled(),\n                                                className: \"px-6 sm:px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto \".concat(isNextButtonDisabled() ? \"bg-gray-400 cursor-not-allowed\" : \"bg-[#27aae1] hover:bg-[#1e8bc3] text-white\"),\n                                                title: isNextButtonDisabled() ? currentStep === 1 ? \"Please select a quote mode to continue\" : currentStep === 2 && quoteMode === \"existing\" ? \"Please select a specific quote to edit\" : currentStep === 3 && quoteMode === \"existing\" && !selectedQuoteId ? \"Please select a specific quote to edit first\" : currentStep === 3 ? \"Please select at least one paper for your products\" : \"Please complete the required information to continue\" : \"Click to proceed to the next step\",\n                                                children: \"Next\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2002,\n                                                columnNumber: 19\n                                            }, this),\n                                            isNextButtonDisabled() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg shadow-lg whitespace-nowrap z-10\",\n                                                children: [\n                                                    currentStep === 1 ? \"Select a quote mode first\" : currentStep === 2 && quoteMode === \"existing\" ? \"Select a specific quote to edit first\" : currentStep === 3 && quoteMode === \"existing\" && !selectedQuoteId ? \"Select a specific quote to edit first\" : currentStep === 3 ? \"Select at least one paper first\" : \"Complete required fields first\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                        lineNumber: 2038,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2027,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2001,\n                                        columnNumber: 17\n                                    }, this),\n                                    currentStep === 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        onClick: ()=>handleSaveQuote(false),\n                                        disabled: isSaving,\n                                        className: \"bg-[#27aae1] hover:bg-[#1e8bc3] text-white px-6 sm:px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto\",\n                                        children: isSaving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2052,\n                                                    columnNumber: 23\n                                                }, this),\n                                                \"Submitting...\"\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_FileText_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                    className: \"w-5 h-5 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2057,\n                                                    columnNumber: 23\n                                                }, this),\n                                                \"Submit Quote\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2045,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 1988,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 1917,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 1916,\n                    columnNumber: 9\n                }, this),\n                saveModalOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-2xl p-6 sm:p-8 w-full max-w-md text-center shadow-2xl\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl sm:text-2xl font-bold text-slate-900 mb-3\",\n                                children: \"Quote Submitted Successfully!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2070,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-slate-600 mb-6 text-sm sm:text-base\",\n                                children: requiresApproval ? \"Your quote has been submitted for management approval and will appear in the Quote Management page once approved.\" : \"Your quote has been submitted and will appear in the Quote Management page.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2073,\n                                columnNumber: 15\n                            }, this),\n                            requiresApproval && approvalReason && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-xl\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2 mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs font-bold\",\n                                                    children: \"!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2084,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2083,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-semibold text-orange-800\",\n                                                children: \"Approval Required\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2086,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2082,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-orange-700 text-sm\",\n                                        children: approvalReason\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2088,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-orange-600 text-xs mt-2\",\n                                        children: \"Management will be notified automatically. You'll receive an update once approved.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2089,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2081,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    !requiresApproval && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                className: \"w-full bg-[#ea078b] hover:bg-[#d4067a] text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                                    href: \"mailto:\".concat(formData.client.email),\n                                                    children: \"Send to Customer\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                    lineNumber: 2099,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2098,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                className: \"w-full bg-[#f89d1d] hover:bg-[#e88a0a] text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\",\n                                                onClick: handleDownloadCustomerFromModal,\n                                                children: \"Download for Customer\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                                lineNumber: 2103,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true),\n                                    !requiresApproval && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        className: \"w-full bg-[#27aae1] hover:bg-[#1e8bc3] text-white py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300\",\n                                        onClick: handleDownloadOpsFromModal,\n                                        children: \"Download Operations Copy\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2114,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        variant: \"outline\",\n                                        onClick: ()=>{\n                                            setSaveModalOpen(false);\n                                            router.push(\"/\");\n                                        },\n                                        className: \"w-full py-3 rounded-xl border-slate-300 hover:border-slate-400 hover:bg-slate-400 transition-all duration-300\",\n                                        children: \"Close & Go to Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                        lineNumber: 2122,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                                lineNumber: 2095,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 2069,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                    lineNumber: 2068,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n            lineNumber: 1914,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n        lineNumber: 1913,\n        columnNumber: 5\n    }, this);\n}\n_s(CreateQuoteContent, \"PLR8gEBq8a8m58a+Fg/2Qcv23+g=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_5__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_5__.useSearchParams\n    ];\n});\n_c = CreateQuoteContent;\n// Main component with Suspense boundary\nfunction CreateQuotePage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-[#27aae1] mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 2147,\n                        columnNumber: 11\n                    }, void 0),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-lg text-slate-600\",\n                        children: \"Loading quote creation...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                        lineNumber: 2148,\n                        columnNumber: 11\n                    }, void 0)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n                lineNumber: 2146,\n                columnNumber: 9\n            }, void 0)\n        }, void 0, false, {\n            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n            lineNumber: 2145,\n            columnNumber: 7\n        }, void 0),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CreateQuoteContent, {}, void 0, false, {\n            fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n            lineNumber: 2152,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/Alifka_Roosseo/Desktop/Project/Smart-printing-update/app/(root)/create-quote/page.tsx\",\n        lineNumber: 2144,\n        columnNumber: 5\n    }, this);\n}\n_c1 = CreateQuotePage;\nvar _c, _c1;\n$RefreshReg$(_c, \"CreateQuoteContent\");\n$RefreshReg$(_c1, \"CreateQuotePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8ocm9vdCkvY3JlYXRlLXF1b3RlL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTZEO0FBQ0o7QUFDVDtBQUV1QztBQUMxRDtBQUNnQztBQUNPO0FBQ2tCO0FBQ0E7QUFDTjtBQUNBO0FBQ0o7QUFFSTtBQUMvQjtBQUNHO0FBR3BELE1BQU15QixlQUF3QztJQUM1Q0MsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLGVBQWU7SUFDZkMsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxhQUFhO0lBQ2JDLE1BQU07SUFDTkMsU0FBUztJQUNUQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsWUFBWTtJQUNaQyxTQUFTO0lBQ1RDLGdCQUFnQjtBQUNsQjtBQUdBLHdEQUF3RDtBQUN4RCxTQUFTQzs7SUFDUCxNQUFNQyxTQUFTN0IsMERBQVNBO0lBQ3hCLE1BQU04QixlQUFlN0IsZ0VBQWVBO0lBQ3BDLE1BQU0sQ0FBQzhCLGFBQWFDLGVBQWUsR0FBRzVDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQzZDLFdBQVdDLGFBQWEsR0FBRzlDLCtDQUFRQSxDQUE0QjtJQUN0RSxNQUFNLENBQUMrQyxlQUFlQyxpQkFBaUIsR0FBR2hELCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQ2lELFVBQVVDLFlBQVksR0FBR2xELCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ21ELGtCQUFrQkMsb0JBQW9CLEdBQUdwRCwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUNxRCxnQkFBZ0JDLGtCQUFrQixHQUFHdEQsK0NBQVFBO0lBQ3BELE1BQU0sQ0FBQ3VELGtCQUFrQkMsb0JBQW9CLEdBQUd4RCwrQ0FBUUEsQ0FlOUM7SUFDVixNQUFNLENBQUN5RCxpQkFBaUJDLG1CQUFtQixHQUFHMUQsK0NBQVFBLENBQWdCO0lBQ3RFLE1BQU0sQ0FBQzJELGdCQUFnQkMsa0JBQWtC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REFBQ3pCLHlEQUFNQTtnREFDTCtWLFdBQVU7Z0RBQ1ZFLFNBQVNWOzBEQUNWOzs7Ozs7OztvQ0FPSixDQUFDelMsa0NBQ0EsOERBQUM5Qyx5REFBTUE7d0NBQ0wrVixXQUFVO3dDQUNWRSxTQUFTVDtrREFDVjs7Ozs7O2tEQUtILDhEQUFDeFYseURBQU1BO3dDQUNMNFcsU0FBUTt3Q0FDUlgsU0FBUzs0Q0FDUHRULGlCQUFpQjs0Q0FDakJQLE9BQU9nRixJQUFJLENBQUM7d0NBQ2Q7d0NBQ0EyTyxXQUFVO2tEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWpCO0dBampFUzVUOztRQUNRNUIsc0RBQVNBO1FBQ0hDLDREQUFlQTs7O0tBRjdCMkI7QUFtakVULHdDQUF3QztBQUN6QixTQUFTNFU7SUFDdEIscUJBQ0UsOERBQUNsWCwyQ0FBUUE7UUFBQ21YLHdCQUNSLDhEQUFDbEI7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTs7Ozs7O2tDQUNmLDhEQUFDblA7d0JBQUVtUCxXQUFVO2tDQUE4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBSS9DLDRFQUFDNVQ7Ozs7Ozs7Ozs7QUFHUDtNQWJ3QjRVIiwic291cmNlcyI6WyIvVXNlcnMvQWxpZmthX1Jvb3NzZW8vRGVza3RvcC9Qcm9qZWN0L1NtYXJ0LXByaW50aW5nLXVwZGF0ZS9hcHAvKHJvb3QpL2NyZWF0ZS1xdW90ZS9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIFN1c3BlbnNlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvY2FyZFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgUGx1cywgU3BhcmtsZXMsIENvcHksIEZpbGVUZXh0LCBFeWUsIEVkaXQsIFNlYXJjaCwgU2F2ZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVJvdXRlciwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IFN0ZXBJbmRpY2F0b3IgZnJvbSBcIkAvY29tcG9uZW50cy9jcmVhdGUtcXVvdGUvU3RlcEluZGljYXRvclwiO1xuaW1wb3J0IFN0ZXAyQ3VzdG9tZXJDaG9vc2UgZnJvbSBcIkAvY29tcG9uZW50cy9jcmVhdGUtcXVvdGUvc3RlcHMvU3RlcDJDdXN0b21lckNob29zZVwiO1xuaW1wb3J0IFN0ZXAyQ3VzdG9tZXJEZXRhaWwgZnJvbSBcIkAvY29tcG9uZW50cy9jcmVhdGUtcXVvdGUvc3RlcHMvU3RlcDJDdXN0b21lckRldGFpbFwiO1xuaW1wb3J0IFN0ZXAzUHJvZHVjdFNwZWMgZnJvbSBcIkAvY29tcG9uZW50cy9jcmVhdGUtcXVvdGUvc3RlcHMvU3RlcDNQcm9kdWN0U3BlY1wiO1xuaW1wb3J0IFN0ZXA0T3BlcmF0aW9uYWwgZnJvbSBcIkAvY29tcG9uZW50cy9jcmVhdGUtcXVvdGUvc3RlcHMvU3RlcDRPcGVyYXRpb25hbFwiO1xuaW1wb3J0IFN0ZXA1UXVvdGF0aW9uIGZyb20gXCJAL2NvbXBvbmVudHMvY3JlYXRlLXF1b3RlL3N0ZXBzL1N0ZXA1UXVvdGF0aW9uXCI7XG5pbXBvcnQgeyBRdW90ZUZvcm1EYXRhIH0gZnJvbSBcIkAvdHlwZXNcIjtcbmltcG9ydCB7IGRvd25sb2FkQ3VzdG9tZXJQZGYsIGRvd25sb2FkT3BzUGRmLCBPdGhlclF0eSB9IGZyb20gXCJAL2xpYi9xdW90ZS1wZGZcIjtcbmltcG9ydCB7IFFVT1RFX0RFVEFJTFMgfSBmcm9tIFwiQC9saWIvZHVtbXktZGF0YVwiO1xuaW1wb3J0IHsgZGV0YWlsVG9Gb3JtIH0gZnJvbSBcIkAvbGliL2RldGFpbC10by1mb3JtXCI7XG5pbXBvcnQgeyBQcmV2aW91c1F1b3RlIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuY29uc3QgRU1QVFlfQ0xJRU5UOiBRdW90ZUZvcm1EYXRhW1wiY2xpZW50XCJdID0ge1xuICBjbGllbnRUeXBlOiBcIkluZGl2aWR1YWxcIixcbiAgY29tcGFueU5hbWU6IFwiXCIsXG4gIGNvbnRhY3RQZXJzb246IFwiXCIsXG4gIGZpcnN0TmFtZTogXCJcIixcbiAgbGFzdE5hbWU6IFwiXCIsXG4gIGVtYWlsOiBcIlwiLFxuICBwaG9uZTogXCJcIixcbiAgY291bnRyeUNvZGU6IFwiKzk3MVwiLFxuICByb2xlOiBcIlwiLFxuICBhZGRyZXNzOiBcIlwiLFxuICBjaXR5OiBcIlwiLFxuICBzdGF0ZTogXCJcIixcbiAgcG9zdGFsQ29kZTogXCJcIixcbiAgY291bnRyeTogXCJEdWJhaVwiLFxuICBhZGRpdGlvbmFsSW5mbzogXCJcIixcbn07XG5cblxuLy8gQ3JlYXRlIGEgc2VwYXJhdGUgY29tcG9uZW50IHRoYXQgdXNlcyB1c2VTZWFyY2hQYXJhbXNcbmZ1bmN0aW9uIENyZWF0ZVF1b3RlQ29udGVudCgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xuICBjb25zdCBbY3VycmVudFN0ZXAsIHNldEN1cnJlbnRTdGVwXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbcXVvdGVNb2RlLCBzZXRRdW90ZU1vZGVdID0gdXNlU3RhdGU8XCJuZXdcIiB8IFwiZXhpc3RpbmdcIiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2F2ZU1vZGFsT3Blbiwgc2V0U2F2ZU1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1NhdmluZywgc2V0SXNTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVxdWlyZXNBcHByb3ZhbCwgc2V0UmVxdWlyZXNBcHByb3ZhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthcHByb3ZhbFJlYXNvbiwgc2V0QXBwcm92YWxSZWFzb25dID0gdXNlU3RhdGU8c3RyaW5nIHwgdW5kZWZpbmVkPigpO1xuICBjb25zdCBbc2VsZWN0ZWRDdXN0b21lciwgc2V0U2VsZWN0ZWRDdXN0b21lcl0gPSB1c2VTdGF0ZTx7XG4gICAgaWQ/OiBzdHJpbmc7IC8vIEFkZCBvcHRpb25hbCBJRCBmaWVsZCBmb3IgZXhpc3RpbmcgY3VzdG9tZXJzXG4gICAgY2xpZW50VHlwZTogJ0luZGl2aWR1YWwnIHwgJ0NvbXBhbnknO1xuICAgIGNvbXBhbnlOYW1lOiBzdHJpbmcgfCBudWxsO1xuICAgIGNvbnRhY3RQZXJzb246IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBob25lOiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGU6IHN0cmluZztcbiAgICByb2xlOiBzdHJpbmcgfCBudWxsO1xuICAgIGFkZHJlc3M/OiBzdHJpbmc7XG4gICAgY2l0eT86IHN0cmluZztcbiAgICBzdGF0ZT86IHN0cmluZztcbiAgICBwb3N0YWxDb2RlPzogc3RyaW5nO1xuICAgIGNvdW50cnk/OiBzdHJpbmc7XG4gICAgYWRkaXRpb25hbEluZm8/OiBzdHJpbmc7XG4gIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkUXVvdGVJZCwgc2V0U2VsZWN0ZWRRdW90ZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3VzdG9tZXJTZWFyY2gsIHNldEN1c3RvbWVyU2VhcmNoXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2hvd0N1c3RvbWVyTGlzdCwgc2V0U2hvd0N1c3RvbWVyTGlzdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgW2Zvcm1EYXRhLCBzZXRGb3JtRGF0YV0gPSB1c2VTdGF0ZTxRdW90ZUZvcm1EYXRhPih7XG4gICAgY2xpZW50OiB7IC4uLkVNUFRZX0NMSUVOVCB9LFxuICAgIHByb2R1Y3RzOiBbXSxcbiAgICBvcGVyYXRpb25hbDoge1xuICAgICAgcGFwZXJzOiBbXSxcbiAgICAgIGZpbmlzaGluZzogW10sXG4gICAgICBwbGF0ZXM6IG51bGwsXG4gICAgICB1bml0czogbnVsbCxcbiAgICAgIGltcHJlc3Npb25zOiBudWxsLFxuICAgIH0sXG4gICAgY2FsY3VsYXRpb246IHtcbiAgICAgIGJhc2VQcmljZTogMCxcbiAgICAgIG1hcmdpbkFtb3VudDogMCxcbiAgICAgIG1hcmdpblBlcmNlbnRhZ2U6IDMwLCAvLyBEZWZhdWx0IDMwJVxuICAgICAgc3VidG90YWw6IDAsXG4gICAgICBmaW5hbFN1YnRvdGFsOiAwLFxuICAgICAgdmF0QW1vdW50OiAwLFxuICAgICAgdG90YWxQcmljZTogMCxcbiAgICB9LFxuICB9KTtcblxuICAvLyA9PT09PSBORVc6IHN0YXRlIHVudHVrIE90aGVyIFF1YW50aXRpZXMgZGkgcGFyZW50XG4gIGNvbnN0IG1haW5Qcm9kdWN0ID0gZm9ybURhdGEucHJvZHVjdHNbMF07XG4gIGNvbnN0IFtvdGhlclF1YW50aXRpZXMsIHNldE90aGVyUXVhbnRpdGllc10gPSB1c2VTdGF0ZTxPdGhlclF0eVtdPihbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRPdGhlclF1YW50aXRpZXMoKHByZXYpID0+XG4gICAgICBwcmV2Lmxlbmd0aCA9PT0gMFxuICAgICAgICA/IHByZXZcbiAgICAgICAgOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLnByZXZbMF0sXG4gICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBtYWluUHJvZHVjdD8ucHJvZHVjdE5hbWUgPz8gcHJldlswXS5wcm9kdWN0TmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi5wcmV2LnNsaWNlKDEpLFxuICAgICAgICAgIF1cbiAgICApO1xuICB9LCBbbWFpblByb2R1Y3Q/LnByb2R1Y3ROYW1lXSk7XG5cbiAgLy8gTW9uaXRvciBmb3JtIGRhdGEgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdQYXJlbnQ6IEZvcm0gZGF0YSB1cGRhdGVkOicsIGZvcm1EYXRhKTtcbiAgICBjb25zb2xlLmxvZygnUGFyZW50OiBDbGllbnQgZGF0YTonLCBmb3JtRGF0YS5jbGllbnQpO1xuICAgIGNvbnNvbGUubG9nKCdQYXJlbnQ6IENsaWVudCBmaXJzdE5hbWU6JywgZm9ybURhdGEuY2xpZW50LmZpcnN0TmFtZSk7XG4gICAgY29uc29sZS5sb2coJ1BhcmVudDogQ2xpZW50IGxhc3ROYW1lOicsIGZvcm1EYXRhLmNsaWVudC5sYXN0TmFtZSk7XG4gICAgY29uc29sZS5sb2coJ1BhcmVudDogQ2xpZW50IGNvbnRhY3RQZXJzb246JywgZm9ybURhdGEuY2xpZW50LmNvbnRhY3RQZXJzb24pO1xuICB9LCBbZm9ybURhdGFdKTtcblxuICAvLyBIYW5kbGUgVVJMIHBhcmFtZXRlcnMgZm9yIHN0ZXAgYW5kIGVkaXQgbW9kZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0ZXBQYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N0ZXAnKTtcbiAgICBjb25zdCBlZGl0UGFyYW0gPSBzZWFyY2hQYXJhbXMuZ2V0KCdlZGl0Jyk7XG4gICAgXG4gICAgaWYgKHN0ZXBQYXJhbSkge1xuICAgICAgY29uc3Qgc3RlcE51bWJlciA9IHBhcnNlSW50KHN0ZXBQYXJhbSk7XG4gICAgICBpZiAoc3RlcE51bWJlciA+PSAxICYmIHN0ZXBOdW1iZXIgPD0gNSkge1xuICAgICAgICBzZXRDdXJyZW50U3RlcChzdGVwTnVtYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKGVkaXRQYXJhbSkge1xuICAgICAgc2V0UXVvdGVNb2RlKFwiZXhpc3RpbmdcIik7XG4gICAgICBzZXRTZWxlY3RlZFF1b3RlSWQobnVsbCk7IC8vIFdpbGwgYmUgc2V0IHdoZW4gYSBzcGVjaWZpYyBxdW90ZSBpcyBzZWxlY3RlZFxuICAgICAgLy8gWW91IGNhbiBsb2FkIGV4aXN0aW5nIHF1b3RlIGRhdGEgaGVyZSBpZiBuZWVkZWRcbiAgICB9XG4gIH0sIFtzZWFyY2hQYXJhbXNdKTtcblxuICAvLyBNZW1vaXplIHRoZSBwcm9kdWN0cyBmaW5pc2hpbmcgY2hlY2sgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzXG4gIGNvbnN0IHByb2R1Y3RzRmluaXNoaW5nQ2hlY2sgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZm9ybURhdGEucHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gKHtcbiAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0LnByb2R1Y3ROYW1lLFxuICAgICAgZmluaXNoaW5nOiBwcm9kdWN0LmZpbmlzaGluZ1xuICAgIH0pKTtcbiAgfSwgW2Zvcm1EYXRhLnByb2R1Y3RzXSk7XG5cbiAgLy8gTkVXOiBTeW5jaHJvbml6ZSBvcGVyYXRpb25hbCBmaW5pc2hpbmcgd2hlbiBwcm9kdWN0IGZpbmlzaGluZyBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gR2V0IGFsbCB1bmlxdWUgZmluaXNoaW5nIG5hbWVzIGZyb20gYWxsIHByb2R1Y3RzXG4gICAgY29uc3QgYWxsRmluaXNoaW5nTmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBcbiAgICAvLyBTYWZldHkgY2hlY2s6IGVuc3VyZSBmb3JtRGF0YS5wcm9kdWN0cyBleGlzdHMgYW5kIGlzIHZhbGlkXG4gICAgaWYgKCFmb3JtRGF0YS5wcm9kdWN0cyB8fCAhQXJyYXkuaXNBcnJheShmb3JtRGF0YS5wcm9kdWN0cykgfHwgZm9ybURhdGEucHJvZHVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBGaW5pc2hpbmcgc3luY2hyb25pemF0aW9uIHNraXBwZWQ6IG5vIHByb2R1Y3RzIGF2YWlsYWJsZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBmb3JtRGF0YS5wcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xuICAgICAgaWYgKHByb2R1Y3QuZmluaXNoaW5nICYmIEFycmF5LmlzQXJyYXkocHJvZHVjdC5maW5pc2hpbmcpKSB7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgYW55IHVuZGVmaW5lZCBvciBudWxsIHZhbHVlc1xuICAgICAgICBjb25zdCB2YWxpZEZpbmlzaGluZyA9IHByb2R1Y3QuZmluaXNoaW5nLmZpbHRlcihmID0+IGYgIT0gbnVsbCAmJiBmICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB2YWxpZEZpbmlzaGluZy5mb3JFYWNoKGZpbmlzaGluZyA9PiB7XG4gICAgICAgICAgLy8gSGFuZGxlIGJvdGggc2ltcGxlIHN0cmluZ3MgYW5kIFwib3B0aW9uLXNpZGVcIiBmb3JtYXRcbiAgICAgICAgICBpZiAodHlwZW9mIGZpbmlzaGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VOYW1lID0gZmluaXNoaW5nLmluY2x1ZGVzKCctJykgPyBmaW5pc2hpbmcuc3BsaXQoJy0nKVswXSA6IGZpbmlzaGluZztcbiAgICAgICAgICAgIGFsbEZpbmlzaGluZ05hbWVzLmFkZChiYXNlTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpbmlzaGluZyBzeW5jaHJvbml6YXRpb24gdHJpZ2dlcmVkOicsIHtcbiAgICAgIHByb2R1Y3RGaW5pc2hpbmc6IGZvcm1EYXRhLnByb2R1Y3RzLm1hcChwID0+IHAuZmluaXNoaW5nKSxcbiAgICAgIGFsbEZpbmlzaGluZ05hbWVzOiBBcnJheS5mcm9tKGFsbEZpbmlzaGluZ05hbWVzKSxcbiAgICAgIGN1cnJlbnRPcGVyYXRpb25hbEZpbmlzaGluZzogZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nXG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgb3BlcmF0aW9uYWwgZmluaXNoaW5nIHRvIGluY2x1ZGUgYWxsIHNlbGVjdGVkIGZpbmlzaGluZyBvcHRpb25zXG4gICAgc2V0Rm9ybURhdGEocHJldiA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50T3BlcmF0aW9uYWxGaW5pc2hpbmcgPSBwcmV2Lm9wZXJhdGlvbmFsLmZpbmlzaGluZyB8fCBbXTtcbiAgICAgIGNvbnN0IG5ld09wZXJhdGlvbmFsRmluaXNoaW5nID0gWy4uLmN1cnJlbnRPcGVyYXRpb25hbEZpbmlzaGluZ107XG5cbiAgICAgIC8vIEFkZCBuZXcgZmluaXNoaW5nIG9wdGlvbnMgdGhhdCBkb24ndCBleGlzdCB5ZXRcbiAgICAgIGFsbEZpbmlzaGluZ05hbWVzLmZvckVhY2goZmluaXNoaW5nTmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmluaXNoaW5nID0gY3VycmVudE9wZXJhdGlvbmFsRmluaXNoaW5nLmZpbmQoZiA9PiBmLm5hbWUgPT09IGZpbmlzaGluZ05hbWUpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nRmluaXNoaW5nKSB7XG4gICAgICAgICAgLy8gQWRkIHdpdGggZGVmYXVsdCBjb3N0XG4gICAgICAgICAgbmV3T3BlcmF0aW9uYWxGaW5pc2hpbmcucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBmaW5pc2hpbmdOYW1lLFxuICAgICAgICAgICAgY29zdDogMCAvLyBEZWZhdWx0IGNvc3QsIHVzZXIgY2FuIGVkaXQgaW4gc3RlcCA0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgZmluaXNoaW5nIG9wdGlvbnMgdGhhdCBhcmUgbm8gbG9uZ2VyIHNlbGVjdGVkIGJ5IGFueSBwcm9kdWN0XG4gICAgICBjb25zdCBmaWx0ZXJlZEZpbmlzaGluZyA9IG5ld09wZXJhdGlvbmFsRmluaXNoaW5nLmZpbHRlcihmaW5pc2hpbmcgPT4gXG4gICAgICAgIGFsbEZpbmlzaGluZ05hbWVzLmhhcyhmaW5pc2hpbmcubmFtZSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXBkYXRlZCBvcGVyYXRpb25hbCBmaW5pc2hpbmc6JywgZmlsdGVyZWRGaW5pc2hpbmcpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBvcGVyYXRpb25hbDoge1xuICAgICAgICAgIC4uLnByZXYub3BlcmF0aW9uYWwsXG4gICAgICAgICAgZmluaXNoaW5nOiBmaWx0ZXJlZEZpbmlzaGluZ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9LCBbZm9ybURhdGEucHJvZHVjdHNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IE1BUkdJTl9QRVJDRU5UQUdFID0gMC4zO1xuICAgIGNvbnN0IFZBVF9QRVJDRU5UQUdFID0gMC4wNTtcblxuICAgIC8vIDEuIFBhcGVyIENvc3RzIChwcmljZSBwZXIgc2hlZXQgw5cgZW50ZXJlZCBzaGVldHMpXG4gICAgY29uc3QgcGFwZXJDb3N0ID0gZm9ybURhdGEub3BlcmF0aW9uYWwucGFwZXJzLnJlZHVjZSgodG90YWwsIHApID0+IHtcbiAgICAgIC8vIE1hbnVhbCBwcmljaW5nIG92ZXJyaWRlOiB1c2UgZGlyZWN0IHByaWNlIHBlciBzaGVldCBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIHVzZSBwYWNrZXQgcHJpY2luZ1xuICAgICAgY29uc3QgcHJpY2VQZXJTaGVldCA9IHAucHJpY2VQZXJTaGVldCB8fCBcbiAgICAgICAgKHAucHJpY2VQZXJQYWNrZXQgJiYgcC5zaGVldHNQZXJQYWNrZXQgJiYgcC5zaGVldHNQZXJQYWNrZXQgPiAwIFxuICAgICAgICAgID8gcC5wcmljZVBlclBhY2tldCAvIHAuc2hlZXRzUGVyUGFja2V0IFxuICAgICAgICAgIDogMCk7XG4gICAgICBjb25zdCBhY3R1YWxTaGVldHNOZWVkZWQgPSBwLmVudGVyZWRTaGVldHMgfHwgMDtcbiAgICAgIHJldHVybiB0b3RhbCArIChwcmljZVBlclNoZWV0ICogYWN0dWFsU2hlZXRzTmVlZGVkKTtcbiAgICB9LCAwKTtcblxuICAgIC8vIDIuIFBsYXRlcyBDb3N0IChwZXIgcGxhdGUsIHR5cGljYWxseSAkMjUtNTAgcGVyIHBsYXRlKVxuICAgIGNvbnN0IFBMQVRFX0NPU1RfUEVSX1BMQVRFID0gMzU7IC8vIFN0YW5kYXJkIHBsYXRlIGNvc3RcbiAgICBjb25zdCBwbGF0ZXNDb3N0ID0gKGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBsYXRlcyB8fCAwKSAqIFBMQVRFX0NPU1RfUEVSX1BMQVRFO1xuXG4gICAgLy8gMy4gRmluaXNoaW5nIENvc3RzIChjb3N0IHBlciB1bml0IMOXIGFjdHVhbCB1bml0cyBuZWVkZWQpXG4gICAgY29uc3QgYWN0dWFsVW5pdHNOZWVkZWQgPSBmb3JtRGF0YS5vcGVyYXRpb25hbC51bml0cyB8fCBmb3JtRGF0YS5wcm9kdWN0c1swXT8ucXVhbnRpdHkgfHwgMDtcbiAgICBjb25zdCBmaW5pc2hpbmdDb3N0ID0gZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nLnJlZHVjZSgodG90YWwsIGYpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgZmluaXNoaW5nIGlzIHVzZWQgYnkgYW55IHByb2R1Y3QgdXNpbmcgbWVtb2l6ZWQgY2hlY2tcbiAgICAgIGNvbnN0IGlzVXNlZEJ5QW55UHJvZHVjdCA9IHByb2R1Y3RzRmluaXNoaW5nQ2hlY2suc29tZShwcm9kdWN0ID0+IFxuICAgICAgICBwcm9kdWN0LmZpbmlzaGluZy5pbmNsdWRlcyhmLm5hbWUpXG4gICAgICApO1xuICAgICAgaWYgKGlzVXNlZEJ5QW55UHJvZHVjdCkge1xuICAgICAgICByZXR1cm4gdG90YWwgKyAoKGYuY29zdCB8fCAwKSAqIGFjdHVhbFVuaXRzTmVlZGVkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LCAwKTtcblxuICAgIC8vIDQuIENhbGN1bGF0ZSB0b3RhbCBjb3N0cyB3aXRoIGZhbGxiYWNrIGZvciBtaXNzaW5nIG9wZXJhdGlvbmFsIGRhdGFcbiAgICBsZXQgYmFzZVByaWNlID0gcGFwZXJDb3N0ICsgcGxhdGVzQ29zdCArIGZpbmlzaGluZ0Nvc3Q7XG4gICAgXG4gICAgLy8gRmFsbGJhY2s6IElmIG5vIG9wZXJhdGlvbmFsIGRhdGEsIHVzZSBiYXNpYyBwcm9kdWN0IGNhbGN1bGF0aW9uXG4gICAgaWYgKGJhc2VQcmljZSA9PT0gMCAmJiBmb3JtRGF0YS5wcm9kdWN0c1swXSkge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IGZvcm1EYXRhLnByb2R1Y3RzWzBdO1xuICAgICAgY29uc3QgcXVhbnRpdHkgPSBwcm9kdWN0LnF1YW50aXR5IHx8IDA7XG4gICAgICBcbiAgICAgIC8vIEJhc2ljIHByaWNpbmcgYmFzZWQgb24gcHJvZHVjdCB0eXBlIGFuZCBxdWFudGl0eVxuICAgICAgbGV0IGJhc2VQcmljZVBlclVuaXQgPSAwO1xuICAgICAgc3dpdGNoIChwcm9kdWN0LnByb2R1Y3ROYW1lKSB7XG4gICAgICAgIGNhc2UgJ0J1c2luZXNzIENhcmQnOlxuICAgICAgICAgIGJhc2VQcmljZVBlclVuaXQgPSAwLjA4OyAvLyAkMC4wOCBwZXIgY2FyZFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdGbHllciBBNSc6XG4gICAgICAgICAgYmFzZVByaWNlUGVyVW5pdCA9IDAuMTU7IC8vICQwLjE1IHBlciBmbHllclxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQb3N0ZXIgQTInOlxuICAgICAgICAgIGJhc2VQcmljZVBlclVuaXQgPSAyLjUwOyAvLyAkMi41MCBwZXIgcG9zdGVyXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hZ2F6aW5lJzpcbiAgICAgICAgICBiYXNlUHJpY2VQZXJVbml0ID0gMS4wMDsgLy8gJDEuMDAgcGVyIG1hZ2F6aW5lXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FydCBCb29rJzpcbiAgICAgICAgICBiYXNlUHJpY2VQZXJVbml0ID0gMS4wMDsgLy8gJDEuMDAgcGVyIGJvb2tcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnU3RpY2tlciBQYWNrJzpcbiAgICAgICAgICBiYXNlUHJpY2VQZXJVbml0ID0gMC41MDsgLy8gJDAuNTAgcGVyIHN0aWNrZXIgcGFja1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJhc2VQcmljZVBlclVuaXQgPSAwLjEwOyAvLyBEZWZhdWx0ICQwLjEwIHBlciB1bml0XG4gICAgICB9XG4gICAgICBcbiAgICAgIGJhc2VQcmljZSA9IHF1YW50aXR5ICogYmFzZVByaWNlUGVyVW5pdDtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIGFkZGl0aW9uYWwgY29zdHMgdG8gYmFzZSBwcmljZVxuICAgIGNvbnN0IGFkZGl0aW9uYWxDb3N0c1RvdGFsID0gZm9ybURhdGEuYWRkaXRpb25hbENvc3RzPy5yZWR1Y2UoKHRvdGFsLCBjb3N0KSA9PiB0b3RhbCArIChjb3N0LmNvc3QgfHwgMCksIDApIHx8IDA7XG4gICAgY29uc3QgdG90YWxCYXNlUHJpY2UgPSBiYXNlUHJpY2UgKyBhZGRpdGlvbmFsQ29zdHNUb3RhbDtcbiAgICBcbiAgICBjb25zdCBtYXJnaW5BbW91bnQgPSB0b3RhbEJhc2VQcmljZSAqIE1BUkdJTl9QRVJDRU5UQUdFO1xuICAgIGNvbnN0IHN1YnRvdGFsID0gdG90YWxCYXNlUHJpY2UgKyBtYXJnaW5BbW91bnQ7XG4gICAgY29uc3QgdmF0QW1vdW50ID0gc3VidG90YWwgKiBWQVRfUEVSQ0VOVEFHRTtcbiAgICBjb25zdCB0b3RhbFByaWNlID0gc3VidG90YWwgKyB2YXRBbW91bnQ7XG5cbiAgICBjb25zb2xlLmxvZyhcIkNhbGN1bGF0aW9uIHRyaWdnZXJlZDpcIiwge1xuICAgICAgcGFwZXJDb3N0LFxuICAgICAgcGxhdGVzQ29zdCxcbiAgICAgIGZpbmlzaGluZ0Nvc3QsXG4gICAgICBiYXNlUHJpY2UsXG4gICAgICBtYXJnaW5BbW91bnQsXG4gICAgICBzdWJ0b3RhbCxcbiAgICAgIHZhdEFtb3VudCxcbiAgICAgIHRvdGFsUHJpY2UsXG4gICAgICBwcm9kdWN0c0ZpbmlzaGluZ0NoZWNrLFxuICAgICAgYWN0dWFsVW5pdHNOZWVkZWRcbiAgICB9KTtcblxuICAgIHNldEZvcm1EYXRhKChwcmV2KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGNhbGN1bGF0aW9uOiB7IFxuICAgICAgICBiYXNlUHJpY2U6IHRvdGFsQmFzZVByaWNlLCAvLyBJbmNsdWRlIGFkZGl0aW9uYWwgY29zdHNcbiAgICAgICAgbWFyZ2luQW1vdW50LCBcbiAgICAgICAgbWFyZ2luUGVyY2VudGFnZTogTUFSR0lOX1BFUkNFTlRBR0UgKiAxMDAsIC8vIENvbnZlcnQgdG8gcGVyY2VudGFnZVxuICAgICAgICBzdWJ0b3RhbCwgXG4gICAgICAgIGZpbmFsU3VidG90YWw6IHN1YnRvdGFsLCAvLyBTYW1lIGFzIHN1YnRvdGFsIGZvciBub3dcbiAgICAgICAgdmF0QW1vdW50LCBcbiAgICAgICAgdG90YWxQcmljZSBcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9LCBbXG4gICAgZm9ybURhdGEub3BlcmF0aW9uYWwucGFwZXJzLFxuICAgIGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBsYXRlcyxcbiAgICBmb3JtRGF0YS5vcGVyYXRpb25hbC51bml0cyxcbiAgICBmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmcsXG4gICAgZm9ybURhdGEuYWRkaXRpb25hbENvc3RzLFxuICAgIHByb2R1Y3RzRmluaXNoaW5nQ2hlY2ssXG4gICAgZm9ybURhdGEucHJvZHVjdHNcbiAgXSk7XG5cbiAgY29uc3QgbmV4dFN0ZXAgPSAoKSA9PiBzZXRDdXJyZW50U3RlcCgocykgPT4gTWF0aC5taW4oNSwgcyArIDEpKTtcbiAgY29uc3QgcHJldlN0ZXAgPSAoKSA9PiBzZXRDdXJyZW50U3RlcCgocykgPT4gTWF0aC5tYXgoMSwgcyAtIDEpKTtcblxuICAvLyBTY3JvbGwgdG8gdG9wIHdoZW5ldmVyIHN0ZXAgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNjcm9sbCB0byB0b3AgaW1tZWRpYXRlbHkgYW5kIHNtb290aGx5XG4gICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgXG4gICAgLy8gQWxzbyBlbnN1cmUgdGhlIG1haW4gY29udGFpbmVyIGlzIGF0IHRoZSB0b3BcbiAgICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1pbi1oLXNjcmVlbicpO1xuICAgIGlmIChtYWluQ29udGFpbmVyKSB7XG4gICAgICBtYWluQ29udGFpbmVyLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVtb3ZlIGZvY3VzIGZyb20gYW55IGF1dG8tZm9jdXNlZCBlbGVtZW50cyB0byBwcmV2ZW50IHNjcm9sbFxuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChhY3RpdmVFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQuYmx1cikge1xuICAgICAgYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgfVxuICB9LCBbY3VycmVudFN0ZXBdKTtcblxuICAvLyBBZGQgdmFsaWRhdGlvbiBmdW5jdGlvbnMgZm9yIE5leHQgYnV0dG9uXG4gIGNvbnN0IGNhblByb2NlZWRGcm9tU3RlcDEgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHF1b3RlTW9kZSAhPT0gbnVsbDsgLy8gVXNlciBtdXN0IHNlbGVjdCBlaXRoZXIgbmV3IG9yIGV4aXN0aW5nIHF1b3RlIG1vZGVcbiAgfTtcblxuICBjb25zdCBjYW5Qcm9jZWVkRnJvbVN0ZXAyID0gKCkgPT4ge1xuICAgIGlmIChxdW90ZU1vZGUgPT09IFwibmV3XCIpIHtcbiAgICAgIC8vIEZvciBuZXcgcXVvdGUgbW9kZSwgdmFsaWRhdGUgYWxsIGVzc2VudGlhbCBmaWVsZHMgaW5jbHVkaW5nIG5ldyBvbmVzXG4gICAgICBjb25zdCBjbGllbnQgPSBmb3JtRGF0YS5jbGllbnQ7XG4gICAgICBcbiAgICAgIC8vIEJhc2ljIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgY29uc3QgZXNzZW50aWFsRmllbGRzID0gW1xuICAgICAgICBjbGllbnQuZmlyc3ROYW1lLCAvLyBGaXJzdCBuYW1lIGlzIHJlcXVpcmVkXG4gICAgICAgIGNsaWVudC5lbWFpbCwgICAgIC8vIEVtYWlsIGlzIHJlcXVpcmVkXG4gICAgICAgIGNsaWVudC5waG9uZSAgICAgIC8vIFBob25lIGlzIHJlcXVpcmVkXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBBZGQgY29tcGFueS1zcGVjaWZpYyByZXF1aXJlZCBmaWVsZHMgb25seSBpZiBjb21wYW55IHR5cGVcbiAgICAgIGlmIChjbGllbnQuY2xpZW50VHlwZSA9PT0gXCJDb21wYW55XCIpIHtcbiAgICAgICAgZXNzZW50aWFsRmllbGRzLnB1c2goY2xpZW50LmNvbXBhbnlOYW1lKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYmFzaWMgZmllbGRzIGFyZSBmaWxsZWRcbiAgICAgIGNvbnN0IGJhc2ljRmllbGRzVmFsaWQgPSBlc3NlbnRpYWxGaWVsZHMuZXZlcnkoZmllbGQgPT4gZmllbGQgJiYgZmllbGQudHJpbSgpICE9PSBcIlwiKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgVFJOIHJlcXVpcmVtZW50IChlaXRoZXIgVFJOIGZpbGxlZCBvciBcIk5vIFRSTlwiIHNlbGVjdGVkKVxuICAgICAgY29uc3QgdHJuVmFsaWQgPSBjbGllbnQuaGFzTm9Ucm4gfHwgKGNsaWVudC50cm4gJiYgY2xpZW50LnRybi50cmltKCkgIT09IFwiXCIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBBcmVhIHJlcXVpcmVtZW50XG4gICAgICBjb25zdCBhcmVhVmFsaWQgPSBjbGllbnQuYXJlYSAmJiBjbGllbnQuYXJlYS50cmltKCkgIT09IFwiXCI7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIFN0YXRlIGFuZCBDb3VudHJ5IChzaG91bGQgaGF2ZSBkZWZhdWx0cylcbiAgICAgIGNvbnN0IHN0YXRlVmFsaWQgPSBjbGllbnQuc3RhdGUgJiYgY2xpZW50LnN0YXRlLnRyaW0oKSAhPT0gXCJcIjtcbiAgICAgIGNvbnN0IGNvdW50cnlWYWxpZCA9IGNsaWVudC5jb3VudHJ5ICYmIGNsaWVudC5jb3VudHJ5LnRyaW0oKSAhPT0gXCJcIjtcbiAgICAgIFxuICAgICAgcmV0dXJuIGJhc2ljRmllbGRzVmFsaWQgJiYgdHJuVmFsaWQgJiYgYXJlYVZhbGlkICYmIHN0YXRlVmFsaWQgJiYgY291bnRyeVZhbGlkO1xuICAgIH0gZWxzZSBpZiAocXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCIpIHtcbiAgICAgIC8vIEZvciBleGlzdGluZyBxdW90ZSBtb2RlLCB3ZSBuZWVkIHRvIHNlbGVjdCBhbiBhY3R1YWwgZXhpc3RpbmcgcXVvdGVcbiAgICAgIHJldHVybiBzZWxlY3RlZFF1b3RlSWQgIT09IG51bGw7IC8vIE11c3QgaGF2ZSBzZWxlY3RlZCBhIHNwZWNpZmljIHF1b3RlIHRvIGVkaXRcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IGNhblByb2NlZWRGcm9tU3RlcDMgPSAoKSA9PiB7XG4gICAgLy8gRm9yIGV4aXN0aW5nIHF1b3Rlcywgd2UgbmVlZCB0byBjaGVjayBpZiBhIHF1b3RlIGlzIHNlbGVjdGVkIGZpcnN0XG4gICAgaWYgKHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiICYmICFzZWxlY3RlZFF1b3RlSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFN0ZXAgMyBWYWxpZGF0aW9uOiBObyBxdW90ZSBzZWxlY3RlZCBmb3IgZXhpc3RpbmcgbW9kZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoYXQgYXQgbGVhc3Qgb25lIHByb2R1Y3QgaGFzIGJlZW4gY29uZmlndXJlZCB3aXRoIGEgcGFwZXJcbiAgICBpZiAoIWZvcm1EYXRhLnByb2R1Y3RzIHx8IGZvcm1EYXRhLnByb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gU3RlcCAzIFZhbGlkYXRpb246IE5vIHByb2R1Y3RzIGZvdW5kJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGVidWc6IExvZyBhbGwgcHJvZHVjdHMgYW5kIHRoZWlyIHBhcGVyc1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFN0ZXAgMyBWYWxpZGF0aW9uIERlYnVnOicsIHtcbiAgICAgIHF1b3RlTW9kZSxcbiAgICAgIHNlbGVjdGVkUXVvdGVJZCxcbiAgICAgIHByb2R1Y3RzQ291bnQ6IGZvcm1EYXRhLnByb2R1Y3RzLmxlbmd0aCxcbiAgICAgIHByb2R1Y3RzOiBmb3JtRGF0YS5wcm9kdWN0cy5tYXAoKHByb2R1Y3QsIGluZGV4KSA9PiAoe1xuICAgICAgICBpbmRleCxcbiAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3QucHJvZHVjdE5hbWUsXG4gICAgICAgIHBhcGVyc0NvdW50OiBwcm9kdWN0LnBhcGVycz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgIHBhcGVyczogcHJvZHVjdC5wYXBlcnM/Lm1hcCgocGFwZXIsIHBJbmRleCkgPT4gKHtcbiAgICAgICAgICBwSW5kZXgsXG4gICAgICAgICAgbmFtZTogcGFwZXIubmFtZSxcbiAgICAgICAgICBnc206IHBhcGVyLmdzbSxcbiAgICAgICAgICBpc1ZhbGlkOiBwYXBlci5uYW1lICYmIHBhcGVyLm5hbWUgIT09IFwiU2VsZWN0IFBhcGVyXCIgJiYgcGFwZXIubmFtZS50cmltKCkgIT09IFwiXCJcbiAgICAgICAgfSkpIHx8IFtdXG4gICAgICB9KSlcbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBwcm9kdWN0IGhhcyBhIHZhbGlkIHBhcGVyIHNlbGVjdGVkIChub3QgXCJTZWxlY3QgUGFwZXJcIilcbiAgICBjb25zdCBoYXNWYWxpZFBhcGVyID0gZm9ybURhdGEucHJvZHVjdHMuc29tZShwcm9kdWN0ID0+IFxuICAgICAgcHJvZHVjdC5wYXBlcnMgJiYgcHJvZHVjdC5wYXBlcnMubGVuZ3RoID4gMCAmJiBcbiAgICAgIHByb2R1Y3QucGFwZXJzLnNvbWUocGFwZXIgPT4gXG4gICAgICAgIHBhcGVyLm5hbWUgJiYgXG4gICAgICAgIHBhcGVyLm5hbWUgIT09IFwiU2VsZWN0IFBhcGVyXCIgJiYgXG4gICAgICAgIHBhcGVyLm5hbWUudHJpbSgpICE9PSBcIlwiXG4gICAgICApXG4gICAgKTtcblxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFN0ZXAgMyBWYWxpZGF0aW9uIFJlc3VsdDonLCBoYXNWYWxpZFBhcGVyKTtcbiAgICByZXR1cm4gaGFzVmFsaWRQYXBlcjtcbiAgfTtcblxuICBjb25zdCBpc05leHRCdXR0b25EaXNhYmxlZCA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudFN0ZXAgPT09IDEpIHtcbiAgICAgIGNvbnN0IGRpc2FibGVkID0gIWNhblByb2NlZWRGcm9tU3RlcDEoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIE5leHQgQnV0dG9uIC0gU3RlcCAxOicsIGRpc2FibGVkKTtcbiAgICAgIHJldHVybiBkaXNhYmxlZDtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRTdGVwID09PSAyKSB7XG4gICAgICBjb25zdCBkaXNhYmxlZCA9ICFjYW5Qcm9jZWVkRnJvbVN0ZXAyKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBOZXh0IEJ1dHRvbiAtIFN0ZXAgMjonLCBkaXNhYmxlZCk7XG4gICAgICByZXR1cm4gZGlzYWJsZWQ7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50U3RlcCA9PT0gMykge1xuICAgICAgY29uc3QgZGlzYWJsZWQgPSAhY2FuUHJvY2VlZEZyb21TdGVwMygpO1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gTmV4dCBCdXR0b24gLSBTdGVwIDM6JywgZGlzYWJsZWQpO1xuICAgICAgcmV0dXJuIGRpc2FibGVkO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygn8J+UjSBOZXh0IEJ1dHRvbiAtIE90aGVyIHN0ZXA6JywgZmFsc2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdGFydE5ldyA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgbmV3IHF1b3RlIC0gcmVzZXR0aW5nIGFsbCBkYXRhJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgY29tcGxldGVseSBjbGVhbiBjbGllbnQgb2JqZWN0XG4gICAgY29uc3QgY2xlYW5DbGllbnQgPSB7XG4gICAgICBjbGllbnRUeXBlOiBcIkNvbXBhbnlcIiBhcyBjb25zdCxcbiAgICAgIGNvbXBhbnlOYW1lOiBcIlwiLFxuICAgICAgY29udGFjdFBlcnNvbjogXCJcIixcbiAgICAgIGZpcnN0TmFtZTogXCJcIixcbiAgICAgIGxhc3ROYW1lOiBcIlwiLFxuICAgICAgZW1haWw6IFwiXCIsXG4gICAgICBlbWFpbHM6IEpTT04uc3RyaW5naWZ5KFtcIlwiXSksXG4gICAgICBwaG9uZTogXCJcIixcbiAgICAgIGNvdW50cnlDb2RlOiBcIis5NzFcIixcbiAgICAgIHJvbGU6IFwiXCIsXG4gICAgICB0cm46IFwiXCIsXG4gICAgICBoYXNOb1RybjogZmFsc2UsXG4gICAgICBhZGRyZXNzOiBcIlwiLFxuICAgICAgY2l0eTogXCJcIixcbiAgICAgIGFyZWE6IFwiXCIsXG4gICAgICBzdGF0ZTogXCJEdWJhaVwiLFxuICAgICAgcG9zdGFsQ29kZTogXCJcIixcbiAgICAgIGNvdW50cnk6IFwiVUFFXCIsXG4gICAgICBhZGRpdGlvbmFsSW5mbzogXCJcIixcbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdDbGVhbiBjbGllbnQgb2JqZWN0IGNyZWF0ZWQ6JywgY2xlYW5DbGllbnQpO1xuICAgIFxuICAgIC8vIFJlc2V0IGZvcm0gZGF0YSBjb21wbGV0ZWx5XG4gICAgc2V0Rm9ybURhdGEoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld0Zvcm1EYXRhID0geyBcbiAgICAgICAgLi4ucHJldiwgXG4gICAgICAgIGNsaWVudDogY2xlYW5DbGllbnQsXG4gICAgICAgIC8vIFN0YXJ0IHdpdGggY29tcGxldGVseSBlbXB0eSBwcm9kdWN0cyBhcnJheSBmb3IgbmV3IHF1b3Rlc1xuICAgICAgICBwcm9kdWN0czogW11cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdOZXcgZm9ybSBkYXRhIHNldDonLCBuZXdGb3JtRGF0YSk7XG4gICAgICByZXR1cm4gbmV3Rm9ybURhdGE7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmVzZXQgYWxsIGN1c3RvbWVyLXJlbGF0ZWQgc3RhdGVcbiAgICBzZXRRdW90ZU1vZGUoXCJuZXdcIik7XG4gICAgc2V0U2VsZWN0ZWRRdW90ZUlkKG51bGwpO1xuICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIobnVsbCk7XG4gICAgLy8gRG9uJ3QgYXV0by1uYXZpZ2F0ZSAtIGp1c3Qgc2V0IHRoZSBtb2RlIGZvciBzZWxlY3Rpb25cbiAgICBcbiAgICBjb25zb2xlLmxvZygnTmV3IHF1b3RlIG1vZGUgc2VsZWN0ZWQgLSByZWFkeSBmb3IgbmV4dCBzdGVwJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0UXVvdGUgPSAocTogUHJldmlvdXNRdW90ZSkgPT4ge1xuICAgIGNvbnN0IGRldGFpbCA9IFFVT1RFX0RFVEFJTFNbcS5pZF07XG4gICAgaWYgKCFkZXRhaWwpIHJldHVybjtcbiAgICBzZXRGb3JtRGF0YSgocHJldikgPT4gZGV0YWlsVG9Gb3JtKGRldGFpbCwgcHJldikpO1xuICAgIHNldFF1b3RlTW9kZShcImV4aXN0aW5nXCIpO1xuICAgIHNldFNlbGVjdGVkUXVvdGVJZChxLmlkKTsgLy8gU2V0IHRoZSBzZWxlY3RlZCBxdW90ZSBJRCBmb3IgdXBkYXRpbmdcbiAgICAvLyBEb24ndCBhdXRvLW5hdmlnYXRlIC0ganVzdCBzZXQgdGhlIG1vZGUgZm9yIHNlbGVjdGlvblxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdEN1c3RvbWVyID0gKGN1c3RvbWVyOiB7XG4gICAgaWQ/OiBzdHJpbmc7IC8vIEFkZCBvcHRpb25hbCBJRCBmaWVsZCBmb3IgZXhpc3RpbmcgY3VzdG9tZXJzXG4gICAgY2xpZW50VHlwZTogJ0luZGl2aWR1YWwnIHwgJ0NvbXBhbnknO1xuICAgIGNvbXBhbnlOYW1lOiBzdHJpbmc7XG4gICAgY29udGFjdFBlcnNvbjogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgcGhvbmU6IHN0cmluZztcbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nO1xuICAgIHJvbGU6IHN0cmluZztcbiAgICBhZGRyZXNzPzogc3RyaW5nO1xuICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvPzogc3RyaW5nO1xuICB9KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRDdXN0b21lcihjdXN0b21lcik7XG4gICAgc2V0Rm9ybURhdGEoKHByZXYpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgY2xpZW50OiB7XG4gICAgICAgIGNsaWVudFR5cGU6IGN1c3RvbWVyLmNsaWVudFR5cGUgYXMgJ0luZGl2aWR1YWwnIHwgJ0NvbXBhbnknLFxuICAgICAgICBjb21wYW55TmFtZTogY3VzdG9tZXIuY29tcGFueU5hbWUgfHwgJycsXG4gICAgICAgIGNvbnRhY3RQZXJzb246IGN1c3RvbWVyLmNvbnRhY3RQZXJzb24sXG4gICAgICAgIGVtYWlsOiBjdXN0b21lci5lbWFpbCxcbiAgICAgICAgcGhvbmU6IGN1c3RvbWVyLnBob25lLFxuICAgICAgICBjb3VudHJ5Q29kZTogY3VzdG9tZXIuY291bnRyeUNvZGUsXG4gICAgICAgIHJvbGU6IGN1c3RvbWVyLnJvbGUgfHwgJycsXG4gICAgICAgIGFkZHJlc3M6IGN1c3RvbWVyLmFkZHJlc3MgfHwgJycsXG4gICAgICAgIGNpdHk6IGN1c3RvbWVyLmNpdHkgfHwgJycsXG4gICAgICAgIHN0YXRlOiBjdXN0b21lci5zdGF0ZSB8fCAnJyxcbiAgICAgICAgcG9zdGFsQ29kZTogY3VzdG9tZXIucG9zdGFsQ29kZSB8fCAnJyxcbiAgICAgICAgY291bnRyeTogY3VzdG9tZXIuY291bnRyeSB8fCAnJyxcbiAgICAgICAgYWRkaXRpb25hbEluZm86IGN1c3RvbWVyLmFkZGl0aW9uYWxJbmZvIHx8ICcnLFxuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFZGl0Q3VzdG9tZXIgPSAoY3VzdG9tZXI6IHtcbiAgICBjbGllbnRUeXBlOiAnSW5kaXZpZHVhbCcgfCAnQ29tcGFueSc7XG4gICAgY29tcGFueU5hbWU6IHN0cmluZztcbiAgICBjb250YWN0UGVyc29uOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBwaG9uZTogc3RyaW5nO1xuICAgIGNvdW50cnlDb2RlOiBzdHJpbmc7XG4gICAgcm9sZTogc3RyaW5nO1xuICAgIGFkZHJlc3M/OiBzdHJpbmc7XG4gICAgY2l0eT86IHN0cmluZztcbiAgICBzdGF0ZT86IHN0cmluZztcbiAgICBwb3N0YWxDb2RlPzogc3RyaW5nO1xuICAgIGNvdW50cnk/OiBzdHJpbmc7XG4gICAgYWRkaXRpb25hbEluZm8/OiBzdHJpbmc7XG4gIH0pID0+IHtcbiAgICAvLyBIYW5kbGUgZWRpdGluZyBjdXN0b21lciAtIGZvciBub3cganVzdCBzZWxlY3QgaXRcbiAgICBoYW5kbGVTZWxlY3RDdXN0b21lcihjdXN0b21lcik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3VzdG9tZXJTZWxlY3QgPSBhc3luYyAoY3VzdG9tZXI6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGNsaWVudFR5cGU/OiBzdHJpbmc7XG4gICAgY29tcGFueU5hbWU/OiBzdHJpbmc7XG4gICAgY29udGFjdFBlcnNvbjogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG4gICAgY291bnRyeUNvZGU/OiBzdHJpbmc7XG4gICAgcm9sZT86IHN0cmluZztcbiAgICBhZGRyZXNzPzogc3RyaW5nO1xuICAgIGNpdHk/OiBzdHJpbmc7XG4gICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuICAgIGFkZGl0aW9uYWxJbmZvPzogc3RyaW5nO1xuICB9KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRDdXN0b21lcih7XG4gICAgICBpZDogY3VzdG9tZXIuaWQsXG4gICAgICBjbGllbnRUeXBlOiAoY3VzdG9tZXIuY2xpZW50VHlwZSB8fCAnSW5kaXZpZHVhbCcpIGFzICdJbmRpdmlkdWFsJyB8ICdDb21wYW55JyxcbiAgICAgIGNvbXBhbnlOYW1lOiBjdXN0b21lci5jb21wYW55TmFtZSB8fCBudWxsLFxuICAgICAgY29udGFjdFBlcnNvbjogY3VzdG9tZXIuY29udGFjdFBlcnNvbixcbiAgICAgIGVtYWlsOiBjdXN0b21lci5lbWFpbCxcbiAgICAgIHBob25lOiBjdXN0b21lci5waG9uZSB8fCAnJyxcbiAgICAgIGNvdW50cnlDb2RlOiBjdXN0b21lci5jb3VudHJ5Q29kZSB8fCAnJyxcbiAgICAgIHJvbGU6IGN1c3RvbWVyLnJvbGUgfHwgbnVsbCxcbiAgICAgIGFkZHJlc3M6IGN1c3RvbWVyLmFkZHJlc3MgfHwgJycsXG4gICAgICBjaXR5OiBjdXN0b21lci5jaXR5IHx8ICcnLFxuICAgICAgc3RhdGU6IGN1c3RvbWVyLnN0YXRlIHx8ICcnLFxuICAgICAgcG9zdGFsQ29kZTogY3VzdG9tZXIucG9zdGFsQ29kZSB8fCAnJyxcbiAgICAgIGNvdW50cnk6IGN1c3RvbWVyLmNvdW50cnkgfHwgJycsXG4gICAgICBhZGRpdGlvbmFsSW5mbzogY3VzdG9tZXIuYWRkaXRpb25hbEluZm8gfHwgJycsXG4gICAgfSk7XG4gICAgLy8gRW5zdXJlIHBob25lIGhhcyBhIHZhbHVlIC0gaWYgZW1wdHksIHVzZSBhIGRlZmF1bHRcbiAgICBjb25zdCBwaG9uZVZhbHVlID0gY3VzdG9tZXIucGhvbmUgJiYgY3VzdG9tZXIucGhvbmUudHJpbSgpICE9PSAnJyA/IGN1c3RvbWVyLnBob25lIDogJzAwMDAwMDAwMDAnO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCc9PT0gQVVUTy1GSUxMSU5HIENMSUVOVCBEQVRBID09PScpO1xuICAgIGNvbnNvbGUubG9nKCdDdXN0b21lciBkYXRhIHJlY2VpdmVkOicsIGN1c3RvbWVyKTtcbiAgICBjb25zb2xlLmxvZygnUGhvbmUgdmFsdWU6JywgcGhvbmVWYWx1ZSk7XG4gICAgY29uc29sZS5sb2coJ0VtYWlsIHZhbHVlOicsIGN1c3RvbWVyLmVtYWlsKTtcbiAgICBcbiAgICBzZXRGb3JtRGF0YSgocHJldikgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBjbGllbnQ6IHtcbiAgICAgICAgY2xpZW50VHlwZTogKGN1c3RvbWVyLmNsaWVudFR5cGUgfHwgJ0luZGl2aWR1YWwnKSBhcyAnSW5kaXZpZHVhbCcgfCAnQ29tcGFueScsXG4gICAgICAgIGNvbXBhbnlOYW1lOiBjdXN0b21lci5jb21wYW55TmFtZSB8fCAnJyxcbiAgICAgICAgY29udGFjdFBlcnNvbjogY3VzdG9tZXIuY29udGFjdFBlcnNvbixcbiAgICAgICAgZW1haWw6IGN1c3RvbWVyLmVtYWlsLFxuICAgICAgICBwaG9uZTogcGhvbmVWYWx1ZSxcbiAgICAgICAgY291bnRyeUNvZGU6IGN1c3RvbWVyLmNvdW50cnlDb2RlIHx8ICcrOTcxJyxcbiAgICAgICAgcm9sZTogY3VzdG9tZXIucm9sZSB8fCAnJyxcbiAgICAgICAgYWRkcmVzczogY3VzdG9tZXIuYWRkcmVzcyB8fCAnJyxcbiAgICAgICAgY2l0eTogY3VzdG9tZXIuY2l0eSB8fCAnJyxcbiAgICAgICAgc3RhdGU6IGN1c3RvbWVyLnN0YXRlIHx8ICcnLFxuICAgICAgICBwb3N0YWxDb2RlOiBjdXN0b21lci5wb3N0YWxDb2RlIHx8ICcnLFxuICAgICAgICBjb3VudHJ5OiBjdXN0b21lci5jb3VudHJ5IHx8ICcnLFxuICAgICAgICBhZGRpdGlvbmFsSW5mbzogY3VzdG9tZXIuYWRkaXRpb25hbEluZm8gfHwgJycsXG4gICAgICB9XG4gICAgfSkpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdGb3JtIGRhdGEgdXBkYXRlZCB3aXRoIGNsaWVudCBpbmZvJyk7XG5cbiAgICAvLyBBdXRvLWZpbGwgU3RlcCAzIGRhdGEgaWYgY3VzdG9tZXIgaGFzIHByZXZpb3VzIHF1b3Rlc1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIHF1b3RlcyBlbmRwb2ludCBhbmQgZmlsdGVyIGJ5IGNsaWVudCBJRFxuICAgICAgY29uc3QgcXVvdGVzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9xdW90ZXMnKTtcbiAgICAgIGlmICghcXVvdGVzUmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggcXVvdGVzIGZvciBhdXRvZmlsbCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBhbGxRdW90ZXMgPSBhd2FpdCBxdW90ZXNSZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zdCBjbGllbnRRdW90ZXMgPSBhbGxRdW90ZXMuZmlsdGVyKChxdW90ZTogYW55KSA9PiBxdW90ZS5jbGllbnRJZCA9PT0gY3VzdG9tZXIuaWQpO1xuICAgICAgXG4gICAgICBpZiAoY2xpZW50UXVvdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gR3JvdXAgcXVvdGVzIGJ5IHF1b3RlSWQgdG8gZ2V0IHF1b3RlIGdyb3VwcyAoYSBxdW90ZSBjYW4gaGF2ZSBtdWx0aXBsZSBwcm9kdWN0cylcbiAgICAgICAgY29uc3QgcXVvdGVHcm91cHMgPSBjbGllbnRRdW90ZXMucmVkdWNlKChncm91cHM6IGFueSwgcXVvdGU6IGFueSkgPT4ge1xuICAgICAgICAgIGlmICghZ3JvdXBzW3F1b3RlLnF1b3RlSWRdKSB7XG4gICAgICAgICAgICBncm91cHNbcXVvdGUucXVvdGVJZF0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBzW3F1b3RlLnF1b3RlSWRdLnB1c2gocXVvdGUpO1xuICAgICAgICAgIHJldHVybiBncm91cHM7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgcXVvdGUgZ3JvdXAgKGJ5IGRhdGUpXG4gICAgICAgIGNvbnN0IGxhdGVzdFF1b3RlSWQgPSBPYmplY3Qua2V5cyhxdW90ZUdyb3Vwcykuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGVBID0gbmV3IERhdGUocXVvdGVHcm91cHNbYV1bMF0uZGF0ZSk7XG4gICAgICAgICAgY29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShxdW90ZUdyb3Vwc1tiXVswXS5kYXRlKTtcbiAgICAgICAgICByZXR1cm4gZGF0ZUIuZ2V0VGltZSgpIC0gZGF0ZUEuZ2V0VGltZSgpO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhdGVzdFF1b3RlcyA9IHF1b3RlR3JvdXBzW2xhdGVzdFF1b3RlSWRdO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ0xhdGVzdCBxdW90ZXMgZm9yIGF1dG9maWxsOicsIGxhdGVzdFF1b3Rlcyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IGRhdGFiYXNlIHF1b3RlcyB0byBwcm9kdWN0cyAtIGNvbnNvbGlkYXRlIGFsbCBwYXBlcnMgaW50byBvbmUgcHJvZHVjdFxuICAgICAgICAvLyBTaW5jZSBhbGwgcXVvdGVzIGluIGxhdGVzdFF1b3RlcyBoYXZlIHRoZSBzYW1lIHF1b3RlSWQsIHRoZXkgcmVwcmVzZW50IG9uZSBwcm9kdWN0IHdpdGggbXVsdGlwbGUgcGFwZXJzXG4gICAgICAgIGNvbnN0IGZpcnN0UXVvdGUgPSBsYXRlc3RRdW90ZXNbMF07XG4gICAgICAgIFxuICAgICAgICAvLyBQYXJzZSBjb2xvcnMgaWYgdGhleSBleGlzdFxuICAgICAgICBsZXQgY29sb3JzOiB7IGZyb250Pzogc3RyaW5nOyBiYWNrPzogc3RyaW5nIH0gfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChmaXJzdFF1b3RlLmNvbG9ycykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb2xvcnMgPSBKU09OLnBhcnNlKGZpcnN0UXVvdGUuY29sb3JzKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSBjb2xvcnMgSlNPTjonLCBmaXJzdFF1b3RlLmNvbG9ycyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDb2xsZWN0IGFsbCBwYXBlcnMgZnJvbSBhbGwgcXVvdGVzIGluIHRoaXMgZ3JvdXBcbiAgICAgICAgbGV0IGFsbFBhcGVyczogYW55W10gPSBbXTtcbiAgICAgICAgbGF0ZXN0UXVvdGVzLmZvckVhY2goKHF1b3RlOiBhbnkpID0+IHtcbiAgICAgICAgICBpZiAocXVvdGUucGFwZXJzICYmIEFycmF5LmlzQXJyYXkocXVvdGUucGFwZXJzKSAmJiBxdW90ZS5wYXBlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcXVvdGUucGFwZXJzLmZvckVhY2goKHA6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAvLyBUcnkgdG8gZmluZCB0aGUgYmVzdCBtYXRjaGluZyBwYXBlciBuYW1lIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgIGxldCBwYXBlck5hbWUgPSBwLm5hbWUgfHwgJ1N0YW5kYXJkIFBhcGVyJztcbiAgICAgICAgICAgICAgbGV0IHBhcGVyR3NtID0gcC5nc20gfHwgJzE1MCc7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBFbnN1cmUgd2UgbmV2ZXIgaGF2ZSBlbXB0eSBzdHJpbmdzXG4gICAgICAgICAgICAgIGlmICghcGFwZXJOYW1lIHx8IHBhcGVyTmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcGFwZXJOYW1lID0gJ1N0YW5kYXJkIFBhcGVyJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBDb252ZXJ0IHBhcGVyR3NtIHRvIHN0cmluZyBhbmQgZW5zdXJlIGl0J3Mgbm90IGVtcHR5XG4gICAgICAgICAgICAgIGlmICghcGFwZXJHc20gfHwgU3RyaW5nKHBhcGVyR3NtKS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcGFwZXJHc20gPSAnMTUwJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgcGFwZXI6ICR7cGFwZXJOYW1lfSB3aXRoIEdTTTogJHtwYXBlckdzbX1gKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBjbGVhbiBwYXBlciBuYW1lIHdpdGhvdXQgYW55IHN1ZmZpeGVzIGZvciBiZXR0ZXIgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgY29uc3QgY2xlYW5QYXBlck5hbWUgPSBwYXBlck5hbWUucmVwbGFjZSgvXFxzKlxcKEN1c3RvbVxcKSQvLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBwYXBlciBpcyBhbHJlYWR5IGFkZGVkIChhdm9pZCBkdXBsaWNhdGVzKVxuICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1BhcGVyID0gYWxsUGFwZXJzLmZpbmQoYXAgPT4gYXAubmFtZSA9PT0gY2xlYW5QYXBlck5hbWUgJiYgYXAuZ3NtID09PSBwYXBlckdzbSk7XG4gICAgICAgICAgICAgIGlmICghZXhpc3RpbmdQYXBlcikge1xuICAgICAgICAgICAgICAgIGFsbFBhcGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGNsZWFuUGFwZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgZ3NtOiBwYXBlckdzbVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgbm8gcGFwZXJzIGZvdW5kLCB1c2UgZGVmYXVsdFxuICAgICAgICBpZiAoYWxsUGFwZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFsbFBhcGVycyA9IFt7IG5hbWU6ICdTdGFuZGFyZCBQYXBlcicsIGdzbTogJzE1MCcgfV07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdGaW5hbCBjb25zb2xpZGF0ZWQgcGFwZXJzIGFycmF5OicsIGFsbFBhcGVycyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQYXBlciBuYW1lcyBiZWluZyBzdG9yZWQ6JywgYWxsUGFwZXJzLm1hcChwID0+IHAubmFtZSkpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgZmluaXNoaW5nIGZyb20gYWxsIHF1b3RlcyBpbiB0aGlzIGdyb3VwXG4gICAgICAgIGxldCBhbGxGaW5pc2hpbmc6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZJTklTSElORyBERUJVRyAtIFByb2Nlc3NpbmcgZmluaXNoaW5nIGZyb20gcXVvdGVzLi4uJyk7XG4gICAgICAgIGxhdGVzdFF1b3Rlcy5mb3JFYWNoKChxdW90ZTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflI0gRklOSVNISU5HIERFQlVHIC0gUXVvdGUgJHtxdW90ZS5xdW90ZUlkfSBmaW5pc2hpbmc6YCwgcXVvdGUuZmluaXNoaW5nKTtcbiAgICAgICAgICBpZiAocXVvdGUuZmluaXNoaW5nICYmIEFycmF5LmlzQXJyYXkocXVvdGUuZmluaXNoaW5nKSAmJiBxdW90ZS5maW5pc2hpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcXVvdGUuZmluaXNoaW5nLmZvckVhY2goKGY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBzdHJpbmcgZm9ybWF0IChmcm9tIEFQSSkgYW5kIG9iamVjdCBmb3JtYXQgKGZyb20gZGF0YWJhc2UpXG4gICAgICAgICAgICAgIGNvbnN0IGZpbmlzaGluZ05hbWUgPSB0eXBlb2YgZiA9PT0gJ3N0cmluZycgPyBmIDogKGYubmFtZSB8fCBmKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0gRklOSVNISU5HIERFQlVHIC0gUHJvY2Vzc2luZyBmaW5pc2hpbmcgaXRlbTpgLCBmLCAnLT4gbmFtZTonLCBmaW5pc2hpbmdOYW1lKTtcbiAgICAgICAgICAgICAgaWYgKGZpbmlzaGluZ05hbWUgJiYgIWFsbEZpbmlzaGluZy5pbmNsdWRlcyhmaW5pc2hpbmdOYW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBmaW5pc2hpbmcgbmFtZSB0byBtYXRjaCBTdGVwIDMgb3B0aW9ucyAoY2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIpXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBmaW5pc2hpbmdOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZmluaXNoaW5nTmFtZS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZJTklTSElORyBERUJVRyAtIE5vcm1hbGl6ZWQgbmFtZTogJHtmaW5pc2hpbmdOYW1lfSAtPiAke25vcm1hbGl6ZWROYW1lfWApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEZvcm1hdCBmaW5pc2hpbmcgbmFtZSBiYXNlZCBvbiBzaWRlc1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdFF1b3RlLnNpZGVzID09PSAnMicpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvciBkb3VibGUtc2lkZWQsIGFkZCBib3RoIGZyb250IGFuZCBiYWNrIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgIGFsbEZpbmlzaGluZy5wdXNoKGAke25vcm1hbGl6ZWROYW1lfS1Gcm9udGApO1xuICAgICAgICAgICAgICAgICAgYWxsRmluaXNoaW5nLnB1c2goYCR7bm9ybWFsaXplZE5hbWV9LUJhY2tgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gRm9yIHNpbmdsZS1zaWRlZCwganVzdCBhZGQgdGhlIG5hbWVcbiAgICAgICAgICAgICAgICAgIGFsbEZpbmlzaGluZy5wdXNoKG5vcm1hbGl6ZWROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZJTklTSElORyBERUJVRyAtIEZpbmFsIGFsbEZpbmlzaGluZyBhcnJheTonLCBhbGxGaW5pc2hpbmcpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgcXVvdGUgZ3JvdXAgJHtsYXRlc3RRdW90ZUlkfTpgLCB7XG4gICAgICAgICAgdG90YWxRdW90ZXM6IGxhdGVzdFF1b3Rlcy5sZW5ndGgsXG4gICAgICAgICAgcGFwZXJzOiBhbGxQYXBlcnMsXG4gICAgICAgICAgZmluaXNoaW5nOiBhbGxGaW5pc2hpbmcsXG4gICAgICAgICAgc2lkZXM6IGZpcnN0UXVvdGUuc2lkZXMsXG4gICAgICAgICAgcmF3RmluaXNoaW5nRnJvbURCOiBsYXRlc3RRdW90ZXMubWFwKChxOiBhbnkpID0+IHEuZmluaXNoaW5nKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBvbmUgcHJvZHVjdCB3aXRoIGFsbCBwYXBlcnMgYW5kIGZpbmlzaGluZ1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0ge1xuICAgICAgICAgIHByb2R1Y3ROYW1lOiBmaXJzdFF1b3RlLnByb2R1Y3ROYW1lIHx8IGZpcnN0UXVvdGUucHJvZHVjdCB8fCAnQnVzaW5lc3MgQ2FyZCcsXG4gICAgICAgICAgcXVhbnRpdHk6IGZpcnN0UXVvdGUucXVhbnRpdHksXG4gICAgICAgICAgc2lkZXM6IChmaXJzdFF1b3RlLnNpZGVzID09PSAnMScgfHwgZmlyc3RRdW90ZS5zaWRlcyA9PT0gJzInID8gZmlyc3RRdW90ZS5zaWRlcyA6ICcxJykgYXMgJzEnIHwgJzInLFxuICAgICAgICAgIHByaW50aW5nU2VsZWN0aW9uOiBmaXJzdFF1b3RlLnByaW50aW5nU2VsZWN0aW9uIHx8IGZpcnN0UXVvdGUucHJpbnRpbmcgfHwgJ0RpZ2l0YWwnLFxuICAgICAgICAgIGZsYXRTaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogZmlyc3RRdW90ZS5mbGF0U2l6ZVdpZHRoIHx8IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IGZpcnN0UXVvdGUuZmxhdFNpemVIZWlnaHQgfHwgMCxcbiAgICAgICAgICAgIHNwaW5lOiBmaXJzdFF1b3RlLmZsYXRTaXplU3BpbmUgfHwgbnVsbCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsb3NlU2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IGZpcnN0UXVvdGUuY2xvc2VTaXplV2lkdGggfHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogZmlyc3RRdW90ZS5jbG9zZVNpemVIZWlnaHQgfHwgMCxcbiAgICAgICAgICAgIHNwaW5lOiBmaXJzdFF1b3RlLmNsb3NlU2l6ZVNwaW5lIHx8IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB1c2VTYW1lQXNGbGF0OiBmaXJzdFF1b3RlLnVzZVNhbWVBc0ZsYXQgfHwgZmFsc2UsXG4gICAgICAgICAgcGFwZXJzOiBhbGxQYXBlcnMsXG4gICAgICAgICAgLy8gRW5zdXJlIGZpbmlzaGluZyBhcnJheSBvbmx5IGNvbnRhaW5zIHZhbGlkIHN0cmluZ3NcbiAgICAgICAgICBmaW5pc2hpbmc6IGFsbEZpbmlzaGluZy5maWx0ZXIoZiA9PiB0eXBlb2YgZiA9PT0gJ3N0cmluZycgJiYgZi50cmltKCkgIT09ICcnKSxcbiAgICAgICAgICBjb2xvcnMsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcm9kdWN0cyA9IFt7XG4gICAgICAgICAgLi4ucHJvZHVjdCxcbiAgICAgICAgICBwYXBlck5hbWU6IHByb2R1Y3QucGFwZXJzICYmIHByb2R1Y3QucGFwZXJzLmxlbmd0aCA+IDAgPyBwcm9kdWN0LnBhcGVyc1swXS5uYW1lIDogXCJTdGFuZGFyZCBQYXBlclwiXG4gICAgICAgIH1dO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZm9ybSBkYXRhIHdpdGggYWxsIHByb2R1Y3RzXG4gICAgICAgIHNldEZvcm1EYXRhKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0Zvcm1EYXRhID0ge1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIHByb2R1Y3RzXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgZm9ybSBkYXRhIHdpdGggYXV0b2ZpbGxlZCBwcm9kdWN0czonLCBuZXdGb3JtRGF0YSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRklOSVNISU5HIERFQlVHIC0gUHJvZHVjdCBmaW5pc2hpbmcgYXJyYXk6JywgbmV3Rm9ybURhdGEucHJvZHVjdHNbMF0uZmluaXNoaW5nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGSU5JU0hJTkcgREVCVUcgLSBQcm9kdWN0IHNpZGVzOicsIG5ld0Zvcm1EYXRhLnByb2R1Y3RzWzBdLnNpZGVzKTtcbiAgICAgICAgICByZXR1cm4gbmV3Rm9ybURhdGE7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYEF1dG8tZmlsbGVkICR7cHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0cyBmcm9tIGN1c3RvbWVyJ3MgcHJldmlvdXMgcXVvdGU6YCwgcHJvZHVjdHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhdXRvLWZpbGxpbmcgcXVvdGUgZGF0YTonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIG1hcCBzYXZlZCBjb2xvciBkZXNjcmlwdGlvbnMgdG8gZHJvcGRvd24gb3B0aW9uc1xuICBjb25zdCBtYXBDb2xvclRvRHJvcGRvd25PcHRpb24gPSAoY29sb3JEZXNjOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghY29sb3JEZXNjKSByZXR1cm4gXCJcIjtcbiAgICBcbiAgICBjb25zdCBkZXNjID0gY29sb3JEZXNjLnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgLy8gTWFwIHNwZWNpZmljIGNvbG9yIGRlc2NyaXB0aW9ucyB0byBkcm9wZG93biBvcHRpb25zXG4gICAgaWYgKGRlc2MuaW5jbHVkZXMoXCI0LzQgY215a1wiKSAmJiBkZXNjLmluY2x1ZGVzKFwiMiBwbXNcIikpIHtcbiAgICAgIHJldHVybiBcIjQrMiBDb2xvcnNcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCI0LzQgY215a1wiKSAmJiBkZXNjLmluY2x1ZGVzKFwiMSBwbXNcIikpIHtcbiAgICAgIHJldHVybiBcIjQrMSBDb2xvcnNcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCI0LzQgY215a1wiKSB8fCBkZXNjLmluY2x1ZGVzKFwiNC80XCIpKSB7XG4gICAgICByZXR1cm4gXCI0IENvbG9ycyAoQ01ZSylcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCI0LzAgY215a1wiKSAmJiBkZXNjLmluY2x1ZGVzKFwiMiBwbXNcIikpIHtcbiAgICAgIHJldHVybiBcIjQrMiBDb2xvcnNcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCI0LzAgY215a1wiKSAmJiBkZXNjLmluY2x1ZGVzKFwiMSBwbXNcIikpIHtcbiAgICAgIHJldHVybiBcIjQrMSBDb2xvcnNcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCI0LzAgY215a1wiKSB8fCBkZXNjLmluY2x1ZGVzKFwiNC8wXCIpKSB7XG4gICAgICByZXR1cm4gXCI0IENvbG9ycyAoQ01ZSylcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCIzIGNvbG9yc1wiKSB8fCBkZXNjLmluY2x1ZGVzKFwiM1wiKSkge1xuICAgICAgcmV0dXJuIFwiMyBDb2xvcnNcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCIyIGNvbG9yc1wiKSB8fCBkZXNjLmluY2x1ZGVzKFwiMlwiKSkge1xuICAgICAgcmV0dXJuIFwiMiBDb2xvcnNcIjtcbiAgICB9IGVsc2UgaWYgKGRlc2MuaW5jbHVkZXMoXCIxIGNvbG9yXCIpIHx8IGRlc2MuaW5jbHVkZXMoXCIxXCIpKSB7XG4gICAgICByZXR1cm4gXCIxIENvbG9yXCI7XG4gICAgfVxuICAgIFxuICAgIC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgICByZXR1cm4gXCI0IENvbG9ycyAoQ01ZSylcIjtcbiAgfTtcblxuICAvLyBIYW5kbGUgcXVvdGUgc2VsZWN0aW9uIGZvciBlZGl0aW5nIGV4aXN0aW5nIHF1b3Rlc1xuICBjb25zdCBoYW5kbGVRdW90ZVNlbGVjdCA9IChxdW90ZTogYW55KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/Cfjq8gUXVvdGUgc2VsZWN0ZWQgZm9yIGVkaXRpbmc6JywgcXVvdGUpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFF1b3RlIGZpbmlzaGluZyBkYXRhOicsIHF1b3RlLmZpbmlzaGluZyk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gUXVvdGUgZmluaXNoaW5nIHR5cGU6JywgdHlwZW9mIHF1b3RlLmZpbmlzaGluZyk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gUXVvdGUgZmluaXNoaW5nIGxlbmd0aDonLCBxdW90ZS5maW5pc2hpbmc/Lmxlbmd0aCk7XG4gICAgXG4gICAgLy8gU2V0IHRoZSBzZWxlY3RlZCBxdW90ZSBJRCBmb3IgZWRpdGluZ1xuICAgIHNldFNlbGVjdGVkUXVvdGVJZChxdW90ZS5pZCk7XG4gICAgXG4gICAgLy8gQWxzbyBzZXQgdGhlIGN1c3RvbWVyIGRhdGFcbiAgICBoYW5kbGVDdXN0b21lclNlbGVjdChxdW90ZS5jbGllbnQpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBmb3JtIGRhdGEgd2l0aCB0aGUgcXVvdGUncyBjb21wbGV0ZSBwcm9kdWN0IGluZm9ybWF0aW9uXG4gICAgaWYgKHF1b3RlLnByb2R1Y3QpIHtcbiAgICAgIC8vIERldGVybWluZSBhcHByb3ByaWF0ZSBzaXplcyBiYXNlZCBvbiBwcm9kdWN0IHR5cGVcbiAgICAgIGxldCBkZWZhdWx0RmxhdFNpemUgPSB7IHdpZHRoOiA5LCBoZWlnaHQ6IDUuNSwgc3BpbmU6IDAgfTtcbiAgICAgIGxldCBkZWZhdWx0Q2xvc2VTaXplID0geyB3aWR0aDogOSwgaGVpZ2h0OiA1LjUsIHNwaW5lOiAwIH07XG4gICAgICBcbiAgICAgIC8vIFNldCBhcHByb3ByaWF0ZSBkZWZhdWx0IHNpemVzIGZvciBkaWZmZXJlbnQgcHJvZHVjdCB0eXBlc1xuICAgICAgc3dpdGNoIChxdW90ZS5wcm9kdWN0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnYm9vayc6XG4gICAgICAgIGNhc2UgJ2NhdGFsb2cnOlxuICAgICAgICBjYXNlICdhbm51YWwgcmVwb3J0JzpcbiAgICAgICAgY2FzZSAndGVjaG5pY2FsIG1hbnVhbCc6XG4gICAgICAgICAgZGVmYXVsdEZsYXRTaXplID0geyB3aWR0aDogOC41LCBoZWlnaHQ6IDExLCBzcGluZTogMC41IH07XG4gICAgICAgICAgZGVmYXVsdENsb3NlU2l6ZSA9IHsgd2lkdGg6IDguNSwgaGVpZ2h0OiAxMSwgc3BpbmU6IDAuNSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdicm9jaHVyZSc6XG4gICAgICAgIGNhc2UgJ2ZseWVyIGE1JzpcbiAgICAgICAgICBkZWZhdWx0RmxhdFNpemUgPSB7IHdpZHRoOiA4LjI3LCBoZWlnaHQ6IDExLjY5LCBzcGluZTogMCB9O1xuICAgICAgICAgIGRlZmF1bHRDbG9zZVNpemUgPSB7IHdpZHRoOiA0LjEzLCBoZWlnaHQ6IDExLjY5LCBzcGluZTogMCB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwb3N0ZXInOlxuICAgICAgICAgIGRlZmF1bHRGbGF0U2l6ZSA9IHsgd2lkdGg6IDE4LCBoZWlnaHQ6IDI0LCBzcGluZTogMCB9O1xuICAgICAgICAgIGRlZmF1bHRDbG9zZVNpemUgPSB7IHdpZHRoOiAxOCwgaGVpZ2h0OiAyNCwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYnVzaW5lc3MgY2FyZCc6XG4gICAgICAgIGNhc2UgJ2J1c2luZXNzIGNhcmRzJzpcbiAgICAgICAgICBkZWZhdWx0RmxhdFNpemUgPSB7IHdpZHRoOiAzLjUsIGhlaWdodDogMiwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBkZWZhdWx0Q2xvc2VTaXplID0geyB3aWR0aDogMy41LCBoZWlnaHQ6IDIsIHNwaW5lOiAwIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xldHRlcmhlYWQnOlxuICAgICAgICAgIGRlZmF1bHRGbGF0U2l6ZSA9IHsgd2lkdGg6IDguNSwgaGVpZ2h0OiAxMSwgc3BpbmU6IDAgfTtcbiAgICAgICAgICBkZWZhdWx0Q2xvc2VTaXplID0geyB3aWR0aDogOC41LCBoZWlnaHQ6IDExLCBzcGluZTogMCB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGRlZmF1bHRGbGF0U2l6ZSA9IHsgd2lkdGg6IDksIGhlaWdodDogNS41LCBzcGluZTogMCB9O1xuICAgICAgICAgIGRlZmF1bHRDbG9zZVNpemUgPSB7IHdpZHRoOiA5LCBoZWlnaHQ6IDUuNSwgc3BpbmU6IDAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWFwIHNhdmVkIGNvbG9ycyB0byBkcm9wZG93biBvcHRpb25zXG4gICAgICBjb25zdCBtYXBwZWRGcm9udENvbG9yID0gbWFwQ29sb3JUb0Ryb3Bkb3duT3B0aW9uKHF1b3RlLmNvbG9ycz8uZnJvbnQpO1xuICAgICAgY29uc3QgbWFwcGVkQmFja0NvbG9yID0gbWFwQ29sb3JUb0Ryb3Bkb3duT3B0aW9uKHF1b3RlLmNvbG9ycz8uYmFjayk7XG4gICAgICBcbiAgICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgcHJvZHVjdHM6IFt7XG4gICAgICAgICAgcHJvZHVjdE5hbWU6IHF1b3RlLnByb2R1Y3QgfHwgXCJQcmludGluZyBQcm9kdWN0XCIsXG4gICAgICAgICAgcGFwZXJOYW1lOiBxdW90ZS5wYXBlcnMgJiYgcXVvdGUucGFwZXJzLmxlbmd0aCA+IDAgPyBxdW90ZS5wYXBlcnNbMF0ubmFtZSA6IFwiU3RhbmRhcmQgUGFwZXJcIixcbiAgICAgICAgICBxdWFudGl0eTogcXVvdGUucXVhbnRpdHkgfHwgMTAwLFxuICAgICAgICAgIHNpZGVzOiAocXVvdGUuc2lkZXMgYXMgXCIxXCIgfCBcIjJcIikgfHwgXCIxXCIsXG4gICAgICAgICAgcHJpbnRpbmdTZWxlY3Rpb246IChxdW90ZS5wcmludGluZyBhcyBcIkRpZ2l0YWxcIiB8IFwiT2Zmc2V0XCIpIHx8IFwiRGlnaXRhbFwiLFxuICAgICAgICAgIGZsYXRTaXplOiBkZWZhdWx0RmxhdFNpemUsXG4gICAgICAgICAgY2xvc2VTaXplOiBkZWZhdWx0Q2xvc2VTaXplLFxuICAgICAgICAgIHVzZVNhbWVBc0ZsYXQ6IHRydWUsXG4gICAgICAgICAgcGFwZXJzOiBxdW90ZS5wYXBlcnMgJiYgcXVvdGUucGFwZXJzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICA/IHF1b3RlLnBhcGVycy5tYXAoKHA6IGFueSkgPT4gKHsgbmFtZTogcC5uYW1lLCBnc206IHAuZ3NtIH0pKVxuICAgICAgICAgICAgOiBbeyBuYW1lOiBcIlN0YW5kYXJkIFBhcGVyXCIsIGdzbTogXCIxNTBcIiB9XSxcbiAgICAgICAgICBmaW5pc2hpbmc6ICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9jZXNzaW5nIGZpbmlzaGluZyBkYXRhLi4uJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnICBPcmlnaW5hbCBxdW90ZS5maW5pc2hpbmc6JywgcXVvdGUuZmluaXNoaW5nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFxdW90ZS5maW5pc2hpbmcgfHwgIUFycmF5LmlzQXJyYXkocXVvdGUuZmluaXNoaW5nKSB8fCBxdW90ZS5maW5pc2hpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgIOKdjCBObyBmaW5pc2hpbmcgZGF0YSBvciBpbnZhbGlkIGZvcm1hdCcpO1xuICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNpbXBseSBleHRyYWN0IHRoZSBmaW5pc2hpbmcgbmFtZXMgLSBubyBzaWRlIGxvZ2ljIG5lZWRlZFxuICAgICAgICAgICAgY29uc3QgbWFwcGVkRmluaXNoaW5nID0gcXVvdGUuZmluaXNoaW5nLm1hcCgoZjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFByb2Nlc3NpbmcgZmluaXNoaW5nIGl0ZW06ICR7Zi5uYW1lfWApO1xuICAgICAgICAgICAgICByZXR1cm4gZi5uYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgIOKchSBGaW5hbCBtYXBwZWQgZmluaXNoaW5nOicsIG1hcHBlZEZpbmlzaGluZyk7XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkRmluaXNoaW5nO1xuICAgICAgICAgIH0pKCksXG4gICAgICAgICAgY29sb3JzOiB7IFxuICAgICAgICAgICAgZnJvbnQ6IG1hcHBlZEZyb250Q29sb3IsIFxuICAgICAgICAgICAgYmFjazogbWFwcGVkQmFja0NvbG9yIFxuICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gSW1tZWRpYXRlbHkgZW5zdXJlIGZpbmlzaGluZyBkYXRhIGlzIGxvYWRlZFxuICAgICAgZW5zdXJlRmluaXNoaW5nRGF0YUxvYWRlZChxdW90ZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEZvcm0gZGF0YSB1cGRhdGVkIHdpdGggc2VsZWN0ZWQgcXVvdGU6Jywge1xuICAgICAgICBwcm9kdWN0OiBxdW90ZS5wcm9kdWN0LFxuICAgICAgICBxdWFudGl0eTogcXVvdGUucXVhbnRpdHksXG4gICAgICAgIHNpZGVzOiBxdW90ZS5zaWRlcyxcbiAgICAgICAgcHJpbnRpbmc6IHF1b3RlLnByaW50aW5nLFxuICAgICAgICBwYXBlcnM6IHF1b3RlLnBhcGVycyxcbiAgICAgICAgb3JpZ2luYWxGaW5pc2hpbmc6IHF1b3RlLmZpbmlzaGluZyxcbiAgICAgICAgY29sb3JzOiB7IGZyb250OiBtYXBwZWRGcm9udENvbG9yLCBiYWNrOiBtYXBwZWRCYWNrQ29sb3IgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgYWN0dWFsIGZvcm1EYXRhIHN0YXRlIGFmdGVyIHVwZGF0ZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZvcm1EYXRhIHN0YXRlIGFmdGVyIHVwZGF0ZTonLCBmb3JtRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46vIFByb2R1Y3RzIGFycmF5OicsIGZvcm1EYXRhLnByb2R1Y3RzKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLnByb2R1Y3RzICYmIGZvcm1EYXRhLnByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBGaXJzdCBwcm9kdWN0IGZpbmlzaGluZzonLCBmb3JtRGF0YS5wcm9kdWN0c1swXS5maW5pc2hpbmcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIEZpcnN0IHByb2R1Y3QgZmluaXNoaW5nIHR5cGU6JywgdHlwZW9mIGZvcm1EYXRhLnByb2R1Y3RzWzBdLmZpbmlzaGluZyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gRmlyc3QgcHJvZHVjdCBmaW5pc2hpbmcgaXNBcnJheTonLCBBcnJheS5pc0FycmF5KGZvcm1EYXRhLnByb2R1Y3RzWzBdLmZpbmlzaGluZykpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgICAgXG4gICAgICAvLyBGb3JjZSBhIHJlLXJlbmRlciBieSB1cGRhdGluZyB0aGUgZm9ybURhdGEgYWdhaW5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGb3JjaW5nIHJlLXJlbmRlci4uLicpO1xuICAgICAgICBzZXRGb3JtRGF0YShwcmV2RGF0YSA9PiAoe1xuICAgICAgICAgIC4uLnByZXZEYXRhLFxuICAgICAgICAgIHByb2R1Y3RzOiBwcmV2RGF0YS5wcm9kdWN0cy5tYXAoKHAsIGlkeCkgPT4gXG4gICAgICAgICAgICBpZHggPT09IDAgPyB7IC4uLnAsIGZpbmlzaGluZzogcC5maW5pc2hpbmcgfSA6IHBcbiAgICAgICAgICApXG4gICAgICAgIH0pKTtcbiAgICAgIH0sIDIwMCk7XG4gICAgICBcbiAgICAgIC8vIEFkZGl0aW9uYWwgZml4OiBFbnN1cmUgZmluaXNoaW5nIGRhdGEgaXMgcHJvcGVybHkgbG9hZGVkXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflKcgQWRkaXRpb25hbCBmaW5pc2hpbmcgZGF0YSBmaXguLi4nKTtcbiAgICAgICAgZW5zdXJlRmluaXNoaW5nRGF0YUxvYWRlZChxdW90ZSk7XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZW5zdXJlIGZpbmlzaGluZyBkYXRhIGlzIHByb3Blcmx5IGxvYWRlZFxuICBjb25zdCBlbnN1cmVGaW5pc2hpbmdEYXRhTG9hZGVkID0gKHF1b3RlOiBhbnkpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UpyBFbnN1cmluZyBmaW5pc2hpbmcgZGF0YSBpcyBsb2FkZWQuLi4nKTtcbiAgICBpZiAocXVvdGUuZmluaXNoaW5nICYmIEFycmF5LmlzQXJyYXkocXVvdGUuZmluaXNoaW5nKSAmJiBxdW90ZS5maW5pc2hpbmcubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZmluaXNoaW5nTmFtZXMgPSBxdW90ZS5maW5pc2hpbmcubWFwKChmOiBhbnkpID0+IGYubmFtZSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UpyBTZXR0aW5nIGZpbmlzaGluZyBuYW1lczonLCBmaW5pc2hpbmdOYW1lcyk7XG4gICAgICBcbiAgICAgIHNldEZvcm1EYXRhKHByZXZEYXRhID0+ICh7XG4gICAgICAgIC4uLnByZXZEYXRhLFxuICAgICAgICBwcm9kdWN0czogcHJldkRhdGEucHJvZHVjdHMubWFwKChwLCBpZHgpID0+IFxuICAgICAgICAgIGlkeCA9PT0gMCA/IHsgLi4ucCwgZmluaXNoaW5nOiBmaW5pc2hpbmdOYW1lcyB9IDogcFxuICAgICAgICApXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gR2V0IGN1cnJlbnQgdXNlciBJRCAtIHVzZSBhIHZhbGlkIHVzZXIgZnJvbSB0aGUgZGF0YWJhc2VcbiAgY29uc3QgZ2V0Q3VycmVudFVzZXJJZCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGdldCB0aGUgZmlyc3QgYXZhaWxhYmxlIHVzZXIgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlcnMnKTtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBVc2UgdGhlIGZpcnN0IGF2YWlsYWJsZSB1c2VyICh1c3VhbGx5IGFkbWluKVxuICAgICAgICAgIHJldHVybiB1c2Vyc1swXS5pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyczonLCBlcnJvcik7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIHRvIGEgdmFsaWQgdXNlciBJRCBpZiBBUEkgZmFpbHNcbiAgICByZXR1cm4gJ2NtZWtkNWR0dzAwMDB4NWtwN3h2cXo4dzknOyAvLyBhZG1pbkBleGFtcGxlLmNvbVxuICB9O1xuXG4gIC8vIFZhbGlkYXRlIGZvcm0gZGF0YSBiZWZvcmUgYWxsb3dpbmcgc2F2ZVxuICBjb25zdCB2YWxpZGF0ZUZvcm1EYXRhID0gKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIERlYnVnOiBMb2cgdGhlIGN1cnJlbnQgZm9ybSBkYXRhXG4gICAgY29uc29sZS5sb2coJ1ZhbGlkYXRpbmcgZm9ybSBkYXRhOicsIHtcbiAgICAgIGNsaWVudDogZm9ybURhdGEuY2xpZW50LFxuICAgICAgY29udGFjdFBlcnNvbjogZm9ybURhdGEuY2xpZW50LmNvbnRhY3RQZXJzb24sXG4gICAgICBmaXJzdE5hbWU6IGZvcm1EYXRhLmNsaWVudC5maXJzdE5hbWUsXG4gICAgICBsYXN0TmFtZTogZm9ybURhdGEuY2xpZW50Lmxhc3ROYW1lLFxuICAgICAgZW1haWw6IGZvcm1EYXRhLmNsaWVudC5lbWFpbCxcbiAgICAgIHBob25lOiBmb3JtRGF0YS5jbGllbnQucGhvbmVcbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGlmIGNsaWVudCBpbmZvcm1hdGlvbiBpcyBjb21wbGV0ZVxuICAgIGlmICghZm9ybURhdGEuY2xpZW50LmVtYWlsIHx8ICFmb3JtRGF0YS5jbGllbnQucGhvbmUpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwiQ2xpZW50IGVtYWlsIGFuZCBwaG9uZSBhcmUgcmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1EYXRhLmNsaWVudC5jbGllbnRUeXBlID09PSBcIkNvbXBhbnlcIiAmJiAhZm9ybURhdGEuY2xpZW50LmNvbXBhbnlOYW1lKSB7XG4gICAgICBlcnJvcnMucHVzaChcIkNvbXBhbnkgbmFtZSBpcyByZXF1aXJlZCBmb3IgY29tcGFueSBjbGllbnRzXCIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZWl0aGVyIGNvbnRhY3RQZXJzb24gT1IgYm90aCBmaXJzdE5hbWUgYW5kIGxhc3ROYW1lXG4gICAgY29uc3QgaGFzQ29udGFjdFBlcnNvbiA9IGZvcm1EYXRhLmNsaWVudC5jb250YWN0UGVyc29uICYmIGZvcm1EYXRhLmNsaWVudC5jb250YWN0UGVyc29uLnRyaW0oKSAhPT0gJyc7XG4gICAgY29uc3QgaGFzRnVsbE5hbWUgPSBmb3JtRGF0YS5jbGllbnQuZmlyc3ROYW1lICYmIGZvcm1EYXRhLmNsaWVudC5maXJzdE5hbWUudHJpbSgpICE9PSAnJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuY2xpZW50Lmxhc3ROYW1lICYmIGZvcm1EYXRhLmNsaWVudC5sYXN0TmFtZS50cmltKCkgIT09ICcnO1xuICAgIFxuICAgIGlmICghaGFzQ29udGFjdFBlcnNvbiAmJiAhaGFzRnVsbE5hbWUpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwiQ29udGFjdCBwZXJzb24gbmFtZSBpcyByZXF1aXJlZCAob3IgZmlyc3QgbmFtZSBhbmQgbGFzdCBuYW1lKVwiKTtcbiAgICB9XG5cbiAgICAvLyBBZGRyZXNzIGZpZWxkcyBhcmUgb3B0aW9uYWwgYnV0IGlmIHByb3ZpZGVkLCBzaG91bGQgYmUgY29tcGxldGVcbiAgICBjb25zdCBoYXNQYXJ0aWFsQWRkcmVzcyA9IGZvcm1EYXRhLmNsaWVudC5hZGRyZXNzIHx8IGZvcm1EYXRhLmNsaWVudC5jaXR5IHx8IGZvcm1EYXRhLmNsaWVudC5zdGF0ZSB8fCBmb3JtRGF0YS5jbGllbnQucG9zdGFsQ29kZSB8fCBmb3JtRGF0YS5jbGllbnQuY291bnRyeTtcbiAgICBjb25zdCBoYXNDb21wbGV0ZUFkZHJlc3MgPSBmb3JtRGF0YS5jbGllbnQuYWRkcmVzcyAmJiBmb3JtRGF0YS5jbGllbnQuY2l0eSAmJiBmb3JtRGF0YS5jbGllbnQuc3RhdGUgJiYgZm9ybURhdGEuY2xpZW50LnBvc3RhbENvZGUgJiYgZm9ybURhdGEuY2xpZW50LmNvdW50cnk7XG4gICAgXG4gICAgaWYgKGhhc1BhcnRpYWxBZGRyZXNzICYmICFoYXNDb21wbGV0ZUFkZHJlc3MpIHtcbiAgICAgIGNvbnNvbGUud2FybignUGFydGlhbCBhZGRyZXNzIHByb3ZpZGVkIC0gc29tZSBhZGRyZXNzIGZpZWxkcyBhcmUgbWlzc2luZycpO1xuICAgICAgLy8gRG9uJ3QgdGhyb3cgZXJyb3IsIGp1c3Qgd2FybiAtIGFkZHJlc3MgaXMgb3B0aW9uYWxcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBwcm9kdWN0cyBleGlzdCBhbmQgaGF2ZSByZXF1aXJlZCBpbmZvcm1hdGlvblxuICAgIGlmIChmb3JtRGF0YS5wcm9kdWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGVycm9ycy5wdXNoKFwiQXQgbGVhc3Qgb25lIHByb2R1Y3QgbXVzdCBiZSBhZGRlZFwiKTtcbiAgICB9XG5cbiAgICBmb3JtRGF0YS5wcm9kdWN0cy5mb3JFYWNoKChwcm9kdWN0LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKCFwcm9kdWN0LnByb2R1Y3ROYW1lIHx8ICFwcm9kdWN0LnF1YW50aXR5KSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBQcm9kdWN0ICR7aW5kZXggKyAxfSBtdXN0IGhhdmUgYSBuYW1lIGFuZCBxdWFudGl0eWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICBhbGVydChgUGxlYXNlIGZpeCB0aGUgZm9sbG93aW5nIGlzc3VlczpcXG4ke2Vycm9ycy5qb2luKCdcXG4nKX1gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBWYWxpZGF0ZSBhbmQgY2xlYW4gcXVvdGUgZGF0YSBiZWZvcmUgc2VuZGluZyB0byBkYXRhYmFzZVxuICBjb25zdCB2YWxpZGF0ZUFuZENsZWFuUXVvdGVEYXRhID0gKGRhdGE6IGFueSkgPT4ge1xuICAgIC8vIENyZWF0ZSBhIGNsZWFuIGNvcHkgb2YgdGhlIGRhdGEgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIG9yaWdpbmFsXG4gICAgY29uc3QgY2xlYW5lZERhdGEgPSB7IC4uLmRhdGEgfTtcbiAgICBcbiAgICAvLyBFbnN1cmUgcGFwZXJzIGFycmF5IGhhcyB2YWxpZCBvYmplY3RzXG4gICAgaWYgKGNsZWFuZWREYXRhLnBhcGVycykge1xuICAgICAgLy8gSGFuZGxlIG5lc3RlZCBwYXBlcnMgc3RydWN0dXJlIChwYXBlcnMuY3JlYXRlKVxuICAgICAgaWYgKGNsZWFuZWREYXRhLnBhcGVycy5jcmVhdGUgJiYgQXJyYXkuaXNBcnJheShjbGVhbmVkRGF0YS5wYXBlcnMuY3JlYXRlKSkge1xuICAgICAgICBjbGVhbmVkRGF0YS5wYXBlcnMgPSBjbGVhbmVkRGF0YS5wYXBlcnMuY3JlYXRlLm1hcCgocGFwZXI6IGFueSkgPT4gKHtcbiAgICAgICAgICBuYW1lOiBwYXBlci5uYW1lIHx8IFwiU3RhbmRhcmQgUGFwZXJcIixcbiAgICAgICAgICBnc206IHBhcGVyLmdzbSA/IFN0cmluZyhwYXBlci5nc20pIDogXCIxNTBcIiwgLy8gS2VlcCBnc20gYXMgc3RyaW5nIGFzIHBlciBkYXRhYmFzZSBzY2hlbWFcbiAgICAgICAgICBpbnB1dFdpZHRoOiBwYXBlci5pbnB1dFdpZHRoID8gTnVtYmVyKHBhcGVyLmlucHV0V2lkdGgpIDogbnVsbCxcbiAgICAgICAgICBpbnB1dEhlaWdodDogcGFwZXIuaW5wdXRIZWlnaHQgPyBOdW1iZXIocGFwZXIuaW5wdXRIZWlnaHQpIDogbnVsbCxcbiAgICAgICAgICBwcmljZVBlclBhY2tldDogcGFwZXIucHJpY2VQZXJQYWNrZXQgPyBOdW1iZXIocGFwZXIucHJpY2VQZXJQYWNrZXQpIDogbnVsbCxcbiAgICAgICAgICBwcmljZVBlclNoZWV0OiBwYXBlci5wcmljZVBlclNoZWV0ID8gTnVtYmVyKHBhcGVyLnByaWNlUGVyU2hlZXQpIDogbnVsbCxcbiAgICAgICAgICBzaGVldHNQZXJQYWNrZXQ6IHBhcGVyLnNoZWV0c1BlclBhY2tldCA/IE51bWJlcihwYXBlci5zaGVldHNQZXJQYWNrZXQpIDogbnVsbCxcbiAgICAgICAgICByZWNvbW1lbmRlZFNoZWV0czogcGFwZXIucmVjb21tZW5kZWRTaGVldHMgPyBOdW1iZXIocGFwZXIucmVjb21tZW5kZWRTaGVldHMpIDogbnVsbCxcbiAgICAgICAgICBlbnRlcmVkU2hlZXRzOiBwYXBlci5lbnRlcmVkU2hlZXRzID8gTnVtYmVyKHBhcGVyLmVudGVyZWRTaGVldHMpIDogbnVsbCxcbiAgICAgICAgICBvdXRwdXRXaWR0aDogcGFwZXIub3V0cHV0V2lkdGggPyBOdW1iZXIocGFwZXIub3V0cHV0V2lkdGgpIDogbnVsbCxcbiAgICAgICAgICBvdXRwdXRIZWlnaHQ6IHBhcGVyLm91dHB1dEhlaWdodCA/IE51bWJlcihwYXBlci5vdXRwdXRIZWlnaHQpIDogbnVsbCxcbiAgICAgICAgICBzZWxlY3RlZENvbG9yczogcGFwZXIuc2VsZWN0ZWRDb2xvcnMgPyBTdHJpbmcocGFwZXIuc2VsZWN0ZWRDb2xvcnMpIDogbnVsbCxcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNsZWFuZWREYXRhLnBhcGVycykpIHtcbiAgICAgICAgLy8gSGFuZGxlIGZsYXQgcGFwZXJzIHN0cnVjdHVyZVxuICAgICAgICBjbGVhbmVkRGF0YS5wYXBlcnMgPSBjbGVhbmVkRGF0YS5wYXBlcnMubWFwKChwYXBlcjogYW55KSA9PiAoe1xuICAgICAgICAgIG5hbWU6IHBhcGVyLm5hbWUgfHwgXCJTdGFuZGFyZCBQYXBlclwiLFxuICAgICAgICAgIGdzbTogcGFwZXIuZ3NtID8gU3RyaW5nKHBhcGVyLmdzbSkgOiBcIjE1MFwiLCAvLyBLZWVwIGdzbSBhcyBzdHJpbmcgYXMgcGVyIGRhdGFiYXNlIHNjaGVtYVxuICAgICAgICAgIGlucHV0V2lkdGg6IHBhcGVyLmlucHV0V2lkdGggPyBOdW1iZXIocGFwZXIuaW5wdXRXaWR0aCkgOiBudWxsLFxuICAgICAgICAgIGlucHV0SGVpZ2h0OiBwYXBlci5pbnB1dEhlaWdodCA/IE51bWJlcihwYXBlci5pbnB1dEhlaWdodCkgOiBudWxsLFxuICAgICAgICAgIHByaWNlUGVyUGFja2V0OiBwYXBlci5wcmljZVBlclBhY2tldCA/IE51bWJlcihwYXBlci5wcmljZVBlclBhY2tldCkgOiBudWxsLFxuICAgICAgICAgIHByaWNlUGVyU2hlZXQ6IHBhcGVyLnByaWNlUGVyU2hlZXQgPyBOdW1iZXIocGFwZXIucHJpY2VQZXJTaGVldCkgOiBudWxsLFxuICAgICAgICAgIHNoZWV0c1BlclBhY2tldDogcGFwZXIuc2hlZXRzUGVyUGFja2V0ID8gTnVtYmVyKHBhcGVyLnNoZWV0c1BlclBhY2tldCkgOiBudWxsLFxuICAgICAgICAgIHJlY29tbWVuZGVkU2hlZXRzOiBwYXBlci5yZWNvbW1lbmRlZFNoZWV0cyA/IE51bWJlcihwYXBlci5yZWNvbW1lbmRlZFNoZWV0cykgOiBudWxsLFxuICAgICAgICAgIGVudGVyZWRTaGVldHM6IHBhcGVyLmVudGVyZWRTaGVldHMgPyBOdW1iZXIocGFwZXIuZW50ZXJlZFNoZWV0cykgOiBudWxsLFxuICAgICAgICAgIG91dHB1dFdpZHRoOiBwYXBlci5vdXRwdXRXaWR0aCA/IE51bWJlcihwYXBlci5vdXRwdXRXaWR0aCkgOiBudWxsLFxuICAgICAgICAgIG91dHB1dEhlaWdodDogcGFwZXIub3V0cHV0SGVpZ2h0ID8gTnVtYmVyKHBhcGVyLm91dHB1dEhlaWdodCkgOiBudWxsLFxuICAgICAgICAgIHNlbGVjdGVkQ29sb3JzOiBwYXBlci5zZWxlY3RlZENvbG9ycyA/IFN0cmluZyhwYXBlci5zZWxlY3RlZENvbG9ycykgOiBudWxsLFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGZpbmlzaGluZyBhcnJheSBoYXMgdmFsaWQgb2JqZWN0c1xuICAgIGlmIChjbGVhbmVkRGF0YS5maW5pc2hpbmcpIHtcbiAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgZmluaXNoaW5nIHN0cnVjdHVyZSAoZmluaXNoaW5nLmNyZWF0ZSlcbiAgICAgIGlmIChjbGVhbmVkRGF0YS5maW5pc2hpbmcuY3JlYXRlICYmIEFycmF5LmlzQXJyYXkoY2xlYW5lZERhdGEuZmluaXNoaW5nLmNyZWF0ZSkpIHtcbiAgICAgICAgY2xlYW5lZERhdGEuZmluaXNoaW5nID0gY2xlYW5lZERhdGEuZmluaXNoaW5nLmNyZWF0ZS5tYXAoKGZpbmlzaDogYW55KSA9PiAoe1xuICAgICAgICAgIG5hbWU6IGZpbmlzaC5uYW1lIHx8IFwiU3RhbmRhcmQgRmluaXNoaW5nXCIsXG4gICAgICAgICAgY29zdDogZmluaXNoLmNvc3QgPyBOdW1iZXIoZmluaXNoLmNvc3QpIDogMCxcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNsZWFuZWREYXRhLmZpbmlzaGluZykpIHtcbiAgICAgICAgLy8gSGFuZGxlIGZsYXQgZmluaXNoaW5nIHN0cnVjdHVyZVxuICAgICAgICBjbGVhbmVkRGF0YS5maW5pc2hpbmcgPSBjbGVhbmVkRGF0YS5maW5pc2hpbmcubWFwKChmaW5pc2g6IGFueSkgPT4gKHtcbiAgICAgICAgICBuYW1lOiBmaW5pc2gubmFtZSB8fCBcIlN0YW5kYXJkIEZpbmlzaGluZ1wiLFxuICAgICAgICAgIGNvc3Q6IGZpbmlzaC5jb3N0ID8gTnVtYmVyKGZpbmlzaC5jb3N0KSA6IDAsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYW1vdW50cyBvYmplY3QgaGFzIHZhbGlkIG51bWJlcnNcbiAgICBpZiAoY2xlYW5lZERhdGEuYW1vdW50cykge1xuICAgICAgLy8gSGFuZGxlIG5lc3RlZCBhbW91bnRzIHN0cnVjdHVyZSAoYW1vdW50cy5jcmVhdGUpXG4gICAgICBpZiAoY2xlYW5lZERhdGEuYW1vdW50cy5jcmVhdGUpIHtcbiAgICAgICAgY2xlYW5lZERhdGEuYW1vdW50cyA9IHtcbiAgICAgICAgICBiYXNlOiBOdW1iZXIoY2xlYW5lZERhdGEuYW1vdW50cy5jcmVhdGUuYmFzZSkgfHwgMCxcbiAgICAgICAgICB2YXQ6IE51bWJlcihjbGVhbmVkRGF0YS5hbW91bnRzLmNyZWF0ZS52YXQpIHx8IDAsXG4gICAgICAgICAgdG90YWw6IE51bWJlcihjbGVhbmVkRGF0YS5hbW91bnRzLmNyZWF0ZS50b3RhbCkgfHwgMCxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBmbGF0IGFtb3VudHMgc3RydWN0dXJlXG4gICAgICAgIGNsZWFuZWREYXRhLmFtb3VudHMgPSB7XG4gICAgICAgICAgYmFzZTogTnVtYmVyKGNsZWFuZWREYXRhLmFtb3VudHMuYmFzZSkgfHwgMCxcbiAgICAgICAgICB2YXQ6IE51bWJlcihjbGVhbmVkRGF0YS5hbW91bnRzLnZhdCkgfHwgMCxcbiAgICAgICAgICB0b3RhbDogTnVtYmVyKGNsZWFuZWREYXRhLmFtb3VudHMudG90YWwpIHx8IDAsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIG9wZXJhdGlvbmFsIGRhdGEgaGFzIHZhbGlkIHZhbHVlc1xuICAgIGlmIChjbGVhbmVkRGF0YS5vcGVyYXRpb25hbCkge1xuICAgICAgLy8gSGFuZGxlIG5lc3RlZCBvcGVyYXRpb25hbCBzdHJ1Y3R1cmUgKG9wZXJhdGlvbmFsLmNyZWF0ZSlcbiAgICAgIGlmIChjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC5jcmVhdGUpIHtcbiAgICAgICAgY2xlYW5lZERhdGEub3BlcmF0aW9uYWwgPSB7XG4gICAgICAgICAgcGxhdGVzOiBjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC5jcmVhdGUucGxhdGVzID8gTnVtYmVyKGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsLmNyZWF0ZS5wbGF0ZXMpIDogbnVsbCxcbiAgICAgICAgICB1bml0czogY2xlYW5lZERhdGEub3BlcmF0aW9uYWwuY3JlYXRlLnVuaXRzID8gTnVtYmVyKGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsLmNyZWF0ZS51bml0cykgOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIGZsYXQgb3BlcmF0aW9uYWwgc3RydWN0dXJlXG4gICAgICAgIGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsID0ge1xuICAgICAgICAgIHBsYXRlczogY2xlYW5lZERhdGEub3BlcmF0aW9uYWwucGxhdGVzID8gTnVtYmVyKGNsZWFuZWREYXRhLm9wZXJhdGlvbmFsLnBsYXRlcykgOiBudWxsLFxuICAgICAgICAgIHVuaXRzOiBjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC51bml0cyA/IE51bWJlcihjbGVhbmVkRGF0YS5vcGVyYXRpb25hbC51bml0cykgOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVuc3VyZSBlc3NlbnRpYWwgZmllbGRzIGFyZSBwcmVzZXJ2ZWQgYW5kIHZhbGlkXG4gICAgaWYgKGNsZWFuZWREYXRhLmRhdGUpIHtcbiAgICAgIGNsZWFuZWREYXRhLmRhdGUgPSBuZXcgRGF0ZShjbGVhbmVkRGF0YS5kYXRlKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsZWFuZWREYXRhLnN0YXR1cykge1xuICAgICAgY2xlYW5lZERhdGEuc3RhdHVzID0gU3RyaW5nKGNsZWFuZWREYXRhLnN0YXR1cyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjbGVhbmVkRGF0YS5jbGllbnRJZCkge1xuICAgICAgY2xlYW5lZERhdGEuY2xpZW50SWQgPSBTdHJpbmcoY2xlYW5lZERhdGEuY2xpZW50SWQpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2xlYW5lZERhdGEudXNlcklkKSB7XG4gICAgICBjbGVhbmVkRGF0YS51c2VySWQgPSBTdHJpbmcoY2xlYW5lZERhdGEudXNlcklkKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsZWFuZWREYXRhLnNhbGVzUGVyc29uSWQpIHtcbiAgICAgIGNsZWFuZWREYXRhLnNhbGVzUGVyc29uSWQgPSBTdHJpbmcoY2xlYW5lZERhdGEuc2FsZXNQZXJzb25JZCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjbGVhbmVkRGF0YS5wcm9kdWN0KSB7XG4gICAgICBjbGVhbmVkRGF0YS5wcm9kdWN0ID0gU3RyaW5nKGNsZWFuZWREYXRhLnByb2R1Y3QpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2xlYW5lZERhdGEucXVhbnRpdHkpIHtcbiAgICAgIGNsZWFuZWREYXRhLnF1YW50aXR5ID0gTnVtYmVyKGNsZWFuZWREYXRhLnF1YW50aXR5KSB8fCAwO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2xlYW5lZERhdGEuc2lkZXMpIHtcbiAgICAgIGNsZWFuZWREYXRhLnNpZGVzID0gU3RyaW5nKGNsZWFuZWREYXRhLnNpZGVzKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsZWFuZWREYXRhLnByaW50aW5nKSB7XG4gICAgICBjbGVhbmVkRGF0YS5wcmludGluZyA9IFN0cmluZyhjbGVhbmVkRGF0YS5wcmludGluZyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjbGVhbmVkRGF0YS5xdW90ZUlkKSB7XG4gICAgICBjbGVhbmVkRGF0YS5xdW90ZUlkID0gU3RyaW5nKGNsZWFuZWREYXRhLnF1b3RlSWQpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjb2xvcnMgZmllbGQgLSBjb252ZXJ0IG9iamVjdCB0byBzdHJpbmcgaWYgbmVlZGVkXG4gICAgaWYgKGNsZWFuZWREYXRhLmNvbG9ycyAmJiB0eXBlb2YgY2xlYW5lZERhdGEuY29sb3JzID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gSWYgY29sb3JzIGlzIGFuIG9iamVjdCB3aXRoIGZyb250L2JhY2sgcHJvcGVydGllcywgY29udmVydCB0byBKU09OIHN0cmluZ1xuICAgICAgY2xlYW5lZERhdGEuY29sb3JzID0gSlNPTi5zdHJpbmdpZnkoY2xlYW5lZERhdGEuY29sb3JzKTtcbiAgICB9IGVsc2UgaWYgKGNsZWFuZWREYXRhLmNvbG9ycykge1xuICAgICAgY2xlYW5lZERhdGEuY29sb3JzID0gU3RyaW5nKGNsZWFuZWREYXRhLmNvbG9ycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFuZWREYXRhO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNhdmVRdW90ZSA9IGFzeW5jIChpc1VwZGF0ZTogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gICAgc2V0SXNTYXZpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIERlYnVnOiBMb2cgdGhlIGN1cnJlbnQgZm9ybSBkYXRhIGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgICBjb25zb2xlLmxvZygnPT09IFFVT1RFIENSRUFUSU9OIERFQlVHID09PScpO1xuICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgZm9ybURhdGEuY2xpZW50OicsIGZvcm1EYXRhLmNsaWVudCk7XG4gICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBzZWxlY3RlZEN1c3RvbWVyOicsIHNlbGVjdGVkQ3VzdG9tZXIpO1xuICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgcXVvdGVNb2RlOicsIHF1b3RlTW9kZSk7XG4gICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBzZWxlY3RlZFF1b3RlSWQ6Jywgc2VsZWN0ZWRRdW90ZUlkKTtcbiAgICAgIFxuICAgICAgLy8gRm9yY2Ugc3luY2hyb25pemUgZm9ybSBkYXRhIC0gZW5zdXJlIGFsbCBmaWVsZHMgYXJlIHByb3Blcmx5IHNldFxuICAgICAgbGV0IG5lZWRzRm9ybVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgY29uc3QgdXBkYXRlZENsaWVudCA9IHsgLi4uZm9ybURhdGEuY2xpZW50IH07XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSBhbGwgcmVxdWlyZWQgZmllbGRzIGhhdmUgYXQgbGVhc3QgZW1wdHkgc3RyaW5ncyBpbnN0ZWFkIG9mIHVuZGVmaW5lZFxuICAgICAgaWYgKHVwZGF0ZWRDbGllbnQuZW1haWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LmVtYWlsID0gJyc7XG4gICAgICAgIG5lZWRzRm9ybVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodXBkYXRlZENsaWVudC5waG9uZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZWRDbGllbnQucGhvbmUgPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LmNvbnRhY3RQZXJzb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LmNvbnRhY3RQZXJzb24gPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LmFkZHJlc3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LmFkZHJlc3MgPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LmNpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGVkQ2xpZW50LmNpdHkgPSAnJztcbiAgICAgICAgbmVlZHNGb3JtVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1cGRhdGVkQ2xpZW50LnN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBkYXRlZENsaWVudC5zdGF0ZSA9ICcnO1xuICAgICAgICBuZWVkc0Zvcm1VcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHVwZGF0ZWRDbGllbnQucG9zdGFsQ29kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZWRDbGllbnQucG9zdGFsQ29kZSA9ICcnO1xuICAgICAgICBuZWVkc0Zvcm1VcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHVwZGF0ZWRDbGllbnQuY291bnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZWRDbGllbnQuY291bnRyeSA9ICcnO1xuICAgICAgICBuZWVkc0Zvcm1VcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFbnN1cmUgY29udGFjdFBlcnNvbiBpcyBzZXQgaWYgZmlyc3ROYW1lIGFuZCBsYXN0TmFtZSBhcmUgYXZhaWxhYmxlXG4gICAgICBpZiAoIXVwZGF0ZWRDbGllbnQuY29udGFjdFBlcnNvbiAmJiAodXBkYXRlZENsaWVudC5maXJzdE5hbWUgfHwgdXBkYXRlZENsaWVudC5sYXN0TmFtZSkpIHtcbiAgICAgICAgY29uc3QgY29udGFjdFBlcnNvbiA9IGAke3VwZGF0ZWRDbGllbnQuZmlyc3ROYW1lIHx8ICcnfSAke3VwZGF0ZWRDbGllbnQubGFzdE5hbWUgfHwgJyd9YC50cmltKCk7XG4gICAgICAgIHVwZGF0ZWRDbGllbnQuY29udGFjdFBlcnNvbiA9IGNvbnRhY3RQZXJzb247XG4gICAgICAgIG5lZWRzRm9ybVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvLXNldHRpbmcgY29udGFjdFBlcnNvbjonLCBjb250YWN0UGVyc29uKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGZvcm0gZGF0YSBpZiBuZWVkZWRcbiAgICAgIGlmIChuZWVkc0Zvcm1VcGRhdGUpIHtcbiAgICAgICAgc2V0Rm9ybURhdGEocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgY2xpZW50OiB1cGRhdGVkQ2xpZW50XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgZm9ybSBkYXRhIHdpdGggc3luY2hyb25pemVkIGNsaWVudCBpbmZvOicsIHVwZGF0ZWRDbGllbnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVc2UgdGhlIHVwZGF0ZWQgY2xpZW50IGRhdGEgZm9yIHZhbGlkYXRpb25cbiAgICAgIC8vIElmIHdlIGhhdmUgYSBzZWxlY3RlZEN1c3RvbWVyIChleGlzdGluZyBjdXN0b21lciksIHVzZSB0aGF0IGRhdGEgZm9yIHZhbGlkYXRpb25cbiAgICAgIGxldCBjbGllbnRUb1ZhbGlkYXRlID0gbmVlZHNGb3JtVXBkYXRlID8gdXBkYXRlZENsaWVudCA6IGZvcm1EYXRhLmNsaWVudDtcbiAgICAgIFxuICAgICAgLy8gSWYgdXNpbmcgZXhpc3RpbmcgY3VzdG9tZXIgbW9kZSBhbmQgd2UgaGF2ZSBzZWxlY3RlZEN1c3RvbWVyIGRhdGEsIHVzZSB0aGF0IGZvciB2YWxpZGF0aW9uXG4gICAgICBpZiAocXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCIgJiYgc2VsZWN0ZWRDdXN0b21lcikge1xuICAgICAgICBjb25zb2xlLmxvZygnPT09IFNFTEVDVEVEIENVU1RPTUVSIERFQlVHID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWRDdXN0b21lciBvYmplY3Q6Jywgc2VsZWN0ZWRDdXN0b21lcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZEN1c3RvbWVyLmVtYWlsOicsIHNlbGVjdGVkQ3VzdG9tZXIuZW1haWwpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWRDdXN0b21lci5waG9uZTonLCBzZWxlY3RlZEN1c3RvbWVyLnBob25lKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdGVkQ3VzdG9tZXIuY29udGFjdFBlcnNvbjonLCBzZWxlY3RlZEN1c3RvbWVyLmNvbnRhY3RQZXJzb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yIGV4aXN0aW5nIGN1c3RvbWVycywgdXNlIHRoZSBzZWxlY3RlZEN1c3RvbWVyIGRhdGEgZGlyZWN0bHkgZm9yIHZhbGlkYXRpb25cbiAgICAgICAgY2xpZW50VG9WYWxpZGF0ZSA9IHtcbiAgICAgICAgICAuLi5jbGllbnRUb1ZhbGlkYXRlLFxuICAgICAgICAgIGVtYWlsOiBzZWxlY3RlZEN1c3RvbWVyLmVtYWlsLFxuICAgICAgICAgIHBob25lOiBzZWxlY3RlZEN1c3RvbWVyLnBob25lIHx8ICcnLFxuICAgICAgICAgIGNvbnRhY3RQZXJzb246IHNlbGVjdGVkQ3VzdG9tZXIuY29udGFjdFBlcnNvbixcbiAgICAgICAgICBjbGllbnRUeXBlOiBzZWxlY3RlZEN1c3RvbWVyLmNsaWVudFR5cGUsXG4gICAgICAgICAgY29tcGFueU5hbWU6IHNlbGVjdGVkQ3VzdG9tZXIuY29tcGFueU5hbWUgfHwgJycsXG4gICAgICAgICAgcm9sZTogc2VsZWN0ZWRDdXN0b21lci5yb2xlIHx8ICcnLFxuICAgICAgICAgIGFkZHJlc3M6IHNlbGVjdGVkQ3VzdG9tZXIuYWRkcmVzcyB8fCAnJyxcbiAgICAgICAgICBjaXR5OiBzZWxlY3RlZEN1c3RvbWVyLmNpdHkgfHwgJycsXG4gICAgICAgICAgc3RhdGU6IHNlbGVjdGVkQ3VzdG9tZXIuc3RhdGUgfHwgJycsXG4gICAgICAgICAgcG9zdGFsQ29kZTogc2VsZWN0ZWRDdXN0b21lci5wb3N0YWxDb2RlIHx8ICcnLFxuICAgICAgICAgIGNvdW50cnk6IHNlbGVjdGVkQ3VzdG9tZXIuY291bnRyeSB8fCAnJyxcbiAgICAgICAgICBjb3VudHJ5Q29kZTogc2VsZWN0ZWRDdXN0b21lci5jb3VudHJ5Q29kZSB8fCAnKzk3MSdcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHNlbGVjdGVkQ3VzdG9tZXIgZGF0YSBmb3IgdmFsaWRhdGlvbjonLCBjbGllbnRUb1ZhbGlkYXRlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRGVidWc6IExvZyB0aGUgY2xpZW50IGRhdGEgYmVpbmcgdmFsaWRhdGVkXG4gICAgICBjb25zb2xlLmxvZygnPT09IENMSUVOVCBWQUxJREFUSU9OIERFQlVHID09PScpO1xuICAgICAgY29uc29sZS5sb2coJ0NsaWVudCBkYXRhIGJlaW5nIHZhbGlkYXRlZDonLCBjbGllbnRUb1ZhbGlkYXRlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdFbWFpbDonLCBjbGllbnRUb1ZhbGlkYXRlLmVtYWlsKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQaG9uZTonLCBjbGllbnRUb1ZhbGlkYXRlLnBob25lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDb250YWN0IFBlcnNvbjonLCBjbGllbnRUb1ZhbGlkYXRlLmNvbnRhY3RQZXJzb24pO1xuICAgICAgY29uc29sZS5sb2coJ0FkZHJlc3M6JywgY2xpZW50VG9WYWxpZGF0ZS5hZGRyZXNzKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDaXR5OicsIGNsaWVudFRvVmFsaWRhdGUuY2l0eSk7XG4gICAgICBjb25zb2xlLmxvZygnU3RhdGU6JywgY2xpZW50VG9WYWxpZGF0ZS5zdGF0ZSk7XG4gICAgICBjb25zb2xlLmxvZygnUG9zdGFsIENvZGU6JywgY2xpZW50VG9WYWxpZGF0ZS5wb3N0YWxDb2RlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDb3VudHJ5OicsIGNsaWVudFRvVmFsaWRhdGUuY291bnRyeSk7XG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIGVzc2VudGlhbCBmaWVsZHMgb25seVxuICAgICAgLy8gU2tpcCB2YWxpZGF0aW9uIGZvciBleGlzdGluZyBjdXN0b21lcnMgc2luY2Ugd2Uga25vdyB0aGUgZGF0YSBpcyB2YWxpZFxuICAgICAgaWYgKHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiICYmIHNlbGVjdGVkQ3VzdG9tZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NraXBwaW5nIHZhbGlkYXRpb24gZm9yIGV4aXN0aW5nIGN1c3RvbWVyIC0gZGF0YSBpcyBwcmUtdmFsaWRhdGVkJyk7XG4gICAgICB9IGVsc2UgaWYgKCFjbGllbnRUb1ZhbGlkYXRlLmVtYWlsIHx8ICFjbGllbnRUb1ZhbGlkYXRlLnBob25lKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgZXNzZW50aWFsIGNsaWVudCBmaWVsZHM6Jywge1xuICAgICAgICAgIGVtYWlsOiBjbGllbnRUb1ZhbGlkYXRlLmVtYWlsLFxuICAgICAgICAgIHBob25lOiBjbGllbnRUb1ZhbGlkYXRlLnBob25lXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgY2xpZW50IGluZm9ybWF0aW9uOiBlbWFpbCBhbmQgcGhvbmUgYXJlIHJlcXVpcmVkJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZWl0aGVyIGNvbnRhY3RQZXJzb24gT1IgYm90aCBmaXJzdE5hbWUgYW5kIGxhc3ROYW1lXG4gICAgICBjb25zdCBoYXNDb250YWN0UGVyc29uID0gY2xpZW50VG9WYWxpZGF0ZS5jb250YWN0UGVyc29uICYmIGNsaWVudFRvVmFsaWRhdGUuY29udGFjdFBlcnNvbi50cmltKCkgIT09ICcnO1xuICAgICAgY29uc3QgaGFzRnVsbE5hbWUgPSBjbGllbnRUb1ZhbGlkYXRlLmZpcnN0TmFtZSAmJiBjbGllbnRUb1ZhbGlkYXRlLmZpcnN0TmFtZS50cmltKCkgIT09ICcnICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFRvVmFsaWRhdGUubGFzdE5hbWUgJiYgY2xpZW50VG9WYWxpZGF0ZS5sYXN0TmFtZS50cmltKCkgIT09ICcnO1xuICAgICAgXG4gICAgICBpZiAoIWhhc0NvbnRhY3RQZXJzb24gJiYgIWhhc0Z1bGxOYW1lKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgbmFtZSBpbmZvcm1hdGlvbjonLCB7XG4gICAgICAgICAgY29udGFjdFBlcnNvbjogY2xpZW50VG9WYWxpZGF0ZS5jb250YWN0UGVyc29uLFxuICAgICAgICAgIGZpcnN0TmFtZTogY2xpZW50VG9WYWxpZGF0ZS5maXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWU6IGNsaWVudFRvVmFsaWRhdGUubGFzdE5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGFjdCBwZXJzb24gbmFtZSBpcyByZXF1aXJlZCAob3IgZmlyc3QgbmFtZSBhbmQgbGFzdCBuYW1lKScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFbnN1cmUgY29udGFjdFBlcnNvbiBpcyBzZXQgaWYgd2UgaGF2ZSBmaXJzdE5hbWUgYW5kIGxhc3ROYW1lXG4gICAgICBpZiAoIWhhc0NvbnRhY3RQZXJzb24gJiYgaGFzRnVsbE5hbWUpIHtcbiAgICAgICAgY2xpZW50VG9WYWxpZGF0ZS5jb250YWN0UGVyc29uID0gYCR7Y2xpZW50VG9WYWxpZGF0ZS5maXJzdE5hbWV9ICR7Y2xpZW50VG9WYWxpZGF0ZS5sYXN0TmFtZX1gLnRyaW0oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0F1dG8tZ2VuZXJhdGVkIGNvbnRhY3RQZXJzb24gZnJvbSBmaXJzdE5hbWUgYW5kIGxhc3ROYW1lOicsIGNsaWVudFRvVmFsaWRhdGUuY29udGFjdFBlcnNvbik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvbXBhbnkgdmFsaWRhdGlvbiBvbmx5IGlmIGNvbXBhbnkgdHlwZVxuICAgICAgaWYgKGNsaWVudFRvVmFsaWRhdGUuY2xpZW50VHlwZSA9PT0gXCJDb21wYW55XCIgJiYgIWNsaWVudFRvVmFsaWRhdGUuY29tcGFueU5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQgZm9yIGNvbXBhbnkgY2xpZW50cycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGRyZXNzIGZpZWxkcyBhcmUgb3B0aW9uYWwgYnV0IGlmIHByb3ZpZGVkLCBzaG91bGQgYmUgY29tcGxldGVcbiAgICAgIGNvbnN0IGhhc1BhcnRpYWxBZGRyZXNzID0gY2xpZW50VG9WYWxpZGF0ZS5hZGRyZXNzIHx8IGNsaWVudFRvVmFsaWRhdGUuY2l0eSB8fCBjbGllbnRUb1ZhbGlkYXRlLnN0YXRlIHx8IGNsaWVudFRvVmFsaWRhdGUucG9zdGFsQ29kZSB8fCBjbGllbnRUb1ZhbGlkYXRlLmNvdW50cnk7XG4gICAgICBjb25zdCBoYXNDb21wbGV0ZUFkZHJlc3MgPSBjbGllbnRUb1ZhbGlkYXRlLmFkZHJlc3MgJiYgY2xpZW50VG9WYWxpZGF0ZS5jaXR5ICYmIGNsaWVudFRvVmFsaWRhdGUuc3RhdGUgJiYgY2xpZW50VG9WYWxpZGF0ZS5wb3N0YWxDb2RlICYmIGNsaWVudFRvVmFsaWRhdGUuY291bnRyeTtcbiAgICAgIFxuICAgICAgaWYgKGhhc1BhcnRpYWxBZGRyZXNzICYmICFoYXNDb21wbGV0ZUFkZHJlc3MpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdQYXJ0aWFsIGFkZHJlc3MgcHJvdmlkZWQgLSBzb21lIGFkZHJlc3MgZmllbGRzIGFyZSBtaXNzaW5nJyk7XG4gICAgICAgIC8vIERvbid0IHRocm93IGVycm9yLCBqdXN0IHdhcm4gLSBhZGRyZXNzIGlzIG9wdGlvbmFsXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpcnN0LCBzYXZlIHRoZSBjbGllbnQgaWYgaXQncyBhIG5ldyBjbGllbnRcbiAgICAgIGxldCBjbGllbnRJZCA9IHNlbGVjdGVkQ3VzdG9tZXI/LmlkO1xuICAgICAgXG4gICAgICAvLyBJZiBubyBzZWxlY3RlZEN1c3RvbWVyIElELCB3ZSBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBjbGllbnQgZnJvbSBmb3JtIGRhdGFcbiAgICAgIGlmICghY2xpZW50SWQpIHtcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBjbGllbnQgLSBGaXggdGhlIGRhdGEgbWFwcGluZ1xuICAgICAgICBjb25zdCBjbGllbnREYXRhID0ge1xuICAgICAgICAgIGNsaWVudFR5cGU6IGNsaWVudFRvVmFsaWRhdGUuY2xpZW50VHlwZSxcbiAgICAgICAgICBjb21wYW55TmFtZTogY2xpZW50VG9WYWxpZGF0ZS5jbGllbnRUeXBlID09PSBcIkNvbXBhbnlcIiA/IGNsaWVudFRvVmFsaWRhdGUuY29tcGFueU5hbWUgOiBudWxsLFxuICAgICAgICAgIGNvbnRhY3RQZXJzb246IGNsaWVudFRvVmFsaWRhdGUuY29udGFjdFBlcnNvbiB8fCBgJHtjbGllbnRUb1ZhbGlkYXRlLmZpcnN0TmFtZSB8fCAnJ30gJHtjbGllbnRUb1ZhbGlkYXRlLmxhc3ROYW1lIHx8ICcnfWAudHJpbSgpLFxuICAgICAgICAgIGVtYWlsOiBjbGllbnRUb1ZhbGlkYXRlLmVtYWlsLFxuICAgICAgICAgIHBob25lOiBjbGllbnRUb1ZhbGlkYXRlLnBob25lLFxuICAgICAgICAgIGNvdW50cnlDb2RlOiBjbGllbnRUb1ZhbGlkYXRlLmNvdW50cnlDb2RlLFxuICAgICAgICAgIHJvbGU6IGNsaWVudFRvVmFsaWRhdGUuY2xpZW50VHlwZSA9PT0gXCJDb21wYW55XCIgPyBjbGllbnRUb1ZhbGlkYXRlLnJvbGUgOiBudWxsLFxuICAgICAgICAgIGFkZHJlc3M6IGNsaWVudFRvVmFsaWRhdGUuYWRkcmVzcyB8fCAnJyxcbiAgICAgICAgICBjaXR5OiBjbGllbnRUb1ZhbGlkYXRlLmNpdHkgfHwgJycsXG4gICAgICAgICAgc3RhdGU6IGNsaWVudFRvVmFsaWRhdGUuc3RhdGUgfHwgJycsXG4gICAgICAgICAgcG9zdGFsQ29kZTogY2xpZW50VG9WYWxpZGF0ZS5wb3N0YWxDb2RlIHx8ICcnLFxuICAgICAgICAgIGNvdW50cnk6IGNsaWVudFRvVmFsaWRhdGUuY291bnRyeSB8fCAnJyxcbiAgICAgICAgICBhZGRpdGlvbmFsSW5mbzogY2xpZW50VG9WYWxpZGF0ZS5hZGRpdGlvbmFsSW5mbyB8fCAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IGNsaWVudCB3aXRoIGRhdGE6JywgY2xpZW50RGF0YSk7XG5cbiAgICAgICAgY29uc3QgY2xpZW50UmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jbGllbnRzJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjbGllbnREYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFjbGllbnRSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IGNsaWVudFJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGllbnQgY3JlYXRpb24gZmFpbGVkOicsIGNsaWVudFJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgY2xpZW50OiAke2NsaWVudFJlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld0NsaWVudCA9IGF3YWl0IGNsaWVudFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY2xpZW50SWQgPSBuZXdDbGllbnQuaWQ7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIHNlbGVjdGVkQ3VzdG9tZXIgc3RhdGUgd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCBjbGllbnRcbiAgICAgICAgY29uc3QgbmV3Q3VzdG9tZXJEYXRhID0ge1xuICAgICAgICAgIGlkOiBuZXdDbGllbnQuaWQsXG4gICAgICAgICAgY2xpZW50VHlwZTogbmV3Q2xpZW50LmNsaWVudFR5cGUsXG4gICAgICAgICAgY29tcGFueU5hbWU6IG5ld0NsaWVudC5jb21wYW55TmFtZSxcbiAgICAgICAgICBjb250YWN0UGVyc29uOiBuZXdDbGllbnQuY29udGFjdFBlcnNvbixcbiAgICAgICAgICBlbWFpbDogbmV3Q2xpZW50LmVtYWlsLFxuICAgICAgICAgIHBob25lOiBuZXdDbGllbnQucGhvbmUsXG4gICAgICAgICAgY291bnRyeUNvZGU6IG5ld0NsaWVudC5jb3VudHJ5Q29kZSxcbiAgICAgICAgICByb2xlOiBuZXdDbGllbnQucm9sZSxcbiAgICAgICAgICBhZGRyZXNzOiBuZXdDbGllbnQuYWRkcmVzcyxcbiAgICAgICAgICBjaXR5OiBuZXdDbGllbnQuY2l0eSxcbiAgICAgICAgICBzdGF0ZTogbmV3Q2xpZW50LnN0YXRlLFxuICAgICAgICAgIHBvc3RhbENvZGU6IG5ld0NsaWVudC5wb3N0YWxDb2RlLFxuICAgICAgICAgIGNvdW50cnk6IG5ld0NsaWVudC5jb3VudHJ5LFxuICAgICAgICAgIGFkZGl0aW9uYWxJbmZvOiBuZXdDbGllbnQuYWRkaXRpb25hbEluZm8sXG4gICAgICAgICAgZmlyc3ROYW1lOiBmb3JtRGF0YS5jbGllbnQuZmlyc3ROYW1lIHx8ICcnLFxuICAgICAgICAgIGxhc3ROYW1lOiBmb3JtRGF0YS5jbGllbnQubGFzdE5hbWUgfHwgJycsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBzZXRTZWxlY3RlZEN1c3RvbWVyKG5ld0N1c3RvbWVyRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIHNlbGVjdGVkQ3VzdG9tZXIgd2l0aCBuZXcgY2xpZW50OicsIG5ld0N1c3RvbWVyRGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgZm9ybSBkYXRhIHdpdGggdGhlIG5ldyBjdXN0b21lciBpbmZvcm1hdGlvbiB0byBlbnN1cmUgU3RlcCA1IGRpc3BsYXlzIGNvcnJlY3RseVxuICAgICAgICBzZXRGb3JtRGF0YShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICAgIC4uLnByZXYuY2xpZW50LFxuICAgICAgICAgICAgLy8gVXBkYXRlIHdpdGggdGhlIG5ldyBjdXN0b21lciBkYXRhIHRvIGVuc3VyZSBjb25zaXN0ZW5jeVxuICAgICAgICAgICAgY29udGFjdFBlcnNvbjogbmV3Q3VzdG9tZXJEYXRhLmNvbnRhY3RQZXJzb24sXG4gICAgICAgICAgICBlbWFpbDogbmV3Q3VzdG9tZXJEYXRhLmVtYWlsLFxuICAgICAgICAgICAgcGhvbmU6IG5ld0N1c3RvbWVyRGF0YS5waG9uZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IG5ld0N1c3RvbWVyRGF0YS5hZGRyZXNzLFxuICAgICAgICAgICAgY2l0eTogbmV3Q3VzdG9tZXJEYXRhLmNpdHksXG4gICAgICAgICAgICBzdGF0ZTogbmV3Q3VzdG9tZXJEYXRhLnN0YXRlLFxuICAgICAgICAgICAgcG9zdGFsQ29kZTogbmV3Q3VzdG9tZXJEYXRhLnBvc3RhbENvZGUsXG4gICAgICAgICAgICBjb3VudHJ5OiBuZXdDdXN0b21lckRhdGEuY291bnRyeSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJbmZvOiBuZXdDdXN0b21lckRhdGEuYWRkaXRpb25hbEluZm8sXG4gICAgICAgICAgICAvLyBBbHNvIGVuc3VyZSBmaXJzdE5hbWUgYW5kIGxhc3ROYW1lIGFyZSBzZXQgaWYgdGhleSBleGlzdFxuICAgICAgICAgICAgZmlyc3ROYW1lOiBuZXdDdXN0b21lckRhdGEuZmlyc3ROYW1lIHx8IHByZXYuY2xpZW50LmZpcnN0TmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBuZXdDdXN0b21lckRhdGEubGFzdE5hbWUgfHwgcHJldi5jbGllbnQubGFzdE5hbWUgfHwgJycsXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBmb3JtIGRhdGEgd2l0aCBuZXcgY3VzdG9tZXIgaW5mb3JtYXRpb24gZm9yIFN0ZXAgNSBkaXNwbGF5Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBMb2cgdGhlIGZpbmFsIHN0YXRlIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgY29uc29sZS5sb2coJz09PSBGSU5BTCBTVEFURSBBRlRFUiBDTElFTlQgQ1JFQVRJT04gPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOZXcgY2xpZW50IElEOicsIGNsaWVudElkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgc2VsZWN0ZWRDdXN0b21lcjonLCBuZXdDdXN0b21lckRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBmb3JtRGF0YS5jbGllbnQ6JywgZm9ybURhdGEuY2xpZW50KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgbmV3Q2xpZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGN1cnJlbnQgdXNlciBJRFxuICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IGF3YWl0IGdldEN1cnJlbnRVc2VySWQoKTtcblxuICAgICAgLy8gRGVidWc6IExvZyB0aGUgY3VzdG9tZXIgaW5mb3JtYXRpb24gYmVpbmcgdXNlZFxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHF1b3RlIHdpdGggY3VzdG9tZXIgaW5mbzonLCB7XG4gICAgICAgIGNsaWVudElkLFxuICAgICAgICBzZWxlY3RlZEN1c3RvbWVyLFxuICAgICAgICBmb3JtRGF0YUNsaWVudDogZm9ybURhdGEuY2xpZW50LFxuICAgICAgICBuZXdDdXN0b21lckRhdGE6IGNsaWVudElkID8gJ1VzaW5nIGV4aXN0aW5nIGN1c3RvbWVyJyA6ICdDcmVhdGVkIG5ldyBjdXN0b21lcidcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcmVwYXJlIHF1b3RlIGRhdGEgZm9yIEFQSSAtIEZpeCB0aGUgZGF0YSBzdHJ1Y3R1cmUgdG8gbWF0Y2ggRGF0YWJhc2VTZXJ2aWNlIGV4cGVjdGF0aW9uc1xuICAgICAgY29uc3QgcXVvdGVEYXRhID0ge1xuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzdGF0dXM6IFwiUGVuZGluZ1wiLFxuICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXG4gICAgICAgIHVzZXJJZDogY3VycmVudFVzZXJJZCxcbiAgICAgICAgc2FsZXNQZXJzb25JZDogZm9ybURhdGEuc2FsZXNQZXJzb25JZCwgLy8gQWRkIHNhbGVzUGVyc29uSWQgZnJvbSBmb3JtIGRhdGFcbiAgICAgICAgcHJvZHVjdDogZm9ybURhdGEucHJvZHVjdHNbMF0/LnByb2R1Y3ROYW1lIHx8IFwiUHJpbnRpbmcgUHJvZHVjdFwiLFxuICAgICAgICBxdWFudGl0eTogZm9ybURhdGEucHJvZHVjdHNbMF0/LnF1YW50aXR5IHx8IDAsXG4gICAgICAgIHNpZGVzOiBmb3JtRGF0YS5wcm9kdWN0c1swXT8uc2lkZXMgfHwgXCIxXCIsXG4gICAgICAgIHByaW50aW5nOiBmb3JtRGF0YS5wcm9kdWN0c1swXT8ucHJpbnRpbmdTZWxlY3Rpb24gfHwgXCJEaWdpdGFsXCIsXG4gICAgICB9O1xuXG4gICAgICAgICAgICAgIC8vIERlYnVnOiBMb2cgdGhlIHF1b3RlIGRhdGEgYmVpbmcgc2VudFxuICAgICAgICBjb25zb2xlLmxvZygnPT09IFFVT1RFIERBVEEgREVCVUcgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdRdW90ZSBkYXRhIGJlaW5nIHNlbnQ6JywgcXVvdGVEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NhbGVzUGVyc29uSWQ6JywgZm9ybURhdGEuc2FsZXNQZXJzb25JZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDdXN0b21lciBJRCBiZWluZyB1c2VkOicsIGNsaWVudElkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NlbGVjdGVkIGN1c3RvbWVyIHN0YXRlOicsIHNlbGVjdGVkQ3VzdG9tZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygnZm9ybURhdGEub3BlcmF0aW9uYWwucGFwZXJzOicsIGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmc6JywgZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nKTtcblxuICAgICAgbGV0IHF1b3RlUmVzcG9uc2U7XG4gICAgICBsZXQgc2F2ZWRRdW90ZTtcblxuICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgYWN0dWFsbHkgZWRpdGluZyBhbiBleGlzdGluZyBxdW90ZSAoaGFzIHNlbGVjdGVkUXVvdGVJZClcbiAgICAgIGlmIChzZWxlY3RlZFF1b3RlSWQgJiYgaXNVcGRhdGUpIHtcbiAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHF1b3RlIC0gd2UgaGF2ZSBhIHNwZWNpZmljIHF1b3RlIElEIHRvIGVkaXRcbiAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIGV4aXN0aW5nIHF1b3RlOicsIHNlbGVjdGVkUXVvdGVJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCc9PT0gUVVPVEUgREFUQSBERUJVRyAoVVBEQVRFKSA9PT0nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1F1b3RlIGRhdGEgYmVpbmcgc2VudDonLCBxdW90ZURhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2FsZXNQZXJzb25JZDonLCBmb3JtRGF0YS5zYWxlc1BlcnNvbklkKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBTdGVwIDUgY2FsY3VsYXRpb24gcmVzdWx0cyBkaXJlY3RseSAtIG5vIHJlY2FsY3VsYXRpb24gbmVlZGVkXG4gICAgICAgIGNvbnN0IHRvdGFsUHJpY2UgPSBmb3JtRGF0YS5jYWxjdWxhdGlvbi50b3RhbFByaWNlIHx8IDA7XG4gICAgICAgIGNvbnN0IHRvdGFsQmFzZVByaWNlID0gZm9ybURhdGEuY2FsY3VsYXRpb24uYmFzZVByaWNlIHx8IDA7XG4gICAgICAgIGNvbnN0IHZhdEFtb3VudCA9IGZvcm1EYXRhLmNhbGN1bGF0aW9uLnZhdEFtb3VudCB8fCAwO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCc9PT0gVVNJTkcgU1RFUCA1IENBTENVTEFUSU9OIFJFU1VMVFMgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVwIDUgdG90YWxQcmljZTonLCB0b3RhbFByaWNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0ZXAgNSBiYXNlUHJpY2U6JywgdG90YWxCYXNlUHJpY2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RlcCA1IHZhdEFtb3VudDonLCB2YXRBbW91bnQpO1xuXG4gICAgICAgIC8vIEZvciB1cGRhdGVzLCB3ZSBjYW4gaW5jbHVkZSBhZGRpdGlvbmFsIGRhdGEgbGlrZSBwYXBlcnMsIGZpbmlzaGluZywgYW1vdW50c1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICAgIC4uLnF1b3RlRGF0YSxcbiAgICAgICAgICBzYWxlc1BlcnNvbklkOiBmb3JtRGF0YS5zYWxlc1BlcnNvbklkLCAvLyBFbnN1cmUgc2FsZXNQZXJzb25JZCBpcyBpbmNsdWRlZCBpbiB1cGRhdGVzXG4gICAgICAgICAgY29sb3JzOiBmb3JtRGF0YS5wcm9kdWN0c1swXT8uY29sb3JzIHx8IG51bGwsIC8vIEluY2x1ZGUgY29sb3JzIGZpZWxkXG4gICAgICAgICAgcGFwZXJzOiB7XG4gICAgICAgICAgICBjcmVhdGU6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycy5tYXAoKG9wZXJhdGlvbmFsUGFwZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgY29ycmVzcG9uZGluZyBwYXBlciBuYW1lIGFuZCBnc20gZnJvbSBwcm9kdWN0IHBhcGVyc1xuICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0UGFwZXIgPSBmb3JtRGF0YS5wcm9kdWN0c1swXT8ucGFwZXJzW2luZGV4XSB8fCBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHByb2R1Y3RQYXBlcj8ubmFtZSB8fCBcIlN0YW5kYXJkIFBhcGVyXCIsXG4gICAgICAgICAgICAgICAgZ3NtOiBwcm9kdWN0UGFwZXI/LmdzbSA/IHBhcnNlSW50KHByb2R1Y3RQYXBlci5nc20pIDogMTUwLFxuICAgICAgICAgICAgICAgIGlucHV0V2lkdGg6IG9wZXJhdGlvbmFsUGFwZXIuaW5wdXRXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIGlucHV0SGVpZ2h0OiBvcGVyYXRpb25hbFBhcGVyLmlucHV0SGVpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgcHJpY2VQZXJQYWNrZXQ6IG9wZXJhdGlvbmFsUGFwZXIucHJpY2VQZXJQYWNrZXQgfHwgMCxcbiAgICAgICAgICAgICAgICBwcmljZVBlclNoZWV0OiBvcGVyYXRpb25hbFBhcGVyLnByaWNlUGVyU2hlZXQgfHwgMCxcbiAgICAgICAgICAgICAgICBzaGVldHNQZXJQYWNrZXQ6IG9wZXJhdGlvbmFsUGFwZXIuc2hlZXRzUGVyUGFja2V0IHx8IDEsXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRTaGVldHM6IG9wZXJhdGlvbmFsUGFwZXIucmVjb21tZW5kZWRTaGVldHMgfHwgMSxcbiAgICAgICAgICAgICAgICBlbnRlcmVkU2hlZXRzOiBvcGVyYXRpb25hbFBhcGVyLmVudGVyZWRTaGVldHMgfHwgMSxcbiAgICAgICAgICAgICAgICBvdXRwdXRXaWR0aDogb3BlcmF0aW9uYWxQYXBlci5vdXRwdXRXaWR0aCB8fCAwLFxuICAgICAgICAgICAgICAgIG91dHB1dEhlaWdodDogb3BlcmF0aW9uYWxQYXBlci5vdXRwdXRIZWlnaHQgfHwgMCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yczogb3BlcmF0aW9uYWxQYXBlci5zZWxlY3RlZENvbG9ycyB8fCBcIlwiLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaGluZzoge1xuICAgICAgICAgICAgY3JlYXRlOiBmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmcubWFwKGZpbmlzaCA9PiAoe1xuICAgICAgICAgICAgICBuYW1lOiBmaW5pc2gubmFtZSB8fCBcIlN0YW5kYXJkIEZpbmlzaGluZ1wiLFxuICAgICAgICAgICAgICBjb3N0OiBmaW5pc2guY29zdCB8fCAwLFxuICAgICAgICAgICAgfSkpIHx8IFtdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhbW91bnRzOiB7XG4gICAgICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICAgICAgYmFzZTogdG90YWxCYXNlUHJpY2UsIC8vIFVzZSBTdGVwIDUgYmFzZSBwcmljZVxuICAgICAgICAgICAgICB2YXQ6IHZhdEFtb3VudCwgLy8gVXNlIFN0ZXAgNSBWQVQgYW1vdW50XG4gICAgICAgICAgICAgIHRvdGFsOiB0b3RhbFByaWNlIC8vIFVzZSBTdGVwIDUgdG90YWwgcHJpY2UgLSBFWEFDVExZIHRoZSBzYW1lIGFzIFN0ZXAgNSBmaW5hbCBwcmljZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3BlcmF0aW9uYWw6IHtcbiAgICAgICAgICAgIGNyZWF0ZToge1xuICAgICAgICAgICAgICBwbGF0ZXM6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBsYXRlcyB8fCAwLFxuICAgICAgICAgICAgICB1bml0czogZm9ybURhdGEub3BlcmF0aW9uYWwudW5pdHMgfHwgMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRlIGFuZCBjbGVhbiB0aGUgdXBkYXRlIGRhdGEgYmVmb3JlIHNlbmRpbmdcbiAgICAgICAgY29uc3QgY2xlYW5lZFVwZGF0ZURhdGEgPSB2YWxpZGF0ZUFuZENsZWFuUXVvdGVEYXRhKHVwZGF0ZURhdGEpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1F1b3RlIGRhdGEgYmVpbmcgc2VudCBmb3IgdXBkYXRlOicsIGNsZWFuZWRVcGRhdGVEYXRhKTtcbiAgICAgICAgXG4gICAgICAgIHF1b3RlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9xdW90ZXMvJHtzZWxlY3RlZFF1b3RlSWR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNsZWFuZWRVcGRhdGVEYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFxdW90ZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcXVvdGVSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUXVvdGUgdXBkYXRlIGZhaWxlZDonLCBxdW90ZVJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgcXVvdGU6ICR7cXVvdGVSZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBzYXZlZFF1b3RlID0gYXdhaXQgcXVvdGVSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdRdW90ZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseTonLCBzYXZlZFF1b3RlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIGZvciB1cGRhdGVcbiAgICAgICAgYWxlcnQoJ1F1b3RlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IHF1b3RlIC0gZXZlbiBpZiB1c2luZyBleGlzdGluZyBjdXN0b21lciwgdGhpcyBpcyBhIG5ldyBxdW90ZVxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IHF1b3RlIHdpdGggY29tcGxldGUgZGV0YWlscycpO1xuICAgICAgICBjb25zb2xlLmxvZygnPT09IENPTVBMRVRFIFFVT1RFIERBVEEgREVCVUcgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YS5zYWxlc1BlcnNvbklkOicsIGZvcm1EYXRhLnNhbGVzUGVyc29uSWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnZm9ybURhdGEub3BlcmF0aW9uYWwucGFwZXJzOicsIGZvcm1EYXRhLm9wZXJhdGlvbmFsLnBhcGVycyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YS5vcGVyYXRpb25hbC5maW5pc2hpbmc6JywgZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIHF1b3RlIElEIGluIHByb3BlciBmb3JtYXQ6IFFULVlZWVktTU1ERC1YWFhcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBtb250aCA9IFN0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCByYW5kb21OdW0gPSBTdHJpbmcoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCkpLnBhZFN0YXJ0KDMsICcwJyk7XG4gICAgICAgIGNvbnN0IHF1b3RlSWQgPSBgUVQtJHt5ZWFyfS0ke21vbnRofSR7ZGF5fS0ke3JhbmRvbU51bX1gO1xuICAgICAgICBcbiAgICAgICAgLy8gVXNlIFN0ZXAgNSBjYWxjdWxhdGlvbiByZXN1bHRzIGRpcmVjdGx5IC0gbm8gcmVjYWxjdWxhdGlvbiBuZWVkZWRcbiAgICAgICAgY29uc3QgdG90YWxQcmljZSA9IGZvcm1EYXRhLmNhbGN1bGF0aW9uLnRvdGFsUHJpY2UgfHwgMDtcbiAgICAgICAgY29uc3QgdG90YWxCYXNlUHJpY2UgPSBmb3JtRGF0YS5jYWxjdWxhdGlvbi5iYXNlUHJpY2UgfHwgMDtcbiAgICAgICAgY29uc3QgdmF0QW1vdW50ID0gZm9ybURhdGEuY2FsY3VsYXRpb24udmF0QW1vdW50IHx8IDA7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnPT09IFVTSU5HIFNURVAgNSBDQUxDVUxBVElPTiBSRVNVTFRTID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RlcCA1IHRvdGFsUHJpY2U6JywgdG90YWxQcmljZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVwIDUgYmFzZVByaWNlOicsIHRvdGFsQmFzZVByaWNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0ZXAgNSB2YXRBbW91bnQ6JywgdmF0QW1vdW50KTtcblxuICAgICAgICAvLyBQcmVwYXJlIGNvbXBsZXRlIHF1b3RlIGRhdGEgd2l0aCBhbGwgZGV0YWlsc1xuICAgICAgICBjb25zdCBjb21wbGV0ZVF1b3RlRGF0YSA9IHtcbiAgICAgICAgICAuLi5xdW90ZURhdGEsXG4gICAgICAgICAgcXVvdGVJZDogcXVvdGVJZCxcbiAgICAgICAgICBzYWxlc1BlcnNvbklkOiBmb3JtRGF0YS5zYWxlc1BlcnNvbklkLCAvLyBFeHBsaWNpdGx5IGluY2x1ZGUgc2FsZXNQZXJzb25JZFxuICAgICAgICAgIGNvbG9yczogZm9ybURhdGEucHJvZHVjdHNbMF0/LmNvbG9ycyB8fCBudWxsLCAvLyBJbmNsdWRlIGNvbG9ycyBmaWVsZFxuICAgICAgICAgIHBhcGVyczoge1xuICAgICAgICAgICAgY3JlYXRlOiBmb3JtRGF0YS5vcGVyYXRpb25hbC5wYXBlcnMubWFwKChvcGVyYXRpb25hbFBhcGVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAvLyBHZXQgdGhlIGNvcnJlc3BvbmRpbmcgcGFwZXIgbmFtZSBhbmQgZ3NtIGZyb20gcHJvZHVjdCBwYXBlcnNcbiAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFBhcGVyID0gZm9ybURhdGEucHJvZHVjdHNbMF0/LnBhcGVyc1tpbmRleF0gfHwgbnVsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwcm9kdWN0UGFwZXI/Lm5hbWUgfHwgXCJTdGFuZGFyZCBQYXBlclwiLFxuICAgICAgICAgICAgICAgIGdzbTogcHJvZHVjdFBhcGVyPy5nc20gPyBwYXJzZUludChwcm9kdWN0UGFwZXIuZ3NtKSA6IDE1MCxcbiAgICAgICAgICAgICAgICBpbnB1dFdpZHRoOiBvcGVyYXRpb25hbFBhcGVyLmlucHV0V2lkdGggfHwgMCxcbiAgICAgICAgICAgICAgICBpbnB1dEhlaWdodDogb3BlcmF0aW9uYWxQYXBlci5pbnB1dEhlaWdodCB8fCAwLFxuICAgICAgICAgICAgICAgIHByaWNlUGVyUGFja2V0OiBvcGVyYXRpb25hbFBhcGVyLnByaWNlUGVyUGFja2V0IHx8IDAsXG4gICAgICAgICAgICAgICAgcHJpY2VQZXJTaGVldDogb3BlcmF0aW9uYWxQYXBlci5wcmljZVBlclNoZWV0IHx8IDAsXG4gICAgICAgICAgICAgICAgc2hlZXRzUGVyUGFja2V0OiBvcGVyYXRpb25hbFBhcGVyLnNoZWV0c1BlclBhY2tldCB8fCAxLFxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGVkU2hlZXRzOiBvcGVyYXRpb25hbFBhcGVyLnJlY29tbWVuZGVkU2hlZXRzIHx8IDEsXG4gICAgICAgICAgICAgICAgZW50ZXJlZFNoZWV0czogb3BlcmF0aW9uYWxQYXBlci5lbnRlcmVkU2hlZXRzIHx8IDEsXG4gICAgICAgICAgICAgICAgb3V0cHV0V2lkdGg6IG9wZXJhdGlvbmFsUGFwZXIub3V0cHV0V2lkdGggfHwgMCxcbiAgICAgICAgICAgICAgICBvdXRwdXRIZWlnaHQ6IG9wZXJhdGlvbmFsUGFwZXIub3V0cHV0SGVpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2xvcnM6IG9wZXJhdGlvbmFsUGFwZXIuc2VsZWN0ZWRDb2xvcnMgfHwgXCJcIixcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pIHx8IFtdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaW5pc2hpbmc6IHtcbiAgICAgICAgICAgIGNyZWF0ZTogZm9ybURhdGEub3BlcmF0aW9uYWwuZmluaXNoaW5nLm1hcChmaW5pc2ggPT4gKHtcbiAgICAgICAgICAgICAgbmFtZTogZmluaXNoLm5hbWUgfHwgXCJTdGFuZGFyZCBGaW5pc2hpbmdcIixcbiAgICAgICAgICAgICAgY29zdDogZmluaXNoLmNvc3QgfHwgMCxcbiAgICAgICAgICAgIH0pKSB8fCBbXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYW1vdW50czoge1xuICAgICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICAgIGJhc2U6IHRvdGFsQmFzZVByaWNlLCAvLyBVc2UgU3RlcCA1IGJhc2UgcHJpY2VcbiAgICAgICAgICAgICAgdmF0OiB2YXRBbW91bnQsIC8vIFVzZSBTdGVwIDUgVkFUIGFtb3VudFxuICAgICAgICAgICAgICB0b3RhbDogdG90YWxQcmljZSAvLyBVc2UgU3RlcCA1IHRvdGFsIHByaWNlIC0gRVhBQ1RMWSB0aGUgc2FtZSBhcyBTdGVwIDUgZmluYWwgcHJpY2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wZXJhdGlvbmFsOiB7XG4gICAgICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICAgICAgcGxhdGVzOiBmb3JtRGF0YS5vcGVyYXRpb25hbC5wbGF0ZXMgfHwgMCxcbiAgICAgICAgICAgICAgdW5pdHM6IGZvcm1EYXRhLm9wZXJhdGlvbmFsLnVuaXRzIHx8IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0ZSBhbmQgY2xlYW4gdGhlIGRhdGEgYmVmb3JlIHNlbmRpbmdcbiAgICAgICAgY29uc3QgY2xlYW5lZFF1b3RlRGF0YSA9IHZhbGlkYXRlQW5kQ2xlYW5RdW90ZURhdGEoY29tcGxldGVRdW90ZURhdGEpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJz09PSBGSU5BTCBRVU9URSBEQVRBIERFQlVHID09PScpO1xuICAgICAgICBjb25zb2xlLmxvZygnT3JpZ2luYWwgcXVvdGVEYXRhOicsIHF1b3RlRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb21wbGV0ZSBxdW90ZSBkYXRhIGJlZm9yZSBjbGVhbmluZzonLCBjb21wbGV0ZVF1b3RlRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCc9PT0gQU1PVU5UUyBERUJVRyAtIFVTSU5HIFNURVAgNSBWQUxVRVMgPT09Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YS5jYWxjdWxhdGlvbjonLCBmb3JtRGF0YS5jYWxjdWxhdGlvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVwIDUgdG90YWxQcmljZSBiZWluZyBzYXZlZDonLCB0b3RhbFByaWNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0ZXAgNSBiYXNlUHJpY2UgYmVpbmcgc2F2ZWQ6JywgdG90YWxCYXNlUHJpY2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RlcCA1IHZhdEFtb3VudCBiZWluZyBzYXZlZDonLCB2YXRBbW91bnQpO1xuICAgICAgICBjb25zb2xlLmxvZygnY29tcGxldGVRdW90ZURhdGEuYW1vdW50czonLCBjb21wbGV0ZVF1b3RlRGF0YS5hbW91bnRzKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0NsZWFuZWQgYW1vdW50czonLCBjbGVhbmVkUXVvdGVEYXRhLmFtb3VudHMpO1xuICAgICAgICBjb25zb2xlLmxvZygnQ2xlYW5lZCBxdW90ZSBkYXRhIGJlaW5nIHNlbnQ6JywgY2xlYW5lZFF1b3RlRGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzYWxlc1BlcnNvbklkIGluIGNsZWFuZWQgZGF0YTonLCBjbGVhbmVkUXVvdGVEYXRhLnNhbGVzUGVyc29uSWQpO1xuICAgICAgICBcbiAgICAgICAgcXVvdGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3F1b3RlcycsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2xlYW5lZFF1b3RlRGF0YSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcXVvdGVSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHF1b3RlUmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1F1b3RlIGNyZWF0aW9uIGZhaWxlZDonLCBxdW90ZVJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgcXVvdGU6ICR7cXVvdGVSZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBzYXZlZFF1b3RlID0gYXdhaXQgcXVvdGVSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdRdW90ZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGFsbCBkZXRhaWxzOicsIHNhdmVkUXVvdGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93IHN1Y2Nlc3MgbW9kYWwgb25seSBmb3IgbmV3IHF1b3Rlc1xuICAgICAgaWYgKCFpc1VwZGF0ZSkge1xuICAgICAgICBzZXRTYXZlTW9kYWxPcGVuKHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcXVvdGU6JywgZXJyb3IpO1xuICAgICAgLy8gVXNlIGEgbW9yZSB1c2VyLWZyaWVuZGx5IGVycm9yIG1lc3NhZ2VcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnO1xuICAgICAgY29uc3QgYWN0aW9uID0gc2VsZWN0ZWRRdW90ZUlkICYmIGlzVXBkYXRlID8gJ3VwZGF0aW5nJyA6ICdjcmVhdGluZyc7XG4gICAgICBhbGVydChgRXJyb3IgJHthY3Rpb259IHF1b3RlOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZEN1c3RvbWVyRnJvbU1vZGFsID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGRvd25sb2FkQ3VzdG9tZXJQZGYoZm9ybURhdGEsIG90aGVyUXVhbnRpdGllcyk7XG4gICAgc2V0U2F2ZU1vZGFsT3BlbihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG93bmxvYWRPcHNGcm9tTW9kYWwgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZG93bmxvYWRPcHNQZGYoZm9ybURhdGEsIG90aGVyUXVhbnRpdGllcyk7XG4gICAgc2V0U2F2ZU1vZGFsT3BlbihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2xvc2VBbmRHb0hvbWUgPSAoKSA9PiB7XG4gICAgc2V0U2F2ZU1vZGFsT3BlbihmYWxzZSk7XG4gICAgcm91dGVyLnB1c2goXCIvXCIpO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBhcHByb3ZhbCBzdGF0dXMgY2hhbmdlcyBmcm9tIFN0ZXA1XG4gIGNvbnN0IGhhbmRsZUFwcHJvdmFsU3RhdHVzQ2hhbmdlID0gKG5lZWRzQXBwcm92YWw6IGJvb2xlYW4sIHJlYXNvbj86IHN0cmluZykgPT4ge1xuICAgIHNldFJlcXVpcmVzQXBwcm92YWwobmVlZHNBcHByb3ZhbCk7XG4gICAgc2V0QXBwcm92YWxSZWFzb24ocmVhc29uKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJTdGVwQ29udGVudCA9ICgpID0+IHtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGVwKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LThcIj5cbiAgICAgICAgICAgIHsvKiBTdGVwIDEgSGVhZGVyICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTIgc206c3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIHNtOnRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPkNyZWF0ZSBBIFF1b3RlPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1iYXNlIHNtOnRleHQtbGcgdGV4dC1zbGF0ZS02MDBcIj5DaG9vc2UgaG93IHlvdSZhcG9zO2QgbGlrZSB0byBjcmVhdGUgeW91ciBwcmludGluZyBxdW90ZTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogUXVvdGUgTW9kZSBTZWxlY3Rpb24gQ2FyZHMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgZ2FwLTYgc206Z2FwLTggbWF4LXctNHhsIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgey8qIENyZWF0ZSBOZXcgUXVvdGUgQ2FyZCAqL31cbiAgICAgICAgICAgICAgPENhcmQgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyLTAgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6LXRyYW5zbGF0ZS15LTEgY3Vyc29yLXBvaW50ZXIgZ3JvdXAgJHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlTW9kZSA9PT0gXCJuZXdcIiA/IFwicmluZy00IHJpbmctYmx1ZS01MDAgcmluZy1vcGFjaXR5LTUwIGJnLWJsdWUtNTBcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdGFydE5ld31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTQgc206cC02IGxnOnAtOCB0ZXh0LWNlbnRlciBzcGFjZS15LTQgc206c3BhY2UteS02XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBzbTp3LTIwIHNtOmgtMjAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1ibHVlLTYwMCByb3VuZGVkLTJ4bCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIGdyb3VwLWhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctOCBoLTggc206dy0xMCBzbTpoLTEwIHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBzbTpzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgc206dGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwXCI+Q3JlYXRlIE5ldyBRdW90ZTwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gc206dGV4dC1iYXNlIHRleHQtc2xhdGUtNjAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IGEgZnJlc2ggcXVvdGF0aW9uIGZyb20gc2NyYXRjaC4gUGVyZmVjdCBmb3IgbmV3IHByb2plY3RzLCBjdXN0b20gcmVxdWlyZW1lbnRzLCBvciB3aGVuIHlvdSBuZWVkIGNvbXBsZXRlIGNvbnRyb2wgb3ZlciB0aGUgcXVvdGUgZGV0YWlscy5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTIgc206cHQtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bIzI3YWFlMV0gaG92ZXI6YmctWyMxZThiYzNdIHRleHQtd2hpdGUgcHktMiBzbTpweS0zIHJvdW5kZWQteGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0YXJ0TmV3fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPVwidy00IGgtNCBzbTp3LTUgc206aC01IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IE5ldyBRdW90ZVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgICAgICB7LyogRXhpc3RpbmcgUXVvdGUgQ2FyZCAqL31cbiAgICAgICAgICAgICAgPENhcmQgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyLTAgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6LXRyYW5zbGF0ZS15LTEgY3Vyc29yLXBvaW50ZXIgZ3JvdXAgJHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiID8gXCJyaW5nLTQgcmluZy1ibHVlLTUwMCByaW5nLW9wYWNpdHktNTAgYmctYmx1ZS01MFwiIDogXCJcIlxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGRlZmF1bHQgcHJvZHVjdCBkYXRhIHdoZW4gZW50ZXJpbmcgZXhpc3RpbmcgcXVvdGUgbW9kZVxuICAgICAgICAgICAgICAgICAgc2V0Rm9ybURhdGEoKHByZXYpID0+ICh7IFxuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFtdIC8vIENsZWFyIHByb2R1Y3RzIGFycmF5IC0gd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbSBzZWxlY3RlZCBxdW90ZVxuICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgc2V0UXVvdGVNb2RlKFwiZXhpc3RpbmdcIik7XG4gICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFF1b3RlSWQobnVsbCk7IC8vIFdpbGwgYmUgc2V0IHdoZW4gYSBzcGVjaWZpYyBxdW90ZSBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihudWxsKTtcbiAgICAgICAgICAgICAgICAgIC8vIERvbid0IGF1dG8tbmF2aWdhdGUgLSBqdXN0IHNldCB0aGUgbW9kZSBmb3Igc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTQgc206cC02IGxnOnAtOCB0ZXh0LWNlbnRlciBzcGFjZS15LTQgc206c3BhY2UteS02XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBzbTp3LTIwIHNtOmgtMjAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1ibHVlLTYwMCByb3VuZGVkLTJ4bCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIGdyb3VwLWhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPENvcHkgY2xhc3NOYW1lPVwidy04IGgtOCBzbTp3LTEwIHNtOmgtMTAgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHNtOnNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBzbTp0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5CYXNlZCBvbiBQcmV2aW91cyBRdW90ZTwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gc206dGV4dC1iYXNlIHRleHQtc2xhdGUtNjAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIFVzZSBhbiBleGlzdGluZyBxdW90ZSBhcyBhIHRlbXBsYXRlLiBTYXZlIHRpbWUgYnkgbW9kaWZ5aW5nIHByZXZpb3VzIHNwZWNpZmljYXRpb25zLCBwcmljaW5nLCBhbmQgY3VzdG9tZXIgZGV0YWlscyBmb3Igc2ltaWxhciBwcm9qZWN0cy5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTIgc206cHQtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bIzI3YWFlMV0gaG92ZXI6YmctWyMxZThiYzNdIHRleHQtd2hpdGUgcHktMiBzbTpweS0zIHJvdW5kZWQteGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIGRlZmF1bHQgcHJvZHVjdCBkYXRhIHdoZW4gZW50ZXJpbmcgZXhpc3RpbmcgcXVvdGUgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Rm9ybURhdGEoKHByZXYpID0+ICh7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFtdIC8vIENsZWFyIHByb2R1Y3RzIGFycmF5IC0gd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbSBzZWxlY3RlZCBxdW90ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UXVvdGVNb2RlKFwiZXhpc3RpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFF1b3RlSWQobnVsbCk7IC8vIFdpbGwgYmUgc2V0IHdoZW4gYSBzcGVjaWZpYyBxdW90ZSBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGF1dG8tbmF2aWdhdGUgLSBqdXN0IHNldCB0aGUgbW9kZSBmb3Igc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00IHNtOnctNSBzbTpoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgVXNlIEV4aXN0aW5nIFF1b3RlXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBBZGRpdGlvbmFsIEluZm8gKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc2xhdGUtNTAwIG1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgc206dGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIEJvdGggb3B0aW9ucyB3aWxsIGd1aWRlIHlvdSB0aHJvdWdoIHRoZSBzYW1lIGNvbXByZWhlbnNpdmUgcXVvdGUgY3JlYXRpb24gcHJvY2VzcywgXG4gICAgICAgICAgICAgICAgZW5zdXJpbmcgYWNjdXJhY3kgYW5kIGNvbnNpc3RlbmN5IGluIHlvdXIgcHJpbnRpbmcgZXN0aW1hdGVzLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAge3F1b3RlTW9kZSA9PT0gXCJuZXdcIiAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS0yIHNtOnNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIHNtOnRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPkN1c3RvbWVyIERldGFpbHM8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZSBzbTp0ZXh0LWJhc2UgdGV4dC1zbGF0ZS02MDBcIj5cbiAgICAgICAgICAgICAgICAgIEZpbGwgaW4gdGhlIGN1c3RvbWVyIGluZm9ybWF0aW9uIGZvciB5b3VyIG5ldyBxdW90ZVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7cXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCIgPyAoXG4gICAgICAgICAgICAgIC8vIFVzZSBTdGVwMkN1c3RvbWVyQ2hvb3NlIGNvbXBvbmVudCBmb3IgZXhpc3RpbmcgcXVvdGUgbW9kZVxuICAgICAgICAgICAgICA8U3RlcDJDdXN0b21lckNob29zZSBcbiAgICAgICAgICAgICAgICBmb3JtRGF0YT17Zm9ybURhdGF9IFxuICAgICAgICAgICAgICAgIHNldEZvcm1EYXRhPXtzZXRGb3JtRGF0YX0gXG4gICAgICAgICAgICAgICAgb25DdXN0b21lclNlbGVjdD17aGFuZGxlQ3VzdG9tZXJTZWxlY3R9XG4gICAgICAgICAgICAgICAgb25RdW90ZVNlbGVjdD17aGFuZGxlUXVvdGVTZWxlY3R9IC8vIFBhc3MgdGhlIG5ldyBoYW5kbGVyXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAvLyBTaG93IGVtcHR5IGN1c3RvbWVyIGRldGFpbCBmb3JtIGZvciBuZXcgcXVvdGVcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwIG1iLTQgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMiBoLTIgYmctWyMyN2FhZTFdIHJvdW5kZWQtZnVsbCBtci0zXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgTmV3IEN1c3RvbWVyIERldGFpbHNcbiAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgIDxTdGVwMkN1c3RvbWVyRGV0YWlsIGZvcm1EYXRhPXtmb3JtRGF0YX0gc2V0Rm9ybURhdGE9e3NldEZvcm1EYXRhfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFN0ZXAzUHJvZHVjdFNwZWMgZm9ybURhdGE9e2Zvcm1EYXRhfSBzZXRGb3JtRGF0YT17c2V0Rm9ybURhdGF9IC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFN0ZXA0T3BlcmF0aW9uYWwgZm9ybURhdGE9e2Zvcm1EYXRhfSBzZXRGb3JtRGF0YT17c2V0Rm9ybURhdGF9IC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFN0ZXA1UXVvdGF0aW9uXG4gICAgICAgICAgICBmb3JtRGF0YT17Zm9ybURhdGF9XG4gICAgICAgICAgICBzZXRGb3JtRGF0YT17c2V0Rm9ybURhdGF9XG4gICAgICAgICAgICBvdGhlclF1YW50aXRpZXM9e290aGVyUXVhbnRpdGllc31cbiAgICAgICAgICAgIHNldE90aGVyUXVhbnRpdGllcz17c2V0T3RoZXJRdWFudGl0aWVzfVxuICAgICAgICAgICAgb25PcGVuU2F2ZT17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSBmb3JtIGRhdGEgYmVmb3JlIG9wZW5pbmcgc2F2ZSBtb2RhbFxuICAgICAgICAgICAgICBpZiAodmFsaWRhdGVGb3JtRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgc2V0U2F2ZU1vZGFsT3Blbih0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGlzRWRpdE1vZGU9eyEhc2VsZWN0ZWRRdW90ZUlkfVxuICAgICAgICAgICAgc2VsZWN0ZWRRdW90ZUlkPXtzZWxlY3RlZFF1b3RlSWR9XG4gICAgICAgICAgICBvblN1Ym1pdFF1b3RlPXthc3luYyAodXBkYXRlZEZvcm1EYXRhKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYnkgU3RlcDVRdW90YXRpb24gdG8gYWN0dWFsbHkgc3VibWl0IHRoZSBxdW90ZVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZm9ybSBkYXRhIGZpcnN0XG4gICAgICAgICAgICAgICAgc2V0Rm9ybURhdGEodXBkYXRlZEZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBUaGVuIGNhbGwgdGhlIGFjdHVhbCBzYXZlIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlU2F2ZVF1b3RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUXVvdGUgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSBmcm9tIFN0ZXA1UXVvdGF0aW9uJyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBxdW90ZSBmcm9tIFN0ZXA1UXVvdGF0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gbGV0IFN0ZXA1UXVvdGF0aW9uIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uQXBwcm92YWxTdGF0dXNDaGFuZ2U9e2hhbmRsZUFwcHJvdmFsU3RhdHVzQ2hhbmdlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdmlhLXdoaXRlIHRvLXB1cnBsZS01MCBwLTQgc206cC02IGxnOnAtOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBzcGFjZS15LTZcIj5cbiAgICAgICAgey8qIE1haW4gQ29udGVudCBDYXJkICovfVxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJib3JkZXItMCBzaGFkb3ctbGdcIj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC00IHNtOnAtNiBsZzpwLTEwIHNwYWNlLXktNiBzbTpzcGFjZS15LTEwXCI+XG4gICAgICAgICAgICA8U3RlcEluZGljYXRvclxuICAgICAgICAgICAgICBhY3RpdmVTdGVwPXtjdXJyZW50U3RlcH1cbiAgICAgICAgICAgICAgcXVvdGVNb2RlPXtxdW90ZU1vZGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgc206bXQtOFwiPntyZW5kZXJTdGVwQ29udGVudCgpfTwvZGl2PlxuXG4gICAgICAgICAgICB7LyogVmFsaWRhdGlvbiBTdGF0dXMgSW5kaWNhdG9ycyAqL31cbiAgICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gMSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzbTptdC02XCI+XG4gICAgICAgICAgICAgICAgeyFjYW5Qcm9jZWVkRnJvbVN0ZXAxKCkgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgcm91bmRlZC1mdWxsIGJnLXllbGxvdy01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGRcIj4hPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTcwMCBmb250LW1lZGl1bSB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUGxlYXNlIHNlbGVjdCBlaXRoZXIgXCJDcmVhdGUgTmV3IFF1b3RlXCIgb3IgXCJCYXNlZCBvbiBQcmV2aW91cyBRdW90ZVwiIHRvIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IHJvdW5kZWQtZnVsbCBiZy1ncmVlbi01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGRcIj7inJM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi03MDAgZm9udC1tZWRpdW0gdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtxdW90ZU1vZGUgPT09IFwibmV3XCIgPyBcIk5ldyBxdW90ZSBtb2RlIHNlbGVjdGVkLiBZb3UgY2FuIHByb2NlZWQgdG8gdGhlIG5leHQgc3RlcC5cIiA6IFwiRXhpc3RpbmcgcXVvdGUgbW9kZSBzZWxlY3RlZC4gWW91IGNhbiBwcm9jZWVkIHRvIHRoZSBuZXh0IHN0ZXAuXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge2N1cnJlbnRTdGVwID09PSAzICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHNtOm10LTZcIj5cbiAgICAgICAgICAgICAgICB7IWNhblByb2NlZWRGcm9tU3RlcDMoKSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmcteWVsbG93LTUwIGJvcmRlciBib3JkZXIteWVsbG93LTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSByb3VuZGVkLWZ1bGwgYmcteWVsbG93LTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZFwiPiE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNzAwIGZvbnQtbWVkaXVtIHRleHQtc20gc206dGV4dC1iYXNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCIgJiYgIXNlbGVjdGVkUXVvdGVJZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlBsZWFzZSBzZWxlY3QgYSBzcGVjaWZpYyBxdW90ZSB0byBlZGl0IGZpcnN0LlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBwYXBlciBmb3IgeW91ciBwcm9kdWN0cyB0byBjb250aW51ZS4gVXNlIHRoZSBcXFwiQnJvd3NlIEF2YWlsYWJsZSBQYXBlcnNcXFwiIGJ1dHRvbiB0byBhZGQgcGFwZXJzIGZyb20gdGhlIGRhdGFiYXNlLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IHJvdW5kZWQtZnVsbCBiZy1ncmVlbi01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGRcIj7inJM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi03MDAgZm9udC1tZWRpdW0gdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlF1b3RlIGxvYWRlZCBhbmQgcGFwZXIgc2VsZWN0aW9uIGNvbXBsZXRlLiBZb3UgY2FuIG5vdyBwcm9jZWVkIHRvIHRoZSBvcGVyYXRpb25hbCBzdGVwLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJQYXBlciBzZWxlY3Rpb24gY29tcGxldGUuIFlvdSBjYW4gbm93IHByb2NlZWQgdG8gdGhlIG9wZXJhdGlvbmFsIHN0ZXAuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggc206bXQtMTIgcHQtNiBzbTpwdC04IGJvcmRlci10IGJvcmRlci1zbGF0ZS0yMDAgZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHNwYWNlLXktNCBzbTpzcGFjZS15LTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvXCI+XG4gICAgICAgICAgICAgICAge2N1cnJlbnRTdGVwID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJldlN0ZXB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci1zbGF0ZS0zMDAgaG92ZXI6Ym9yZGVyLXNsYXRlLTQwMCBob3ZlcjpiZy1zbGF0ZS01MCBweC02IHNtOnB4LTggcHktMyByb3VuZGVkLXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCB3LWZ1bGwgc206dy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUHJldmlvdXNcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7Y3VycmVudFN0ZXAgPCA1ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBzbTp3LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17bmV4dFN0ZXB9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc05leHRCdXR0b25EaXNhYmxlZCgpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC02IHNtOnB4LTggcHktMyByb3VuZGVkLXhsIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHctZnVsbCBzbTp3LWF1dG8gJHtcbiAgICAgICAgICAgICAgICAgICAgICBpc05leHRCdXR0b25EaXNhYmxlZCgpIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWdyYXktNDAwIGN1cnNvci1ub3QtYWxsb3dlZFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLVsjMjdhYWUxXSBob3ZlcjpiZy1bIzFlOGJjM10gdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgICAgICAgaXNOZXh0QnV0dG9uRGlzYWJsZWQoKSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3VycmVudFN0ZXAgPT09IDEgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJQbGVhc2Ugc2VsZWN0IGEgcXVvdGUgbW9kZSB0byBjb250aW51ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudFN0ZXAgPT09IDIgJiYgcXVvdGVNb2RlID09PSBcImV4aXN0aW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlBsZWFzZSBzZWxlY3QgYSBzcGVjaWZpYyBxdW90ZSB0byBlZGl0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50U3RlcCA9PT0gMyAmJiBxdW90ZU1vZGUgPT09IFwiZXhpc3RpbmdcIiAmJiAhc2VsZWN0ZWRRdW90ZUlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJQbGVhc2Ugc2VsZWN0IGEgc3BlY2lmaWMgcXVvdGUgdG8gZWRpdCBmaXJzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudFN0ZXAgPT09IDNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHBhcGVyIGZvciB5b3VyIHByb2R1Y3RzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlBsZWFzZSBjb21wbGV0ZSB0aGUgcmVxdWlyZWQgaW5mb3JtYXRpb24gdG8gY29udGludWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIkNsaWNrIHRvIHByb2NlZWQgdG8gdGhlIG5leHQgc3RlcFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTmV4dFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICB7aXNOZXh0QnV0dG9uRGlzYWJsZWQoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgbWItMiBweC0zIHB5LTIgYmctZ3JheS04MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIHJvdW5kZWQtbGcgc2hhZG93LWxnIHdoaXRlc3BhY2Utbm93cmFwIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFN0ZXAgPT09IDEgXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2VsZWN0IGEgcXVvdGUgbW9kZSBmaXJzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnRTdGVwID09PSAyICYmIHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiU2VsZWN0IGEgc3BlY2lmaWMgcXVvdGUgdG8gZWRpdCBmaXJzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnRTdGVwID09PSAzICYmIHF1b3RlTW9kZSA9PT0gXCJleGlzdGluZ1wiICYmICFzZWxlY3RlZFF1b3RlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTZWxlY3QgYSBzcGVjaWZpYyBxdW90ZSB0byBlZGl0IGZpcnN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudFN0ZXAgPT09IDNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJTZWxlY3QgYXQgbGVhc3Qgb25lIHBhcGVyIGZpcnN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJDb21wbGV0ZSByZXF1aXJlZCBmaWVsZHMgZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC1mdWxsIGxlZnQtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXgtMS8yIHctMCBoLTAgYm9yZGVyLWwtNCBib3JkZXItci00IGJvcmRlci10LTQgYm9yZGVyLXRyYW5zcGFyZW50IGJvcmRlci10LWdyYXktODAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gNSAmJiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2F2ZVF1b3RlKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NhdmluZ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLVsjMjdhYWUxXSBob3ZlcjpiZy1bIzFlOGJjM10gdGV4dC13aGl0ZSBweC02IHNtOnB4LTggcHktMyByb3VuZGVkLXhsIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHctZnVsbCBzbTp3LWF1dG9cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc1NhdmluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC01IHctNSBib3JkZXItYi0yIGJvcmRlci13aGl0ZSBtci0yXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgU3VibWl0dGluZy4uLlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBTdWJtaXQgUXVvdGVcbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgIHtzYXZlTW9kYWxPcGVuICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTJ4bCBwLTYgc206cC04IHctZnVsbCBtYXgtdy1tZCB0ZXh0LWNlbnRlciBzaGFkb3ctMnhsXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIHNtOnRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgUXVvdGUgU3VibWl0dGVkIFN1Y2Nlc3NmdWxseSFcbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS02MDAgbWItNiB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPlxuICAgICAgICAgICAgICAgIHtyZXF1aXJlc0FwcHJvdmFsIFxuICAgICAgICAgICAgICAgICAgPyBcIllvdXIgcXVvdGUgaGFzIGJlZW4gc3VibWl0dGVkIGZvciBtYW5hZ2VtZW50IGFwcHJvdmFsIGFuZCB3aWxsIGFwcGVhciBpbiB0aGUgUXVvdGUgTWFuYWdlbWVudCBwYWdlIG9uY2UgYXBwcm92ZWQuXCJcbiAgICAgICAgICAgICAgICAgIDogXCJZb3VyIHF1b3RlIGhhcyBiZWVuIHN1Ym1pdHRlZCBhbmQgd2lsbCBhcHBlYXIgaW4gdGhlIFF1b3RlIE1hbmFnZW1lbnQgcGFnZS5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAge3JlcXVpcmVzQXBwcm92YWwgJiYgYXBwcm92YWxSZWFzb24gJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBwLTQgYmctb3JhbmdlLTUwIGJvcmRlciBib3JkZXItb3JhbmdlLTIwMCByb3VuZGVkLXhsXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBiZy1vcmFuZ2UtNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGRcIj4hPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LW9yYW5nZS04MDBcIj5BcHByb3ZhbCBSZXF1aXJlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1vcmFuZ2UtNzAwIHRleHQtc21cIj57YXBwcm92YWxSZWFzb259PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1vcmFuZ2UtNjAwIHRleHQteHMgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICBNYW5hZ2VtZW50IHdpbGwgYmUgbm90aWZpZWQgYXV0b21hdGljYWxseS4gWW91J2xsIHJlY2VpdmUgYW4gdXBkYXRlIG9uY2UgYXBwcm92ZWQuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICB7IXJlcXVpcmVzQXBwcm92YWwgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyNlYTA3OGJdIGhvdmVyOmJnLVsjZDQwNjdhXSB0ZXh0LXdoaXRlIHB5LTMgcm91bmRlZC14bCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2BtYWlsdG86JHtmb3JtRGF0YS5jbGllbnQuZW1haWx9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5kIHRvIEN1c3RvbWVyXG4gICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bI2Y4OWQxZF0gaG92ZXI6YmctWyNlODhhMGFdIHRleHQtd2hpdGUgcHktMyByb3VuZGVkLXhsIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZEN1c3RvbWVyRnJvbU1vZGFsfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgRG93bmxvYWQgZm9yIEN1c3RvbWVyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBPbmx5IHNob3cgT3BlcmF0aW9ucyBDb3B5IGRvd25sb2FkIGlmIGFwcHJvdmFsIGlzIG5vdCByZXF1aXJlZCAqL31cbiAgICAgICAgICAgICAgICB7IXJlcXVpcmVzQXBwcm92YWwgJiYgKFxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyMyN2FhZTFdIGhvdmVyOmJnLVsjMWU4YmMzXSB0ZXh0LXdoaXRlIHB5LTMgcm91bmRlZC14bCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURvd25sb2FkT3BzRnJvbU1vZGFsfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBEb3dubG9hZCBPcGVyYXRpb25zIENvcHlcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTYXZlTW9kYWxPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goXCIvXCIpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0zIHJvdW5kZWQteGwgYm9yZGVyLXNsYXRlLTMwMCBob3Zlcjpib3JkZXItc2xhdGUtNDAwIGhvdmVyOmJnLXNsYXRlLTQwMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENsb3NlICYgR28gdG8gRGFzaGJvYXJkXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gTWFpbiBjb21wb25lbnQgd2l0aCBTdXNwZW5zZSBib3VuZGFyeVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlUXVvdGVQYWdlKCkge1xuICByZXR1cm4gKFxuICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMzIgdy0zMiBib3JkZXItYi0yIGJvcmRlci1bIzI3YWFlMV0gbXgtYXV0b1wiPjwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1sZyB0ZXh0LXNsYXRlLTYwMFwiPkxvYWRpbmcgcXVvdGUgY3JlYXRpb24uLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfT5cbiAgICAgIDxDcmVhdGVRdW90ZUNvbnRlbnQgLz5cbiAgICA8L1N1c3BlbnNlPlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiU3VzcGVuc2UiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJCdXR0b24iLCJQbHVzIiwiU3BhcmtsZXMiLCJDb3B5IiwiRmlsZVRleHQiLCJTYXZlIiwiTGluayIsInVzZVJvdXRlciIsInVzZVNlYXJjaFBhcmFtcyIsIlN0ZXBJbmRpY2F0b3IiLCJTdGVwMkN1c3RvbWVyQ2hvb3NlIiwiU3RlcDJDdXN0b21lckRldGFpbCIsIlN0ZXAzUHJvZHVjdFNwZWMiLCJTdGVwNE9wZXJhdGlvbmFsIiwiU3RlcDVRdW90YXRpb24iLCJkb3dubG9hZEN1c3RvbWVyUGRmIiwiZG93bmxvYWRPcHNQZGYiLCJRVU9URV9ERVRBSUxTIiwiZGV0YWlsVG9Gb3JtIiwiRU1QVFlfQ0xJRU5UIiwiY2xpZW50VHlwZSIsImNvbXBhbnlOYW1lIiwiY29udGFjdFBlcnNvbiIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsImNvdW50cnlDb2RlIiwicm9sZSIsImFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsImFkZGl0aW9uYWxJbmZvIiwiQ3JlYXRlUXVvdGVDb250ZW50Iiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwiY3VycmVudFN0ZXAiLCJzZXRDdXJyZW50U3RlcCIsInF1b3RlTW9kZSIsInNldFF1b3RlTW9kZSIsInNhdmVNb2RhbE9wZW4iLCJzZXRTYXZlTW9kYWxPcGVuIiwiaXNTYXZpbmciLCJzZXRJc1NhdmluZyIsInJlcXVpcmVzQXBwcm92YWwiLCJzZXRSZXF1aXJlc0FwcHJvdmFsIiwiYXBwcm92YWxSZWFzb24iLCJzZXRBcHByb3ZhbFJlYXNvbiIsInNlbGVjdGVkQ3VzdG9tZXIiLCJzZXRTZWxlY3RlZEN1c3RvbWVyIiwic2VsZWN0ZWRRdW90ZUlkIiwic2V0U2VsZWN0ZWRRdW90ZUlkIiwiY3VzdG9tZXJTZWFyY2giLCJzZXRDdXN0b21lclNlYXJjaCIsInNob3dDdXN0b21lckxpc3QiLCJzZXRTaG93Q3VzdG9tZXJMaXN0IiwiZm9ybURhdGEiLCJzZXRGb3JtRGF0YSIsImNsaWVudCIsInByb2R1Y3RzIiwib3BlcmF0aW9uYWwiLCJwYXBlcnMiLCJmaW5pc2hpbmciLCJwbGF0ZXMiLCJ1bml0cyIsImltcHJlc3Npb25zIiwiY2FsY3VsYXRpb24iLCJiYXNlUHJpY2UiLCJtYXJnaW5BbW91bnQiLCJtYXJnaW5QZXJjZW50YWdlIiwic3VidG90YWwiLCJmaW5hbFN1YnRvdGFsIiwidmF0QW1vdW50IiwidG90YWxQcmljZSIsIm1haW5Qcm9kdWN0Iiwib3RoZXJRdWFudGl0aWVzIiwic2V0T3RoZXJRdWFudGl0aWVzIiwicHJldiIsImxlbmd0aCIsInByb2R1Y3ROYW1lIiwic2xpY2UiLCJjb25zb2xlIiwibG9nIiwic3RlcFBhcmFtIiwiZ2V0IiwiZWRpdFBhcmFtIiwic3RlcE51bWJlciIsInBhcnNlSW50IiwicHJvZHVjdHNGaW5pc2hpbmdDaGVjayIsInVzZU1lbW8iLCJtYXAiLCJwcm9kdWN0IiwiYWxsRmluaXNoaW5nTmFtZXMiLCJTZXQiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwidmFsaWRGaW5pc2hpbmciLCJmaWx0ZXIiLCJmIiwidW5kZWZpbmVkIiwiYmFzZU5hbWUiLCJpbmNsdWRlcyIsInNwbGl0IiwiYWRkIiwicHJvZHVjdEZpbmlzaGluZyIsInAiLCJmcm9tIiwiY3VycmVudE9wZXJhdGlvbmFsRmluaXNoaW5nIiwibmV3T3BlcmF0aW9uYWxGaW5pc2hpbmciLCJmaW5pc2hpbmdOYW1lIiwiZXhpc3RpbmdGaW5pc2hpbmciLCJmaW5kIiwibmFtZSIsInB1c2giLCJjb3N0IiwiZmlsdGVyZWRGaW5pc2hpbmciLCJoYXMiLCJNQVJHSU5fUEVSQ0VOVEFHRSIsIlZBVF9QRVJDRU5UQUdFIiwicGFwZXJDb3N0IiwicmVkdWNlIiwidG90YWwiLCJwcmljZVBlclNoZWV0IiwicHJpY2VQZXJQYWNrZXQiLCJzaGVldHNQZXJQYWNrZXQiLCJhY3R1YWxTaGVldHNOZWVkZWQiLCJlbnRlcmVkU2hlZXRzIiwiUExBVEVfQ09TVF9QRVJfUExBVEUiLCJwbGF0ZXNDb3N0IiwiYWN0dWFsVW5pdHNOZWVkZWQiLCJxdWFudGl0eSIsImZpbmlzaGluZ0Nvc3QiLCJpc1VzZWRCeUFueVByb2R1Y3QiLCJzb21lIiwiYmFzZVByaWNlUGVyVW5pdCIsImFkZGl0aW9uYWxDb3N0c1RvdGFsIiwiYWRkaXRpb25hbENvc3RzIiwidG90YWxCYXNlUHJpY2UiLCJuZXh0U3RlcCIsInMiLCJNYXRoIiwibWluIiwicHJldlN0ZXAiLCJtYXgiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwibWFpbkNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsImNhblByb2NlZWRGcm9tU3RlcDEiLCJjYW5Qcm9jZWVkRnJvbVN0ZXAyIiwiZXNzZW50aWFsRmllbGRzIiwiYmFzaWNGaWVsZHNWYWxpZCIsImV2ZXJ5IiwiZmllbGQiLCJ0cmltIiwidHJuVmFsaWQiLCJoYXNOb1RybiIsInRybiIsImFyZWFWYWxpZCIsImFyZWEiLCJzdGF0ZVZhbGlkIiwiY291bnRyeVZhbGlkIiwiY2FuUHJvY2VlZEZyb21TdGVwMyIsInByb2R1Y3RzQ291bnQiLCJpbmRleCIsInBhcGVyc0NvdW50IiwicGFwZXIiLCJwSW5kZXgiLCJnc20iLCJpc1ZhbGlkIiwiaGFzVmFsaWRQYXBlciIsImlzTmV4dEJ1dHRvbkRpc2FibGVkIiwiZGlzYWJsZWQiLCJoYW5kbGVTdGFydE5ldyIsImNsZWFuQ2xpZW50IiwiZW1haWxzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm5ld0Zvcm1EYXRhIiwiaGFuZGxlU2VsZWN0UXVvdGUiLCJxIiwiZGV0YWlsIiwiaWQiLCJoYW5kbGVTZWxlY3RDdXN0b21lciIsImN1c3RvbWVyIiwiaGFuZGxlRWRpdEN1c3RvbWVyIiwiaGFuZGxlQ3VzdG9tZXJTZWxlY3QiLCJwaG9uZVZhbHVlIiwicXVvdGVzUmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJhbGxRdW90ZXMiLCJqc29uIiwiY2xpZW50UXVvdGVzIiwicXVvdGUiLCJjbGllbnRJZCIsInF1b3RlR3JvdXBzIiwiZ3JvdXBzIiwicXVvdGVJZCIsImxhdGVzdFF1b3RlSWQiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImEiLCJiIiwiZGF0ZUEiLCJEYXRlIiwiZGF0ZSIsImRhdGVCIiwiZ2V0VGltZSIsImxhdGVzdFF1b3RlcyIsImZpcnN0UXVvdGUiLCJjb2xvcnMiLCJwYXJzZSIsImUiLCJ3YXJuIiwiYWxsUGFwZXJzIiwicGFwZXJOYW1lIiwicGFwZXJHc20iLCJTdHJpbmciLCJjbGVhblBhcGVyTmFtZSIsInJlcGxhY2UiLCJleGlzdGluZ1BhcGVyIiwiYXAiLCJhbGxGaW5pc2hpbmciLCJub3JtYWxpemVkTmFtZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwidG9Mb3dlckNhc2UiLCJzaWRlcyIsInRvdGFsUXVvdGVzIiwicmF3RmluaXNoaW5nRnJvbURCIiwicHJpbnRpbmdTZWxlY3Rpb24iLCJwcmludGluZyIsImZsYXRTaXplIiwid2lkdGgiLCJmbGF0U2l6ZVdpZHRoIiwiaGVpZ2h0IiwiZmxhdFNpemVIZWlnaHQiLCJzcGluZSIsImZsYXRTaXplU3BpbmUiLCJjbG9zZVNpemUiLCJjbG9zZVNpemVXaWR0aCIsImNsb3NlU2l6ZUhlaWdodCIsImNsb3NlU2l6ZVNwaW5lIiwidXNlU2FtZUFzRmxhdCIsImVycm9yIiwibWFwQ29sb3JUb0Ryb3Bkb3duT3B0aW9uIiwiY29sb3JEZXNjIiwiZGVzYyIsImhhbmRsZVF1b3RlU2VsZWN0IiwiZGVmYXVsdEZsYXRTaXplIiwiZGVmYXVsdENsb3NlU2l6ZSIsIm1hcHBlZEZyb250Q29sb3IiLCJmcm9udCIsIm1hcHBlZEJhY2tDb2xvciIsImJhY2siLCJtYXBwZWRGaW5pc2hpbmciLCJlbnN1cmVGaW5pc2hpbmdEYXRhTG9hZGVkIiwib3JpZ2luYWxGaW5pc2hpbmciLCJzZXRUaW1lb3V0IiwicHJldkRhdGEiLCJpZHgiLCJmaW5pc2hpbmdOYW1lcyIsImdldEN1cnJlbnRVc2VySWQiLCJyZXNwb25zZSIsInVzZXJzIiwidmFsaWRhdGVGb3JtRGF0YSIsImVycm9ycyIsImhhc0NvbnRhY3RQZXJzb24iLCJoYXNGdWxsTmFtZSIsImhhc1BhcnRpYWxBZGRyZXNzIiwiaGFzQ29tcGxldGVBZGRyZXNzIiwiYWxlcnQiLCJqb2luIiwidmFsaWRhdGVBbmRDbGVhblF1b3RlRGF0YSIsImRhdGEiLCJjbGVhbmVkRGF0YSIsImNyZWF0ZSIsImlucHV0V2lkdGgiLCJOdW1iZXIiLCJpbnB1dEhlaWdodCIsInJlY29tbWVuZGVkU2hlZXRzIiwib3V0cHV0V2lkdGgiLCJvdXRwdXRIZWlnaHQiLCJzZWxlY3RlZENvbG9ycyIsImZpbmlzaCIsImFtb3VudHMiLCJiYXNlIiwidmF0Iiwic3RhdHVzIiwidXNlcklkIiwic2FsZXNQZXJzb25JZCIsImhhbmRsZVNhdmVRdW90ZSIsImlzVXBkYXRlIiwibmVlZHNGb3JtVXBkYXRlIiwidXBkYXRlZENsaWVudCIsImNsaWVudFRvVmFsaWRhdGUiLCJjbGllbnREYXRhIiwiY2xpZW50UmVzcG9uc2UiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImVycm9yVGV4dCIsInRleHQiLCJuZXdDbGllbnQiLCJuZXdDdXN0b21lckRhdGEiLCJjdXJyZW50VXNlcklkIiwiZm9ybURhdGFDbGllbnQiLCJxdW90ZURhdGEiLCJxdW90ZVJlc3BvbnNlIiwic2F2ZWRRdW90ZSIsInVwZGF0ZURhdGEiLCJvcGVyYXRpb25hbFBhcGVyIiwicHJvZHVjdFBhcGVyIiwiY2xlYW5lZFVwZGF0ZURhdGEiLCJub3ciLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwicmFuZG9tTnVtIiwiZmxvb3IiLCJyYW5kb20iLCJjb21wbGV0ZVF1b3RlRGF0YSIsImNsZWFuZWRRdW90ZURhdGEiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiYWN0aW9uIiwiaGFuZGxlRG93bmxvYWRDdXN0b21lckZyb21Nb2RhbCIsImhhbmRsZURvd25sb2FkT3BzRnJvbU1vZGFsIiwiaGFuZGxlQ2xvc2VBbmRHb0hvbWUiLCJoYW5kbGVBcHByb3ZhbFN0YXR1c0NoYW5nZSIsIm5lZWRzQXBwcm92YWwiLCJyZWFzb24iLCJyZW5kZXJTdGVwQ29udGVudCIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwib25DbGljayIsIm9uQ3VzdG9tZXJTZWxlY3QiLCJvblF1b3RlU2VsZWN0IiwiaDQiLCJzcGFuIiwib25PcGVuU2F2ZSIsImlzRWRpdE1vZGUiLCJvblN1Ym1pdFF1b3RlIiwidXBkYXRlZEZvcm1EYXRhIiwib25BcHByb3ZhbFN0YXR1c0NoYW5nZSIsImFjdGl2ZVN0ZXAiLCJ2YXJpYW50IiwidGl0bGUiLCJocmVmIiwiQ3JlYXRlUXVvdGVQYWdlIiwiZmFsbGJhY2siXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(root)/create-quote/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/create-quote/steps/Step4Operational.tsx":
/*!************************************************************!*\
  !*** ./components/create-quote/steps/Step4Operational.tsx ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



;
    // Wrapped in an IIFE to avoid polluting the global scope
    ;
    (function () {
        var _a, _b;
        // Legacy CSS implementations will `eval` browser code in a Node.js context
        // to extract CSS. For backwards compatibility, we need to check we're in a
        // browser context before continuing.
        if (typeof self !== 'undefined' &&
            // AMP / No-JS mode does not inject these helpers:
            '$RefreshHelpers$' in self) {
            // @ts-ignore __webpack_module__ is global
            var currentExports = module.exports;
            // @ts-ignore __webpack_module__ is global
            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;
            // This cannot happen in MainTemplate because the exports mismatch between
            // templating and execution.
            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);
            // A module can be accepted automatically based on its exports, e.g. when
            // it is a Refresh Boundary.
            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
                // Save the previous exports signature on update so we can compare the boundary
                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)
                module.hot.dispose(function (data) {
                    data.prevSignature =
                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);
                });
                // Unconditionally accept an update to this module, we'll check if it's
                // still a Refresh Boundary later.
                // @ts-ignore importMeta is replaced in the loader
                module.hot.accept();
                // This field is set when the previous version of this module was a
                // Refresh Boundary, letting us know we need to check for invalidation or
                // enqueue an update.
                if (prevSignature !== null) {
                    // A boundary can become ineligible if its exports are incompatible
                    // with the previous exports.
                    //
                    // For example, if you add/remove/change exports, we'll want to
                    // re-execute the importing modules, and force those components to
                    // re-render. Similarly, if you convert a class component to a
                    // function, we want to invalidate the boundary.
                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {
                        module.hot.invalidate();
                    }
                    else {
                        self.$RefreshHelpers$.scheduleUpdate();
                    }
                }
            }
            else {
                // Since we just executed the code for the module, it's possible that the
                // new exports made it ineligible for being a boundary.
                // We only care about the case when we were _previously_ a boundary,
                // because we already accepted this update (accidental side effect).
                var isNoLongerABoundary = prevSignature !== null;
                if (isNoLongerABoundary) {
                    module.hot.invalidate();
                }
            }
        }
    })();


/***/ })

});